{"version":3,"file":"index.js","mappings":"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;;;GAIG;AACH,IAAM,mBAAmB,GAAG;IAC1B,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG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rE;AACA;AACA;AACA;AACA;;;;;;ACfa;;AAEb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA,gDAAgD;AAChD;AACA;AACA,qFAAqF;AACrF;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,iBAAiB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,qBAAqB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,sFAAsF,qBAAqB;AAC3G;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,iDAAiD,qBAAqB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,sDAAsD,qBAAqB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;UCpFA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;;;;UEAA;UACA;UACA;UACA","sources":["webpack://seqviz/webpack/universalModuleDefinition","webpack://seqviz/./src/index.ts","webpack://seqviz/external commonjs \"react\"","webpack://seqviz/external commonjs \"react-dom\"","webpack://seqviz/external commonjs \"react-dom/server\"","webpack://seqviz/./src/SeqViz.tsx","webpack://seqviz/external commonjs \"seqparse\"","webpack://seqviz/./src/SeqViewerContainer.tsx","webpack://seqviz/external commonjs \"react-resize-detector\"","webpack://seqviz/./src/Circular/Circular.tsx","webpack://seqviz/./src/centralIndexContext.ts","webpack://seqviz/./src/elementsToRows.ts","webpack://seqviz/./src/isEqual.ts","webpack://seqviz/./src/Circular/Annotations.tsx","webpack://seqviz/./src/colors.ts","webpack://seqviz/./src/pSBC.ts","webpack://seqviz/./src/Circular/CutSites.tsx","webpack://seqviz/./src/Circular/Find.tsx","webpack://seqviz/./src/Circular/Index.tsx","webpack://seqviz/./src/Circular/Labels.tsx","webpack://seqviz/./src/Circular/WrappedGroupLabel.tsx","webpack://seqviz/./src/Circular/Selection.tsx","webpack://seqviz/./src/selectionContext.ts","webpack://seqviz/./src/EventHandler.tsx","webpack://seqviz/./src/debounce.ts","webpack://seqviz/./src/Linear/Linear.tsx","webpack://seqviz/./src/sequence.ts","webpack://seqviz/./src/randomid.ts","webpack://seqviz/./src/Linear/InfiniteScroll.tsx","webpack://seqviz/./src/Linear/SeqBlock.tsx","webpack://seqviz/./src/Linear/Annotations.tsx","webpack://seqviz/./src/Linear/CutSites.tsx","webpack://seqviz/./src/Linear/Find.tsx","webpack://seqviz/./src/Linear/Highlights.tsx","webpack://seqviz/./src/Linear/Index.tsx","webpack://seqviz/./src/Linear/Selection.tsx","webpack://seqviz/./src/Linear/Translations.tsx","webpack://seqviz/./src/SelectionHandler.tsx","webpack://seqviz/./src/digest.ts","webpack://seqviz/./src/enzymes.ts","webpack://seqviz/./src/search.ts","webpack://seqviz/./src/SeqViz.css?ce96","webpack://seqviz/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://seqviz/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://seqviz/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://seqviz/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://seqviz/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://seqviz/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://seqviz/./src/SeqViz.css","webpack://seqviz/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://seqviz/./node_modules/css-loader/dist/runtime/api.js","webpack://seqviz/webpack/bootstrap","webpack://seqviz/webpack/runtime/compat get default export","webpack://seqviz/webpack/runtime/define property getters","webpack://seqviz/webpack/runtime/hasOwnProperty shorthand","webpack://seqviz/webpack/runtime/make namespace object","webpack://seqviz/webpack/runtime/nonce","webpack://seqviz/webpack/before-startup","webpack://seqviz/webpack/startup","webpack://seqviz/webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"seqviz\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"seqviz\"] = factory();\n\telse\n\t\troot[\"seqviz\"] = factory();\n})(this, () => {\nreturn ","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { renderToString as reactRenderToString } from \"react-dom/server\";\n\nimport SeqViz, { SeqVizProps } from \"./SeqViz\";\nimport \"./SeqViz.css\";\nimport enzymes from \"./enzymes\";\n\n/**\n * Export a React component directly for React-based development\n */\nexport { SeqViz, enzymes as Enzymes };\n\nexport default SeqViz;\n\nexport type { SeqVizProps } from \"./SeqViz\";\n\n/**\n * Return a Viewer object with three properties:\n *  - `render` to an HTML element\n *  - `setState(options)` to update the viewer's internal state\n *  - `renderToString` to return an HTML representation of the Viewer\n */\nconst Viewer = (element: string | HTMLElement = \"root\", options: SeqVizProps) => {\n  // used to keep track of whether to re-render after a \"set\" call\n  let rendered = false;\n  // get the HTML element by ID or use as is if passed directly\n  let domElement: HTMLElement | null;\n  if (!document) return;\n\n  if (typeof element === \"string\") {\n    if (document.getElementById(element)) {\n      domElement = document.getElementById(element);\n    } else {\n      throw new Error(`Failed to find an element with ID: ${element}`);\n    }\n  } else {\n    domElement = element;\n  }\n  let viewer = React.createElement(SeqViz, options, null);\n\n  /**\n   * Render the Viewer to the element passed\n   */\n  const render = () => {\n    rendered = true;\n    ReactDOM.render(viewer, domElement);\n    return viewer;\n  };\n\n  /**\n   * Return an HTML string representation of the viewer\n   */\n  const renderToString = () => {\n    return reactRenderToString(viewer);\n  };\n\n  /**\n   * Update the viewer with new settings. Re-renders if render was already called.\n   */\n  const setState = (state: SeqVizProps) => {\n    options = { ...options, ...state };\n    viewer = React.createElement(SeqViz, options, null);\n\n    if (rendered) {\n      ReactDOM.render(viewer, domElement);\n    }\n    return viewer;\n  };\n\n  return {\n    render,\n    renderToString,\n    setState,\n  };\n};\n\nexport { Viewer };\n","module.exports = require(\"react\");","module.exports = require(\"react-dom\");","module.exports = require(\"react-dom/server\");","import * as React from \"react\";\nimport seqparse, { ParseOptions } from \"seqparse\";\n\nimport SeqViewerContainer from \"./SeqViewerContainer\";\nimport { COLORS, colorByIndex } from \"./colors\";\nimport digest from \"./digest\";\nimport {\n  Annotation,\n  AnnotationProp,\n  CutSite,\n  Enzyme,\n  Highlight,\n  HighlightProp,\n  NameRange,\n  Range,\n  SeqType,\n} from \"./elements\";\nimport isEqual from \"./isEqual\";\nimport randomid from \"./randomid\";\nimport search from \"./search\";\nimport { Selection } from \"./selectionContext\";\nimport { complement, directionality, guessType } from \"./sequence\";\n\n/** `SeqViz` props. See the README for more details. One of `seq`, `file` or `accession` is required. */\nexport interface SeqVizProps {\n  /**\n   * an NCBI or iGEM accession to retrieve a sequence using\n   *\n   * @deprecated use `...seqparse.parse(accession)` to fetch and parse the accession to SeqViz props\n   */\n  accession?: string;\n\n  /** a list of annotations to render to the viewer */\n  annotations?: AnnotationProp[];\n\n  /**\n   * an iGEM backbone to render within the viewer\n   *\n   * @deprecated append `backbone` to `props.seq`\n   */\n  backbone?: string;\n\n  /** nucleotides keyed by symbol or index and the color to apply to it */\n  bpColors?: { [key: number | string]: string };\n\n  /** a list of colors to populate un-colored annotations with. HEX, RGB, names are supported */\n  colors?: string[];\n\n  /** the complementary sequence to `seq`. Inferred by default. Ignored if `seqType: \"aa\"` */\n  compSeq?: string;\n\n  /** a callback that is applied within SeqViz on each keyboard event. If it returns truthy, the currently selected seq is copied */\n  copyEvent?: (event: React.KeyboardEvent<HTMLElement>) => boolean;\n\n  /** a list of enzymes or enzyme names to digest the sequence with. see seqviz.Enzymes */\n  enzymes?: (Enzyme | string)[];\n\n  /**\n   * a map from enzyme name to definition for custom enzymes not already supported\n   *\n   * @deprecated use `enzymes` for custom enzymes\n   */\n  enzymesCustom?: {\n    [key: string]: Enzyme;\n  };\n\n  /**\n   * a file to parse and render. Genbank, FASTA, SnapGene, JBEI, SBOLv1/2, ab1, and SeqBuilder formats are supported\n   *\n   * @deprecated use `...seqparse.parse(file)` outside of SeqViz to parse a file to SeqViz props\n   */\n  file?: string | File;\n\n  /**\n   * ranges of the viewer to highlight.\n   *\n   * @deprecated use `highlights`\n   */\n  highlightedRegions?: HighlightProp[];\n\n  /** ranges of sequence to highlight on the viewer */\n  highlights?: HighlightProp[];\n\n  /** the name of the sequence to show in the middle of the circular viewer */\n  name?: string;\n\n  // callback when the height for each annotation row is calculated\n  onAnnotationStartHeightsCalculated?: (annotationStartHeights: { [key: string]: number }) => void;\n\n  /** a callback that's executed on each change to the search parameters or sequence */\n  onSearch?: (search: Range[]) => void;\n\n  /** a callback that's executed on each click of the sequence viewer. Selection includes meta about the selected element */\n  onSelection?: (selection: Selection) => void;\n\n  /** whether the circular viewer should rotate when the mouse scrolls over the plasmid */\n  rotateOnScroll?: boolean;\n\n  /** search parameters. Matched sequences on the viewer are highlighted and selectable. */\n  search?: {\n    mismatch?: number;\n    query: string;\n  };\n\n  /**\n   * Externally managed selection.\n   *\n   * If passed, SeqViz uses this prop as the selection range, rather than the internally managed selection */\n  selection?: {\n    clockwise?: boolean;\n    end: number;\n    start: number;\n  };\n\n  /** a sequence to render. Can be DNA, RNA, or an amino acid sequence. Setting accession or file overrides this */\n  seq?: string;\n\n  /** the type of the sequence. If this isn't passed, the type is guessed */\n  seqType?: \"dna\" | \"rna\" | \"aa\";\n\n  /** the subsequence start/end to render */\n  subseq?: { start: number; end: number };\n\n  /**\n   * whether to render the annotation rows\n   *\n   * @deprecated to avoid rendering annotations, don't pass any\n   */\n  showAnnotations?: boolean;\n\n  /** whether to render the complement sequence */\n  showComplement?: boolean;\n\n  /** whether to show the index row with ticks and indexes  */\n  showIndex?: boolean;\n\n  /** extra style props to apply to the outermost div of SeqViz */\n  style?: Record<string, unknown>;\n\n  /** ranges of sequence that should have amino acid translations shown */\n  translations?: { direction?: number; end: number; start: number }[];\n\n  /** the orientation of the viewer(s). \"both\", the default, has a circular viewer on left and a linear viewer on right. */\n  viewer?: \"linear\" | \"circular\" | \"both\" | \"both_flip\";\n\n  /** how large to make the sequence and elements [0,100]. A larger zoom increases the size of text and elements for that viewer. */\n  zoom?: {\n    /**\n     * how zoomed to make the circular viewer. default: 0\n     *\n     * @deprecated make a Github issue if this is a desired feature\n     */\n    circular?: number;\n\n    /** how zoomed to make the linear viewer. default: 50 */\n    linear?: number;\n  };\n}\n\nexport interface SeqVizState {\n  annotations: Annotation[];\n  compSeq: string;\n  cutSites: CutSite[];\n  name: string;\n  search: NameRange[];\n  seq: string;\n  seqType: SeqType;\n}\n\n/**\n * SeqViz is a viewer for rendering sequences in a linear and/or circular viewer.\n */\nexport default class SeqViz extends React.Component<SeqVizProps, SeqVizState> {\n  static defaultProps: SeqVizProps = {\n    accession: \"\",\n    annotations: [],\n    backbone: \"\",\n    bpColors: {},\n    colors: [],\n    compSeq: \"\",\n    copyEvent: e => e.key === \"c\" && (e.metaKey || e.ctrlKey),\n    enzymes: [],\n    enzymesCustom: {},\n    name: \"\",\n    onSearch: (_: Range[]) => null,\n    onSelection: (_: Selection) => null,\n    rotateOnScroll: true,\n    search: { mismatch: 0, query: \"\" },\n    seq: \"\",\n    showComplement: true,\n    showIndex: true,\n    style: {},\n    translations: [],\n    viewer: \"both\",\n    zoom: { circular: 0, linear: 50 },\n  };\n\n  constructor(props: SeqVizProps) {\n    super(props);\n\n    this.state = {\n      annotations: [],\n      compSeq: \"\",\n      cutSites: [],\n      name: \"\",\n      search: [],\n      seq: \"\",\n      seqType: \"unknown\",\n    };\n  }\n\n  /** Log caught errors. */\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\n    console.error(\"Error caught in SeqViz: %v %v\", error, errorInfo);\n  }\n\n  componentDidMount = async () => {\n    const input = await this.parseInput();\n\n    this.setState(input);\n    this.search(input.seq);\n    this.cut(input.seq, input.seqType);\n  };\n\n  /*\n   * Re-parse props to state if there are changes to:\n   * - seq/accession/file (this probably means we need to update the rest)\n   * - search input changes\n   * - enzymes change\n   * - annotations\n   *\n   * This is needed for the parse(accession) call that makes an async fetch to a remote repository\n   * https://reactjs.org/docs/react-component.html#componentdidupdate\n   */\n  componentDidUpdate = async (\n    // previous props\n    { accession = \"\", annotations, enzymes, enzymesCustom, file, search }: SeqVizProps,\n    // previous state\n    { seq, seqType }: SeqVizState\n  ) => {\n    // New accession or file provided, fetch and/or parse.\n    if (accession !== this.props.accession || file !== this.props.file || (this.props.seq && this.props.seq !== seq)) {\n      const input = await this.parseInput();\n      this.setState({\n        annotations: input.annotations,\n        compSeq: input.compSeq,\n        name: input.name,\n        seq: input.seq,\n        seqType: input.seqType,\n      });\n      this.search(seq);\n      this.cut(seq, input.seqType);\n      return;\n    }\n\n    // New search parameters provided.\n    if (\n      search &&\n      (!this.props.search || search.query !== this.props.search.query || search.mismatch !== this.props.search.mismatch)\n    ) {\n      this.search(seq); // new search parameters\n    }\n\n    // New digest parameters.\n    if (!isEqual(enzymes, this.props.enzymes) || !isEqual(enzymesCustom, this.props.enzymesCustom)) {\n      this.cut(seq, seqType);\n    }\n\n    // New annotations provided.\n    if (!isEqual(annotations, this.props.annotations)) {\n      this.setState({\n        annotations: this.parseAnnotations(this.props.annotations, this.props.seq),\n      });\n    }\n  };\n\n  /**\n   * If a file or accession were passed, parse it. This might be a call to a remote iGEM or NCBI server.\n   */\n  parseInput = async (): Promise<{\n    annotations: Annotation[];\n    compSeq: string;\n    name: string;\n    seq: string;\n    seqType: SeqType;\n  }> => {\n    const { accession, annotations, file, seq } = this.props;\n    const name = this.props.name || \"\";\n\n    // Fetch the seq if we need to get it from a remote repository\n    if (accession || file) {\n      // Add settings for source buffer and name (for SnapGene)\n      const parseOptions = {\n        cors: true,\n      } as ParseOptions;\n      if (file && file instanceof File) {\n        parseOptions.fileName = file.name;\n        parseOptions.source = await file.arrayBuffer();\n      }\n\n      // Parse a sequence file or accession\n      const parsed = await seqparse((accession || file || \"\").toString(), parseOptions);\n      const seqType = guessType(parsed.seq);\n      return {\n        annotations: this.parseAnnotations(parsed.annotations, parsed.seq),\n        compSeq: complement(parsed.seq, seqType).compSeq,\n        name: parsed.name,\n        seq: parsed.seq,\n        seqType,\n      };\n    } else if (seq) {\n      // Fill in default props just using the seq\n      const seqType = guessType(seq);\n      return {\n        annotations: this.parseAnnotations(annotations, seq),\n        compSeq: complement(seq, seqType).compSeq,\n        name,\n        seq,\n        seqType,\n      };\n    }\n    throw new Error(\"No 'seq', 'file', or 'accession' provided to SeqViz... Nothing to render\");\n  };\n\n  /**\n   * Search for the query sequence in the part sequence, set in state.\n   */\n  search = (seq: string) => {\n    const { onSearch, search: searchProp, seqType } = this.props;\n\n    if (!searchProp || !seq) {\n      return;\n    }\n\n    const results = search(searchProp.query, searchProp.mismatch, seq, seqType || guessType(seq));\n    if (isEqual(results, this.state.search)) {\n      return;\n    }\n\n    this.setState({ search: results });\n    onSearch && onSearch(results);\n  };\n\n  /**\n   * Find and save enzymes' cutsite locations.\n   */\n  cut = (seq: string, seqType: SeqType) => {\n    if (!seq.length) {\n      return; // TODO why is this happening\n    }\n\n    const { enzymes, enzymesCustom } = this.props;\n\n    if ((enzymes && enzymes.length) || (enzymesCustom && Object.keys(enzymesCustom).length)) {\n      this.setState({ cutSites: digest(seq || \"\", seqType, enzymes || [], enzymesCustom || {}) });\n    }\n  };\n\n  /**\n   * Fix annotations to add unique ids, fix directionality, and modulo the start and end of each.\n   */\n  parseAnnotations = (annotations: AnnotationProp[] | null = null, seq = \"\"): Annotation[] =>\n    (annotations || []).map((a, i) => ({\n      id: randomid(),\n      ...a,\n      color: a.color || colorByIndex(i, COLORS),\n      direction: directionality(a.direction),\n      end: a.end % (seq.length + 1),\n      start: a.start % (seq.length + 1),\n    }));\n\n  render() {\n    const { highlightedRegions, highlights, showComplement, showIndex, style, zoom } = this.props;\n    let { translations } = this.props;\n    const { compSeq, seq, seqType } = this.state;\n\n    // This is an unfortunate bit of seq checking. We could get a seq directly or from a file parsed to a part.\n    if (!seq) return <div className=\"la-vz-seqviz\" />;\n\n    if (seqType !== \"dna\" && seqType !== \"rna\" && translations && translations.length) {\n      // make the entire sequence the \"translation\"\n      // TODO: during some grand future refactor, make this cleaner and more transparent to the user\n      translations = [{ direction: 1, end: seq.length, start: 0 }];\n    }\n\n    // Since all the props are optional, we need to parse them to defaults.\n    const props = {\n      bpColors: this.props.bpColors || {},\n      copyEvent: this.props.copyEvent || (() => false),\n      cutSites: this.state.cutSites,\n      highlights: (highlights || []).concat(highlightedRegions || []).map(\n        (h, i): Highlight => ({\n          ...h,\n          direction: 1,\n          end: h.end % (seq.length + 1),\n          id: `highlight-${i}-${h.start}-${h.end}`,\n          name: \"\",\n          start: h.start % (seq.length + 1),\n        })\n      ),\n      onSelection:\n        this.props.onSelection ||\n        (() => {\n          // do nothing\n        }),\n      rotateOnScroll: !!this.props.rotateOnScroll,\n      showComplement: (!!compSeq && (typeof showComplement !== \"undefined\" ? showComplement : true)) || false,\n      showIndex: !!showIndex,\n      translations: (translations || []).map((t): { direction: 1 | -1; end: number; start: number } => ({\n        direction: t.direction ? (t.direction < 0 ? -1 : 1) : 1,\n        end: t.start + Math.floor((t.end - t.start) / 3) * 3,\n        start: t.start % seq.length,\n      })),\n      viewer: this.props.viewer || \"both\",\n      zoom: {\n        circular: typeof zoom?.circular == \"number\" ? Math.min(Math.max(zoom.circular, 0), 100) : 0,\n        linear: typeof zoom?.linear == \"number\" ? Math.min(Math.max(zoom.linear, 0), 100) : 50,\n      },\n    };\n\n    return (\n      <div className=\"la-vz-seqviz\" data-testid=\"la-vz-seqviz\" style={style}>\n        <SeqViewerContainer {...this.props} {...props} {...this.state} />\n      </div>\n    );\n  }\n}\n","module.exports = require(\"seqparse\");","import * as React from \"react\";\nimport { withResizeDetector } from \"react-resize-detector\";\n\nimport Circular from \"./Circular/Circular\";\nimport { EventHandler } from \"./EventHandler\";\nimport Linear from \"./Linear/Linear\";\nimport SelectionHandler from \"./SelectionHandler\";\nimport CentralIndexContext from \"./centralIndexContext\";\nimport { Annotation, CutSite, Highlight, NameRange, Range, SeqType } from \"./elements\";\nimport isEqual from \"./isEqual\";\nimport SelectionContext, { Selection, defaultSelection } from \"./selectionContext\";\n\n/**\n * This is the width in pixels of a character that's 12px\n * This will need to change whenever the css of the plasmid viewer text changes\n * just divide the width of some rectangular text by it's number of characters\n */\nexport const CHAR_WIDTH = 7.2;\n\ninterface SeqViewerContainerProps {\n  annotations: Annotation[];\n  bpColors: { [key: number | string]: string };\n  compSeq: string;\n  copyEvent: (event: React.KeyboardEvent<HTMLElement>) => boolean;\n  cutSites: CutSite[];\n  height: number;\n  highlights: Highlight[];\n  name: string;\n  onAnnotationStartHeightsCalculated?: (annotationStartHeights: { [key: string]: number }) => void;\n  onSelection: (selection: Selection) => void;\n  rotateOnScroll: boolean;\n  search: NameRange[];\n  selection?: {\n    clockwise?: boolean;\n    end: number;\n    start: number;\n  };\n  seq: string;\n  seqType: SeqType;\n  showComplement: boolean;\n  showIndex: boolean;\n  targetRef: React.LegacyRef<HTMLDivElement>;\n  /** testSize is a forced height/width that overwrites anything from sizeMe. For testing */\n  testSize?: { height: number; width: number };\n  translations: Range[];\n  viewer: \"linear\" | \"circular\" | \"both\" | \"both_flip\";\n  width: number;\n  zoom: { circular: number; linear: number };\n}\n\nexport interface SeqViewerContainerState {\n  centralIndex: {\n    circular: number;\n    linear: number;\n    setCentralIndex: (type: \"LINEAR\" | \"CIRCULAR\", value: number) => void;\n  };\n  selection: Selection;\n}\n\n/**\n * a parent sequence viewer component that holds whatever is common between\n * the linear and circular sequence viewers. The Header is an example\n */\nclass SeqViewerContainer extends React.Component<SeqViewerContainerProps, SeqViewerContainerState> {\n  constructor(props: SeqViewerContainerProps) {\n    super(props);\n\n    this.state = {\n      centralIndex: {\n        circular: 0,\n        linear: 0,\n        setCentralIndex: this.setCentralIndex,\n      },\n      selection: this.getSelection(defaultSelection, props.selection),\n    };\n  }\n\n  /** this is here because the size listener is returning a new \"size\" prop every time */\n  shouldComponentUpdate = (nextProps: SeqViewerContainerProps, nextState: any) =>\n    !isEqual(nextProps, this.props) || !isEqual(nextState, this.state);\n\n  /**\n   * Update the central index of the linear or circular viewer.\n   */\n  setCentralIndex = (type: \"LINEAR\" | \"CIRCULAR\", value: number) => {\n    if (type !== \"LINEAR\" && type !== \"CIRCULAR\") {\n      throw new Error(`Unknown central index type: ${type}`);\n    }\n\n    if (this.state.centralIndex[type.toLowerCase()] === value) {\n      return; // nothing changed\n    }\n\n    this.setState({ centralIndex: { ...this.state.centralIndex, [type.toLowerCase()]: value } });\n  };\n\n  /**\n   * Update selection in state. Should only be performed from handlers/selection.jsx\n   */\n  setSelection = (selection: Selection) => {\n    // If the user passed a selection, do not update our state here\n    const { parent, ref, ...rest } = selection;\n    if (!this.props.selection) this.setState({ selection });\n    if (this.props.onSelection) this.props.onSelection(rest);\n  };\n\n  /**\n   * Returns the selection that was either a prop (optional) or the selection maintained in state.\n   */\n  getSelection = (\n    state: Selection,\n    prop?: {\n      clockwise?: boolean;\n      end: number;\n      start: number;\n    }\n  ): Selection => {\n    if (prop) {\n      return { ...prop, clockwise: typeof prop.clockwise === \"undefined\" || !!prop.clockwise, type: \"\" };\n    }\n    return state;\n  };\n\n  /**\n   * given the width of the screen, and the current zoom, how many basepairs should be displayed\n   * on the screen at a given time and what should their size be\n   */\n  linearProps = () => {\n    const { seq, seqType, viewer } = this.props;\n    const size = this.props.testSize || { height: this.props.height, width: this.props.width };\n    const zoom = this.props.zoom.linear;\n\n    // hack\n    if (viewer.includes(\"both\")) {\n      size.width /= 2;\n    }\n\n    const seqFontSize = Math.min(Math.round(zoom * 0.1 + 9.5), 18); // max 18px\n\n    // otherwise the sequence needs to be cut into smaller subsequences\n    // a sliding scale in width related to the degree of zoom currently active\n    let bpsPerBlock = Math.round((size.width / seqFontSize) * 1.4) || 1; // width / 1 * seqFontSize\n    if (seqType === \"aa\") {\n      bpsPerBlock = Math.round(bpsPerBlock / 3); // more space for each amino acid\n    }\n\n    if (zoom <= 5) {\n      bpsPerBlock *= 3;\n    } else if (zoom <= 10) {\n      // really ramp up the range, since at this zoom it'll just be a line\n      bpsPerBlock *= 2;\n    } else if (zoom > 70) {\n      // keep font height the same but scale number of bps in one row\n      bpsPerBlock = Math.round(bpsPerBlock * (70 / zoom));\n    }\n    bpsPerBlock = Math.max(1, bpsPerBlock);\n\n    if (size.width && bpsPerBlock < seq.length) {\n      size.width -= 28; // -28 px for the padding (10px) + scroll bar (18px)\n    }\n\n    const charWidth = size.width / bpsPerBlock; // width of each basepair\n\n    const lineHeight = 1.4 * seqFontSize; // aspect ratio is 1.4 for roboto mono\n    const elementHeight = 16; // the height, in pixels, of annotations, ORFs, etc\n\n    return {\n      ...this.props,\n      bpsPerBlock,\n      charWidth,\n      elementHeight,\n      lineHeight,\n      seqFontSize,\n      size,\n      zoom: { linear: zoom },\n    };\n  };\n\n  /**\n   * given the length of the sequence and the dimensions of the viewbox, how should\n   * zoom of the plasmid viewer affect the radius of the circular viewer and its vertical shift\n   *\n   * minPixelPerBP = s / 50 where\n   * s = theta * radius where\n   * radius = h / 2 + c ^ 2 / 8 h    (https://en.wikipedia.org/wiki/Circular_segment)\n   * and theta = 50 / seqLength\n   */\n  circularProps = () => {\n    const {\n      seq: { length: seqLength },\n      viewer,\n    } = this.props;\n    const size = this.props.testSize || { height: this.props.height, width: this.props.width };\n    const zoom = this.props.zoom.circular;\n\n    // hack\n    if (viewer.includes(\"both\")) {\n      size.width /= 2;\n    }\n\n    const center = {\n      x: size.width / 2,\n      y: size.height / 2,\n    };\n\n    const limitingDim = Math.min(size.height, size.width);\n\n    const exp = 0.83; // exponent... greater exp leads to flatter curve (c in fig)\n    const beta = Math.exp(Math.log(50 / seqLength) / -(100 ** exp)); // beta coefficient (b in fig)\n    const bpsOnArc = seqLength * beta; // calc using the full expression\n\n    // scale the radius so only (bpsOnArc) many bps are shown\n    const radius = limitingDim * 0.34;\n\n    return {\n      ...this.props,\n      bpsOnArc,\n      center,\n      radius: radius === 0 ? 1 : radius,\n      size,\n      yDiff: 0,\n      zoom: { circular: zoom },\n    };\n  };\n\n  render() {\n    const { selection: selectionProp, seq, viewer } = this.props;\n    const { centralIndex, selection } = this.state;\n\n    const linearProps = this.linearProps();\n    const circularProps = this.circularProps();\n\n    return (\n      <div ref={this.props.targetRef} className=\"la-vz-viewer-container\" data-testid=\"la-vz-viewer-container\">\n        <CentralIndexContext.Provider value={centralIndex}>\n          <SelectionContext.Provider value={this.getSelection(selection, selectionProp)}>\n            <SelectionHandler\n              bpsPerBlock={linearProps.bpsPerBlock}\n              center={circularProps.center}\n              centralIndex={centralIndex.circular}\n              seq={seq}\n              setCentralIndex={this.setCentralIndex}\n              setSelection={this.setSelection}\n              yDiff={circularProps.yDiff}\n            >\n              {(inputRef, handleMouseEvent, onUnmount) => (\n                <EventHandler\n                  bpsPerBlock={linearProps.bpsPerBlock}\n                  copyEvent={this.props.copyEvent}\n                  handleMouseEvent={handleMouseEvent}\n                  selection={selection}\n                  seq={seq}\n                  setSelection={this.setSelection}\n                >\n                  {/* TODO: this sucks, some breaking refactor in future should get rid of it SeqViewer */}\n                  {viewer === \"linear\" && (\n                    <Linear\n                      {...linearProps}\n                      handleMouseEvent={handleMouseEvent}\n                      inputRef={inputRef}\n                      onUnmount={onUnmount}\n                    />\n                  )}\n                  {viewer === \"circular\" && (\n                    <Circular\n                      {...circularProps}\n                      handleMouseEvent={handleMouseEvent}\n                      inputRef={inputRef}\n                      onUnmount={onUnmount}\n                    />\n                  )}\n                  {viewer === \"both\" && (\n                    <>\n                      <Circular\n                        {...circularProps}\n                        handleMouseEvent={handleMouseEvent}\n                        inputRef={inputRef}\n                        onUnmount={onUnmount}\n                      />\n                      <Linear\n                        {...linearProps}\n                        handleMouseEvent={handleMouseEvent}\n                        inputRef={inputRef}\n                        onUnmount={onUnmount}\n                      />\n                    </>\n                  )}\n                  {viewer === \"both_flip\" && (\n                    <>\n                      <Linear\n                        {...linearProps}\n                        handleMouseEvent={handleMouseEvent}\n                        inputRef={inputRef}\n                        onUnmount={onUnmount}\n                      />\n                      <Circular\n                        {...circularProps}\n                        handleMouseEvent={handleMouseEvent}\n                        inputRef={inputRef}\n                        onUnmount={onUnmount}\n                      />\n                    </>\n                  )}\n                </EventHandler>\n              )}\n            </SelectionHandler>\n          </SelectionContext.Provider>\n        </CentralIndexContext.Provider>\n      </div>\n    );\n  }\n}\n\nexport default withResizeDetector(SeqViewerContainer);\n","module.exports = require(\"react-resize-detector\");","import * as React from \"react\";\n\nimport { InputRefFunc } from \"../SelectionHandler\";\nimport { CHAR_WIDTH } from \"../SeqViewerContainer\";\nimport CentralIndexContext from \"../centralIndexContext\";\nimport { Annotation, Coor, CutSite, Highlight, Range, Size } from \"../elements\";\nimport { stackElements } from \"../elementsToRows\";\nimport isEqual from \"../isEqual\";\nimport { Annotations } from \"./Annotations\";\nimport { CutSites } from \"./CutSites\";\nimport { Find } from \"./Find\";\nimport { Index } from \"./Index\";\nimport { Labels } from \"./Labels\";\nimport { Selection } from \"./Selection\";\n\n/** Sequence length cutoff below which the circular viewer's sequence won't be rendered. */\nexport const RENDER_SEQ_LENGTH_CUTOFF = 250;\n\nexport interface ILabel {\n  end: number;\n  id?: string;\n  name: string;\n  start: number;\n  type: \"enzyme\" | \"annotation\";\n}\n\n/** GenArcFunc is a method that makes an arc on the viewer for a Circular child. */\nexport type GenArcFunc = (args: {\n  arrowFWD?: boolean;\n  arrowREV?: boolean;\n  innerRadius: number;\n  largeArc: boolean;\n  length: number;\n  offset?: number;\n  outerRadius: number;\n  // see svg.arc large-arc-flag\n  sweepFWD?: boolean;\n}) => string;\n\ninterface CircularProps {\n  annotations: Annotation[];\n  center: { x: number; y: number };\n  compSeq: string;\n  cutSites: CutSite[];\n  handleMouseEvent: (e: any) => void;\n  highlights: Highlight[];\n  inputRef: InputRefFunc;\n  name: string;\n  onUnmount: (id: string) => void;\n  radius: number;\n  rotateOnScroll: boolean;\n  search: Range[];\n  seq: string;\n  showIndex: boolean;\n  size: Size;\n  yDiff: number;\n}\n\ninterface CircularState {\n  annotationsInRows: Annotation[][];\n  inlinedLabels: string[];\n  lineHeight: number;\n  outerLabels: ILabel[];\n  seqLength: number;\n}\n\n/** Circular is a circular viewer that contains a bunch of arcs. */\nexport default class Circular extends React.Component<CircularProps, CircularState> {\n  static contextType = CentralIndexContext;\n  static context: React.ContextType<typeof CentralIndexContext>;\n  declare context: React.ContextType<typeof CentralIndexContext>;\n\n  constructor(props: CircularProps) {\n    super(props);\n\n    this.state = {\n      annotationsInRows: [],\n      inlinedLabels: [],\n      lineHeight: 0,\n      outerLabels: [],\n      seqLength: 0,\n    };\n  }\n\n  static getDerivedStateFromProps = (nextProps: CircularProps): CircularState => {\n    const lineHeight = 14;\n    const annotationsInRows = stackElements(nextProps.annotations, nextProps.seq.length);\n\n    /**\n     * find the element labels that need to be rendered outside the plasmid. This is done for\n     * annotation names/etc for element titles that don't fit within the width of the element\n     * they represent. For example, an annotation might be named \"Transcription Factor XYZ\"\n     * but be only 20bps long on a plasmid that's 20k bps. Obviously that name doesn't fit.\n     * But, a gene that's 15k on the same plasmid shouldn't have it's label outside the plasmid\n     * when it can easily fit on top of the annotation itself\n     */\n    const seqLength = nextProps.seq.length;\n    const cutSiteLabels = nextProps.cutSites;\n    const { radius } = nextProps;\n    let innerRadius = radius - 3 * lineHeight;\n    const inlinedLabels: string[] = [];\n    const outerLabels: ILabel[] = [];\n    annotationsInRows.forEach((r: Annotation[]) => {\n      const circumf = innerRadius * Math.PI;\n      r.forEach(ann => {\n        // how large is the name of the annotation horizontally (with two char padding)\n        const annNameLengthPixels = (ann.name.length + 2) * CHAR_WIDTH;\n        // how large would part be if it were wrapped around the plasmid\n        let annLengthBases = ann.end - ann.start;\n        if (ann.start >= ann.end) annLengthBases += seqLength; // crosses zero-index\n        const annLengthPixels = 2 * circumf * (annLengthBases / seqLength);\n        if (annNameLengthPixels < annLengthPixels) {\n          inlinedLabels.push(ann.id);\n        } else {\n          const { end, id, name, start } = ann;\n          const type = \"annotation\";\n          outerLabels.push({ end, id, name, start, type });\n        }\n      });\n      innerRadius -= lineHeight;\n    });\n\n    cutSiteLabels.forEach(c =>\n      outerLabels.push({\n        ...c.enzyme,\n        ...c,\n        start: c.fcut,\n        type: \"enzyme\",\n      })\n    );\n\n    // sort all the labels so they're in ascending order\n    outerLabels.sort((a, b) => Math.min(a.start, a.end) - Math.min(b.start, b.end));\n\n    return {\n      annotationsInRows: annotationsInRows,\n      inlinedLabels: inlinedLabels,\n      lineHeight: lineHeight,\n      outerLabels: outerLabels,\n      seqLength: nextProps.seq.length,\n    };\n  };\n\n  /**\n   * Deep equality comparison\n   */\n  shouldComponentUpdate = (nextProps: CircularProps) => !isEqual(nextProps, this.props);\n\n  /**\n   * Return the SVG rotation transformation needed to put a child element in the\n   * correct location around the plasmid. This func makes use of the centralIndex field in parent state\n   * to rotate the plasmid viewer.\n   */\n  getRotation = (index: number): string => {\n    const { center } = this.props;\n    const { seqLength } = this.state;\n    const centralIndex = this.context.circular;\n\n    // how many degrees should it be rotated?\n    const adjustedIndex = index - centralIndex;\n    const startPerc = adjustedIndex / seqLength;\n    const degrees = startPerc * 360;\n\n    return `rotate(${degrees || 0}, ${center.x}, ${center.y})`;\n  };\n\n  /**\n   * Given an index along the plasmid and its radius, find the coordinate\n   * will be used in many of the child components\n   *\n   * In general, this is for lines and labels\n   */\n  findCoor = (index: number, radius: number, rotate?: boolean): Coor => {\n    const { center } = this.props;\n    const { seqLength } = this.state;\n    const rotatedIndex = rotate ? index - this.context.circular : index;\n    const lengthPerc = rotatedIndex / seqLength;\n    const lengthPercCentered = lengthPerc - 0.25;\n    const radians = lengthPercCentered * Math.PI * 2;\n    const xAdjust = Math.cos(radians) * radius;\n    const yAdjust = Math.sin(radians) * radius;\n\n    return {\n      x: center.x + xAdjust,\n      y: center.y + yAdjust,\n    };\n  };\n\n  /**\n   * Given a coordinate, and the degrees to rotate it, find the new coordinate\n   * (assuming that the rotation is around the center)\n   *\n   * in general this is for text and arcs\n   */\n  rotateCoor = (coor: Coor, degrees: number): Coor => {\n    const { center } = this.props;\n\n    // find coordinate's current angle\n    const angle = degrees * (Math.PI / 180); // degrees to radians\n    const cos = Math.cos(angle);\n    const sin = Math.sin(angle);\n\n    // find the new coordinate\n    const xDiff = coor.x - center.x;\n    const yDiff = coor.y - center.y;\n    const cosX = cos * xDiff;\n    const cosY = cos * yDiff;\n    const sinX = sin * xDiff;\n    const sinY = sin * yDiff;\n    const xAdjust = cosX - sinY;\n    const yAdjust = sinX + cosY;\n\n    return {\n      x: center.x + xAdjust,\n      y: center.y + yAdjust,\n    };\n  };\n\n  /**\n   * Given an inner and outer radius, and the length of the element, return the\n   * path for an arc that circles the plasmid. The optional paramters sweepFWD and sweepREV\n   * are needed for selection arcs (where the direction of the arc isn't known beforehand)\n   * and arrowFWD and arrowREV are needed for annotations, where there may be directionality\n   */\n  genArc: GenArcFunc = (args: {\n    arrowFWD?: boolean;\n    arrowREV?: boolean;\n    innerRadius: number;\n    largeArc: boolean;\n    length: number;\n    offset?: number;\n    outerRadius: number;\n    // see svg.arc large-arc-flag\n    sweepFWD?: boolean;\n  }): string => {\n    const { arrowFWD, arrowREV, innerRadius, largeArc, length, outerRadius, sweepFWD } = args;\n    const { radius } = this.props;\n    const { lineHeight, seqLength } = this.state;\n    const offset = args.offset === undefined ? 0 : args.offset;\n    // build up the six default coordinates\n    let leftBottom = this.findCoor(offset, innerRadius);\n    let leftTop = this.findCoor(offset, outerRadius);\n    let rightBottom = this.findCoor(length + offset, innerRadius);\n    let rightTop = this.findCoor(length + offset, outerRadius);\n    let leftArrow = \"\";\n    let rightArrow = \"\";\n\n    // create arrows by making a midpoint along edge and shifting corners inwards\n    if (arrowREV || arrowFWD) {\n      // one quarter of lineHeight in px is the shift inward for arrows\n      const inwardShift = lineHeight / 4;\n      // given the arc length (inwardShift) and the radius (from SeqViewer),\n      // we can find the degrees to rotate the corners\n      const centralAngle = inwardShift / radius;\n      // Math.min here is to make sure the arrow it's larger than the element\n      const centralAnglePerc = Math.min(centralAngle / 2, length / seqLength);\n      const centralAngleDeg = centralAnglePerc * 360;\n\n      if (arrowREV) {\n        leftBottom = this.rotateCoor(leftBottom, centralAngleDeg);\n        leftTop = this.rotateCoor(leftTop, centralAngleDeg);\n        const lArrowC = this.findCoor(0, (innerRadius + outerRadius) / 2);\n        leftArrow = `L ${lArrowC.x} ${lArrowC.y}`;\n      } else {\n        rightBottom = this.rotateCoor(rightBottom, -centralAngleDeg);\n        rightTop = this.rotateCoor(rightTop, -centralAngleDeg);\n        const rArrowC = this.findCoor(length, (innerRadius + outerRadius) / 2);\n        rightArrow = `L ${rArrowC.x} ${rArrowC.y}`;\n      }\n    }\n\n    const lArc = largeArc ? 1 : 0;\n    const sFlagF = sweepFWD ? 1 : 0;\n    const sFlagR = sweepFWD ? 0 : 1;\n\n    return `M ${rightBottom.x} ${rightBottom.y}\n      A ${innerRadius} ${innerRadius}, 0, ${lArc}, ${sFlagR}, ${leftBottom.x} ${leftBottom.y}\n      L ${leftBottom.x} ${leftBottom.y}\n      ${leftArrow}\n      L ${leftTop.x} ${leftTop.y}\n      A ${outerRadius} ${outerRadius}, 0, ${lArc}, ${sFlagF}, ${rightTop.x} ${rightTop.y}\n      ${rightArrow}\n      Z`;\n  };\n\n  /**\n   * handle a scroll event and, if it's a CIRCULAR viewer, update the\n   * current central index\n   */\n  handleScrollEvent = (e: React.WheelEvent<SVGElement>) => {\n    const { rotateOnScroll, seq } = this.props;\n    if (!rotateOnScroll) return;\n\n    // a \"large scroll\" (1000) should rotate through 20% of the plasmid\n    let delta = seq.length * (e.deltaY / 5000);\n    delta = Math.floor(delta);\n\n    // must scroll by *some* amount (only matters for very small plasmids)\n    if (delta === 0) {\n      if (e.deltaY > 0) delta = 1;\n      else delta = -1;\n    }\n\n    let newCentralIndex = this.context.circular + delta;\n    newCentralIndex = (newCentralIndex + seq.length) % seq.length;\n\n    this.context.setCentralIndex(\"CIRCULAR\", newCentralIndex);\n  };\n\n  render() {\n    const { center, compSeq, cutSites, handleMouseEvent, inputRef, name, radius, search, seq, showIndex, size, yDiff } =\n      this.props;\n    const { annotationsInRows, inlinedLabels, lineHeight, outerLabels, seqLength } = this.state;\n\n    const { findCoor, genArc, getRotation, rotateCoor } = this;\n\n    // props contains props used in many/all children\n    const props = {\n      center,\n      findCoor,\n      genArc,\n      getRotation,\n      inputRef,\n      lineHeight,\n      radius,\n      rotateCoor,\n      seqLength,\n    };\n\n    // calculate the selection row height based on number of annotation\n    const totalRows = 4 + annotationsInRows.length;\n    const plasmidId = `la-vz-${name}-viewer-circular`;\n    if (!size.height) return null;\n\n    return (\n      <svg\n        ref={inputRef(plasmidId, { type: \"SEQ\", viewer: \"CIRCULAR\" })}\n        className=\"la-vz-viewer-circular\"\n        data-testid=\"la-vz-viewer-circular\"\n        height={size.height}\n        id={plasmidId}\n        width={size.width >= 0 ? size.width : 0}\n        onMouseDown={handleMouseEvent}\n        onMouseMove={handleMouseEvent}\n        onMouseUp={handleMouseEvent}\n        onWheel={this.handleScrollEvent}\n      >\n        <g className=\"la-vz-circular-root\" transform={`translate(0, ${yDiff})`}>\n          <Selection {...props} seq={seq} totalRows={totalRows} />\n          <CutSites {...props} cutSites={cutSites} selectionRows={4} />\n          <Index\n            {...props}\n            compSeq={compSeq}\n            name={name}\n            seq={seq}\n            showIndex={showIndex}\n            size={size}\n            totalRows={totalRows}\n            yDiff={yDiff}\n          />\n          <Find\n            genArc={props.genArc}\n            getRotation={props.getRotation}\n            highlights={this.props.highlights}\n            inputRef={props.inputRef}\n            lineHeight={props.lineHeight}\n            radius={props.radius}\n            search={search}\n            seqLength={props.seqLength}\n          />\n          <Annotations {...props} annotations={annotationsInRows} inlinedAnnotations={inlinedLabels} rowsToSkip={0} />\n          <Labels {...props} labels={outerLabels} size={size} yDiff={yDiff} />\n        </g>\n      </svg>\n    );\n  }\n}\n\n/**\n * Create an SVG arc around a single element in the Circular Viewer.\n */\nexport const Arc = (props: {\n  className: string;\n  color?: string;\n  direction: -1 | 1;\n  end: number;\n  genArc: GenArcFunc;\n  getRotation: (index: number) => string;\n  inputRef: InputRefFunc;\n  lineHeight: number;\n  radius: number;\n  seqLength: number;\n  start: number;\n}) => {\n  const { className, color, direction, genArc, getRotation, inputRef, lineHeight, radius, seqLength, start } = props;\n\n  let { end } = props;\n  // crosses the zero index\n  if (end < start) {\n    end += seqLength;\n  }\n\n  const resultLength = Math.abs(end - start);\n  const findPath = genArc({\n    innerRadius: radius - lineHeight / 2,\n    largeArc: resultLength > seqLength / 2,\n    length: resultLength,\n    outerRadius: radius + lineHeight / 2,\n    sweepFWD: true,\n  });\n\n  const id = `${className}-circular-${start}-${end}-${direction}`;\n\n  return (\n    <path\n      key={id}\n      ref={inputRef(id, {\n        end: end,\n        ref: id,\n        start: start,\n        type: \"FIND\",\n        viewer: \"CIRCULAR\",\n      })}\n      className={className}\n      cursor=\"pointer\"\n      d={findPath}\n      fill={color}\n      id={id}\n      shapeRendering=\"auto\"\n      stroke=\"rgba(0, 0, 0, 0.5)\"\n      strokeWidth={1}\n      transform={getRotation(start)}\n    />\n  );\n};\n","import * as React from \"react\";\n\n/** Default central index context object */\nconst defaultCentralIndex = {\n  circular: 0,\n  linear: 0,\n  setCentralIndex: (_: \"LINEAR\" | \"CIRCULAR\", __: number) => {\n    // do nothing\n  },\n};\n\n/** The \"central index\" is used to scroll the linear or circular viewer when you click on an annotation */\nconst CentralIndexContext = React.createContext(defaultCentralIndex);\nCentralIndexContext.displayName = \"CentralIndexContext\";\n\nexport default CentralIndexContext;\n","import { NameRange, Range } from \"./elements\";\n\n// utility funcs for stackElements\nconst last = <T extends Range>(arr: T[]): T => arr[arr.length - 1];\nconst first = <T extends Range>(arr: T[]): T => arr[0];\n\n/**\n * Take an array of elements and create a 2D array where non-overlapping elements are in\n * the same row. Example:\n *\n * input (`T[]`):\n * ```\n * \t\t[ ---Ann---\t---Ann3---\n * \t\t\t ---Ann2--- ]\n * ```\n *\n * output (`T[][]`):\n * ```\n * \t\t[ ---Ann--- ---Ann3---]\n * \t\t[\t\t---Ann2---    ]\n * ```\n */\nexport const stackElements = <T extends NameRange>(elements: T[], seqL: number): T[][] =>\n  [...elements].reduce((acc: T[][], a) => {\n    const insertIndex = acc.findIndex(elems => {\n      if (a.end === a.start) {\n        // the element has the same start and end index and therefore the whole\n        // plasmid (so it shouldn't fit into any existing row)\n        return false;\n      }\n      if (last(elems).end <= last(elems).start) {\n        // the last element in this row crosses zero index\n        return last(elems).end + seqL <= a.start;\n      }\n      if (a.end > a.start) {\n        // this element doesn't cross the zero index and the last in row doesn't\n        return last(elems).end <= a.start;\n      }\n      // both this curr element and the last in the row cross the zero index\n      return last(elems).end < a.start && a.end < first(elems).start;\n    });\n\n    if (insertIndex > -1) {\n      // insert in the row where it's the new highest\n      acc[insertIndex].push(a);\n    } else {\n      // create a new row for this entry\n      acc.push([a]);\n    }\n    return acc;\n  }, []);\n\n/**\n * given an array of arrays of an element, fragment the element into seq blocks\n *\n * this is needed in the Linear sequence viewer because it's easier to send only the\n * relevant elements to the child SeqBlocks, rather to send every SeqBlock everything\n * and have the block figure out whether element is included within it\n *\n * NOTE: if an element has a start and end index that are the same, it's assumed to\n * cover the entire plasmid\n */\nexport const createMultiRows = <T extends NameRange>(elements: T[][], rowLength: number, rowCount: number): T[][][] => {\n  const newArr: T[][][] = new Array(rowCount);\n\n  // initialize the nested rows in each block\n  for (let i = 0; i < rowCount; i += 1) {\n    newArr[i] = [];\n    for (let j = 0; j < elements.length; j += 1) {\n      newArr[i][j] = [];\n    }\n  }\n\n  // for each row of input\n  for (let i = 0; i < elements.length; i += 1) {\n    // for each element in that row\n    for (let j = 0; j < elements[i].length; j += 1) {\n      // if the element doesn't cross the zero index\n      if (elements[i][j].start < elements[i][j].end) {\n        // between the elements start and end, add to every seqBlock\n        // within its range\n\n        // this element doesn't cross the zero index and doesn't cover\n        // the whole plasmid\n        let k = Math.max(0, Math.floor(elements[i][j].start / rowLength));\n        const end = Math.floor((elements[i][j].end - 1) / rowLength);\n\n        while (k <= end && k < rowCount) {\n          newArr[k][i].push(elements[i][j]);\n          k += 1;\n        }\n      } else if (elements[i][j].end < elements[i][j].start) {\n        // the element crosses the zero index and doesn't cover the whole plasmid\n\n        // first, push onto all arrays from the end down to the zero\n        let e = Math.floor((elements[i][j].end - 1) / rowLength);\n        if (elements[i][j].end === 0) {\n          // handle an edge case where element ends at 0-index\n          e = -1; // skip adding to rows\n        }\n        while (e >= 0 && e < newArr.length) {\n          newArr[e][i].push(elements[i][j]);\n          e -= 1;\n        }\n\n        // then push onto all arrays from the start to the end\n        let s = Math.floor(elements[i][j].start / rowLength);\n        while (s < rowCount) {\n          newArr[s][i].push(elements[i][j]);\n          s += 1;\n        }\n      } else if (elements[i][j].end === elements[i][j].start) {\n        // the element circles the entire plasmid and, therefore, fills every\n        // SeqBlock. start === end is signal for covering whole plasmid\n        for (let a = 0; a < newArr.length; a += 1) {\n          newArr[a][i].push(elements[i][j]);\n        }\n\n        // edge case where starts and ends at 0\n        if (elements[i][j].end === 0) {\n          continue;\n        }\n\n        // and add again for the block that the element starts in\n        const s = Math.floor(elements[i][j].start / rowLength);\n        newArr[s][i].push(elements[i][j]);\n      }\n    }\n  }\n\n  // filter out the empty rows in each block\n  for (let i = 0; i < rowCount; i += 1) {\n    newArr[i] = newArr[i].filter(a => a[0]);\n  }\n  return newArr;\n};\n\n/**\n * Given an array of elements and an interval (`rowLength`), bin elements into rows.\n *\n * This is used by the Linear viewer for CutSites and Highlights where it's okay for\n * elements to overlap one another.\n */\nexport const createSingleRows = <T extends NameRange>(\n  elements: T[],\n  rowLength: number,\n  rowCount: number,\n  duplicateIdsAllowed = true\n): T[][] => {\n  const newArr: T[][] = new Array(rowCount);\n\n  // initialize the nested rows in each block\n  for (let i = 0; i < rowCount; i += 1) {\n    newArr[i] = [];\n  }\n\n  // assign each element to its respective array\n  for (let i = 0; i < elements.length; i += 1) {\n    let { end, start } = elements[i];\n\n    // special case for enzymes that have cut-sites away from recog (BsaI)\n    // @ts-expect-error this is some hack for cut-sites\n    if (elements[i].fcut !== undefined) {\n      // @ts-expect-error this is some hack for cut-sites\n      const { fcut, rcut } = elements[i];\n      start = fcut > end || fcut < start ? fcut : start;\n      end = rcut > end || rcut < start ? rcut : end;\n    }\n\n    if (start < end) {\n      let k = Math.floor(start / rowLength);\n      const rowEnd = Math.floor((end - 1) / rowLength);\n\n      while (k <= rowEnd && k < rowCount) {\n        newArr[k].push(elements[i]);\n        k += 1;\n      }\n    } else {\n      // the element crosses the zero index\n      // first, push onto all arrays from the end down to the zero\n      let e = Math.floor(end / rowLength);\n      while (e >= 0) {\n        newArr[e].push(elements[i]);\n        e -= 1;\n      }\n\n      // then push onto all arrays from the start to the end\n      let s = Math.floor(start / rowLength);\n      while (s < rowCount) {\n        // only add to the array if the user is okay with having duplicates by id.\n        // for example, this shouldn't be allowed if multiple translation rows have\n        // the same ID\n        if (duplicateIdsAllowed || newArr[s].every(el => el.id !== elements[i].id)) {\n          newArr[s].push(elements[i]);\n        }\n        s += 1;\n      }\n    }\n  }\n\n  return newArr;\n};\n","/**\n * Deep equality comparison between two objects\n *\n * copy-paste from StackOverflow: https://stackoverflow.com/a/25456134\n *\n */\nconst isEqual = (x, y) => {\n  if (x === y) {\n    return true;\n  } else if (typeof x === \"object\" && x !== null && typeof y === \"object\" && y !== null) {\n    if (Object.keys(x).length !== Object.keys(y).length) return false;\n\n    for (const prop in x) {\n      if (Object.prototype.hasOwnProperty.call(y, prop)) {\n        if (!isEqual(x[prop], y[prop])) return false;\n      } else return false;\n    }\n\n    return true;\n  }\n  return false;\n};\n\nexport default isEqual;\n","import * as React from \"react\";\n\nimport { InputRefFunc } from \"../SelectionHandler\";\nimport CentralIndexContext from \"../centralIndexContext\";\nimport { COLOR_BORDER_MAP, darkerColor } from \"../colors\";\nimport { Annotation } from \"../elements\";\nimport { GenArcFunc } from \"./Circular\";\n\ninterface AnnotationsProps {\n  annotations: Annotation[][];\n  genArc: GenArcFunc;\n  getRotation: (index: number) => string;\n  inlinedAnnotations: string[];\n  inputRef: InputRefFunc;\n  lineHeight: number;\n  radius: number;\n  rowsToSkip: number;\n  seqLength: number;\n}\n\n/**\n * Used to build up all the path elements. Does not include a display\n * of the annotation name or a line connecting name to annotation\n *\n * Annotations might overlap with one another. To avoid that, annotations are first moved into rows -- non-overlapping\n * arrays or annotation arrays -- and then used to create the array of array of annotation paths.\n */\nexport class Annotations extends React.PureComponent<AnnotationsProps> {\n  /** during an annotation hover event, darken all other pieces of the same annotation */\n  hoverAnnotation = (className: string, opacity: string) => {\n    if (!document) return;\n\n    const elements = document.getElementsByClassName(className) as HTMLCollectionOf<SVGPathElement>;\n    for (let i = 0; i < elements.length; i += 1) {\n      elements[i].style.fillOpacity = opacity;\n    }\n  };\n\n  render() {\n    const { annotations, lineHeight, radius, rowsToSkip } = this.props;\n\n    // at least 3 rows inward from default radius (ie index row)\n    const rowShiftHeight = lineHeight * rowsToSkip;\n    const radiusAdjust = lineHeight * 2 + 3;\n    let currBRadius = radius - radiusAdjust - rowShiftHeight;\n    let currTRadius = currBRadius - lineHeight; // top radius\n\n    return (\n      <CentralIndexContext.Consumer>\n        {({ circular }) => (\n          <g className=\"la-vz-circular-annotations\">\n            {annotations.reduce((acc: any[], anns: Annotation[], i) => {\n              if (i) {\n                // increment the annRow radii on every loop after first\n                currBRadius -= lineHeight + 3;\n                currTRadius -= lineHeight + 3;\n              }\n\n              return acc.concat(\n                anns.map(ann => (\n                  <SingleAnnotation\n                    key={`la-vz-${ann.id}-annotation-circular-row`}\n                    annotation={ann}\n                    calcBorderColor={darkerColor}\n                    centralIndex={circular}\n                    currBRadius={currBRadius}\n                    currTRadius={currTRadius}\n                    genArc={this.props.genArc}\n                    getRotation={this.props.getRotation}\n                    hoverAnnotation={this.hoverAnnotation}\n                    id={`la-vz-${ann.id}-annotation-circular-row`}\n                    inlinedAnnotations={this.props.inlinedAnnotations}\n                    inputRef={this.props.inputRef}\n                    lineHeight={lineHeight}\n                    seqLength={this.props.seqLength}\n                  />\n                ))\n              );\n            }, [])}\n          </g>\n        )}\n      </CentralIndexContext.Consumer>\n    );\n  }\n}\n\ninterface SingleAnnotationProps {\n  annotation: Annotation;\n  calcBorderColor: (c: any) => any;\n  centralIndex: number;\n  currBRadius: number;\n  currTRadius: number;\n  genArc: GenArcFunc;\n  getRotation: (index: number) => string;\n  hoverAnnotation: (className: string, opacity: string) => void;\n  id: string;\n  inlinedAnnotations: string[];\n  inputRef: InputRefFunc;\n  lineHeight: number;\n  seqLength: number;\n}\n\n/**\n * SingleAnnotation renders a single annotation within the Circular Viewer\n */\nconst SingleAnnotation = (props: SingleAnnotationProps) => {\n  const {\n    annotation: a,\n    calcBorderColor,\n    centralIndex,\n    currBRadius,\n    currTRadius,\n    genArc,\n    getRotation,\n    hoverAnnotation,\n    inlinedAnnotations,\n    inputRef,\n    lineHeight,\n    seqLength,\n  } = props;\n\n  // if it crosses the zero index, correct for actual length\n  let annLength = a.end >= a.start ? a.end - a.start : seqLength - a.start + a.end;\n\n  // can't make an arc from a full circle\n  annLength = annLength === 0 ? seqLength - 0.1 : annLength;\n\n  // how many degrees should it be rotated?\n  const rotation = getRotation(a.start);\n\n  if (currBRadius < 0 || currTRadius < 0) {\n    return null;\n  }\n\n  // is the name in top or bottom half?\n  const mid = (annLength / 2 + a.start + seqLength - centralIndex) % seqLength;\n  const bottomHalf = mid > seqLength * 0.25 && mid < seqLength * 0.75;\n\n  const path = genArc({\n    arrowFWD: a.direction === 1,\n    arrowREV: a.direction === -1,\n    innerRadius: currBRadius,\n    largeArc: annLength > seqLength / 2,\n    length: annLength,\n    outerRadius: currTRadius,\n    sweepFWD: true,\n  });\n  const namePath = genArc({\n    arrowFWD: false,\n    arrowREV: false,\n    innerRadius: bottomHalf ? currBRadius : currTRadius,\n    largeArc: annLength > seqLength / 2,\n    length: annLength,\n    outerRadius: bottomHalf ? currBRadius : currTRadius,\n    sweepFWD: true,\n  });\n\n  const circAnnID = `la-vz-${a.id}-circular`;\n  return (\n    <g id={`la-vz-${a.id}-annotation-circular`} transform={rotation}>\n      <path d={namePath} fill=\"transparent\" id={circAnnID} stroke=\"transparent\" />\n      <path\n        ref={inputRef(a.id, {\n          direction: a.direction,\n          end: a.end,\n          name: a.name,\n          ref: a.id,\n          start: a.start,\n          type: \"ANNOTATION\",\n          viewer: \"CIRCULAR\",\n        })}\n        className={`${a.id} la-vz-annotation`}\n        cursor=\"pointer\"\n        d={path}\n        fill={a.color}\n        id={a.id}\n        stroke={a.color ? COLOR_BORDER_MAP[a.color] || calcBorderColor(a.color) : \"gray\"}\n        onBlur={() => {\n          // do nothing\n        }}\n        onFocus={() => {\n          // do nothing\n        }}\n        onMouseOut={() => hoverAnnotation(a.id, \"0.7\")}\n        onMouseOver={() => hoverAnnotation(a.id, \"1.0\")}\n      />\n      {inlinedAnnotations.includes(a.id) && (\n        <text\n          dy={-0.4 * lineHeight}\n          id={a.id}\n          onBlur={() => {\n            // do nothing\n          }}\n          onFocus={() => {\n            // do nothing\n          }}\n          onMouseOut={() => hoverAnnotation(a.id, \"0.7\")}\n          onMouseOver={() => hoverAnnotation(a.id, \"1.0\")}\n        >\n          <textPath\n            className=\"la-vz-annotation-label\"\n            cursor=\"pointer\"\n            dominantBaseline=\"middle\"\n            fontSize={12}\n            id={a.id}\n            startOffset={bottomHalf ? \"25%\" : \"75%\"}\n            textAnchor=\"middle\"\n            xlinkHref={`#${circAnnID}`}\n          >\n            {a.name}\n          </textPath>\n        </text>\n      )}\n    </g>\n  );\n};\n","import { pSBC } from \"./pSBC\";\n\n/**\n * a color pallete of colors (for LinearSeq right now)\\\n * generated using:\n * https://material.io/color/#!/?view.left=0&view.right=0&primary.color=FFCC80\n */\nexport const COLORS = [\n  \"#9DEAED\", // cyan\n  \"#8FDE8C\", // green\n  \"#CFF283\", // light green\n  \"#8CDEBD\", // teal\n  \"#F0A3CE\", // pink\n  \"#F7C672\", // orange\n  \"#F07F7F\", // red\n  \"#FAA887\", // red-orange\n  \"#F099F7\", // magenta\n  \"#C59CFF\", // purple\n  \"#6B81FF\", // blue\n  \"#85A6FF\", // light blue\n];\n\nexport const COLOR_BORDER_MAP = {\n  // purple\n  \"#6B81FF\": \"#2E3B85\",\n\n  // blue\n  \"#85A6FF\": \"#4C66AD\",\n\n  // light green\n  \"#8CDEBD\": \"#4CA17F\",\n\n  // cyan\n  \"#8FDE8C\": \"#5CA35A\",\n\n  \"#9DEAED\": \"#5EB5B8\",\n\n  // magenta\n  \"#C59CFF\": \"#8A60C4\",\n\n  // green\n  \"#CFF283\": \"#8DB041\",\n\n  // orange\n  \"#F07F7F\": \"#AD4040\",\n\n  // red-orange\n  \"#F099F7\": \"#AB63B0\",\n\n  // teal\n  \"#F0A3CE\": \"#BD6295\",\n\n  // pink\n  \"#F7C672\": \"#BD872B\",\n\n  // red\n  \"#FAA887\": \"#B36446\", // light blue\n};\n\n// color generator function\nexport const chooseRandomColor = (colors?: string[]) => {\n  const choices = colors || COLORS;\n  const randIndex = Math.floor(Math.random() * choices.length);\n  return choices[randIndex];\n};\n\n/** get an \"indexed\" color from the colors array */\nexport const colorByIndex = (i: number, colors?: string[]) => (colors || COLORS)[i % (colors || COLORS).length];\n\n/** get an \"indexed\" color from the colors array */\nexport const borderColorByIndex = (i: number) => COLOR_BORDER_MAP[COLORS[i % COLORS.length]];\n\n/** cache for input color to those 50% darker */\nconst darkerColorCache = {};\n\n/** darken a HEX color by 50% */\nexport const darkerColor = c => {\n  if (darkerColorCache[c]) {\n    return darkerColorCache[c];\n  }\n\n  const darkerColor = pSBC(-0.5, c);\n  darkerColorCache[c] = darkerColor;\n  return darkerColor;\n};\n","// @ts-nocheck\n// Version 4.0\n// from: https://github.com/PimpTrizkit/PJs/wiki/12.-Shade,-Blend-and-Convert-a-Web-Color-(pSBC.js)\nexport const pSBC = (p, c0, c1?, l?) => {\n  const i = parseInt;\n  const m = Math.round;\n  let r,\n    g,\n    b,\n    P,\n    f,\n    t,\n    h,\n    a = typeof c1 == \"string\";\n\n  if (\n    typeof p !== \"number\" ||\n    p < -1 ||\n    p > 1 ||\n    typeof c0 !== \"string\" ||\n    (c0[0] !== \"r\" && c0[0] !== \"#\") ||\n    (c1 && !a)\n  ) {\n    return null;\n  }\n\n  const pSBCr = d => {\n    let n = d.length;\n    const x = {};\n    if (n > 9) {\n      [r, g, b, a] = d = d.split(\",\");\n      n = d.length;\n\n      if (n < 3 || n > 4) return null;\n\n      x.r = i(r[3] === \"a\" ? r.slice(5) : r.slice(4));\n      x.g = i(g);\n      x.b = i(b);\n      x.a = a ? parseFloat(a) : -1;\n    } else {\n      if (n === 8 || n === 6 || n < 4) return null;\n      if (n < 6) {\n        d = \"#\" + d[1] + d[1] + d[2] + d[2] + d[3] + d[3] + (n > 4 ? d[4] + d[4] : \"\");\n      }\n      d = i(d.slice(1), 16);\n\n      if (n === 9 || n === 5) {\n        x.r = (d >> 24) & 255;\n        x.g = (d >> 16) & 255;\n        x.b = (d >> 8) & 255;\n        x.a = m((d & 255) / 0.255) / 1000;\n      } else {\n        x.r = d >> 16;\n        x.g = (d >> 8) & 255;\n        x.b = d & 255;\n        x.a = -1;\n      }\n    }\n\n    return x;\n  };\n\n  h = c0.length > 9;\n  h = a ? (c1.length > 9 ? true : c1 === \"c\" ? !h : false) : h;\n  f = pSBCr(c0);\n  P = p < 0;\n  t = c1 && c1 !== \"c\" ? pSBCr(c1) : P ? { a: -1, b: 0, g: 0, r: 0 } : { a: -1, b: 255, g: 255, r: 255 };\n  p = P ? p * -1 : p;\n  P = 1 - p;\n  if (!f || !t) return null;\n\n  if (l) {\n    r = m(P * f.r + p * t.r);\n    g = m(P * f.g + p * t.g);\n    b = m(P * f.b + p * t.b);\n  } else {\n    r = m((P * f.r ** 2 + p * t.r ** 2) ** 0.5);\n    g = m((P * f.g ** 2 + p * t.g ** 2) ** 0.5);\n    b = m((P * f.b ** 2 + p * t.b ** 2) ** 0.5);\n  }\n\n  a = f.a;\n  t = t.a;\n  f = a >= 0 || t >= 0;\n  a = f ? (a < 0 ? t : t < 0 ? a : a * P + t * p) : 0;\n\n  if (h) {\n    return \"rgb\" + (f ? \"a(\" : \"(\") + r + \",\" + g + \",\" + b + (f ? \",\" + m(a * 1000) / 1000 : \"\") + \")\";\n  } else {\n    return (\n      \"#\" +\n      (4294967296 + r * 16777216 + g * 65536 + b * 256 + (f ? m(a * 255) : 0)).toString(16).slice(1, f ? undefined : -2)\n    );\n  }\n};\n","import * as React from \"react\";\n\nimport { InputRefFunc } from \"../SelectionHandler\";\nimport { Coor, CutSite } from \"../elements\";\nimport { GenArcFunc, RENDER_SEQ_LENGTH_CUTOFF } from \"./Circular\";\n\ninterface CutSitesProps {\n  center: Coor;\n  cutSites: CutSite[];\n  findCoor: (index: number, radius: number, rotate?: boolean) => Coor;\n  genArc: GenArcFunc;\n  getRotation: (index: number) => string;\n  inputRef: InputRefFunc;\n  lineHeight: number;\n  radius: number;\n  rotateCoor: (coor: Coor, degrees: number) => Coor;\n  selectionRows: number;\n  seqLength: number;\n}\n\nexport const CutSites = (props: CutSitesProps) => {\n  let { cutSites } = props;\n  if (!cutSites.length) return null;\n\n  cutSites = cutSites.filter(c => c.end > c.start);\n\n  const calculateLinePath = (index: number, startRadius: number, endRadius: number): string => {\n    const { findCoor } = props;\n    const lineStart = findCoor(index, startRadius);\n    const lineEnd = findCoor(index, endRadius);\n    return `M ${lineEnd.x} ${lineEnd.y} L ${lineStart.x} ${lineStart.y}`;\n  };\n\n  return (\n    <g className=\"la-vz-circular-cutsites\">\n      {cutSites.map(c => (\n        <SingleCutSite key={`circular-cut-site-${c.id}`} {...props} calculateLinePath={calculateLinePath} cutSite={c} />\n      ))}\n    </g>\n  );\n};\n\nconst SingleCutSite = (props: {\n  calculateLinePath: (index: number, startRadius: number, endRadius: number) => string;\n  cutSite: CutSite;\n  genArc: GenArcFunc;\n  getRotation: (index: number) => string;\n  inputRef: InputRefFunc;\n  lineHeight: number;\n  radius: number;\n  seqLength: number;\n}) => {\n  const { calculateLinePath, cutSite, genArc, getRotation, inputRef, lineHeight, radius, seqLength } = props;\n  const { id, start } = cutSite;\n  let { end, fcut, rcut } = cutSite;\n\n  // crosses the zero index\n  if (start + fcut > end + rcut) {\n    end = start > end ? end + seqLength : end;\n    if (fcut > rcut) {\n      rcut += seqLength;\n    } else {\n      fcut += seqLength;\n    }\n  }\n\n  // length for highlighted recog area\n  const cutSiteLength = Math.abs(end - start);\n\n  // const calc the size of the recog area radii\n  const botR = radius;\n  let midR = radius + 0.5 * lineHeight; // mid radius\n  let topR = radius + lineHeight; // outer radius\n  if (seqLength < RENDER_SEQ_LENGTH_CUTOFF) {\n    midR += lineHeight + 1.5;\n    topR += 2 * lineHeight + 1.5;\n  }\n\n  return (\n    <g key={`la-vz-circular-cutsite-${id}`} id={`la-vz-circular-cutsite-${id}`} transform={getRotation(start)}>\n      {/* an arc that surrounds the cut site */}\n      <path\n        ref={inputRef(id, {\n          end: end,\n          ref: id,\n          start: start,\n          type: \"ENZYME\",\n          viewer: \"CIRCULAR\",\n        })}\n        className=\"la-vz-cut-site\"\n        cursor=\"pointer\"\n        d={genArc({\n          innerRadius: botR,\n          largeArc: cutSiteLength > seqLength / 2,\n          length: cutSiteLength,\n          outerRadius: topR,\n          sweepFWD: true,\n        })}\n        style={cutSite.enzyme.color ? { fill: cutSite.enzyme.color } : {}}\n      />\n\n      {/* a line showing the start of the cut-site */}\n      <path className=\"la-vz-cut-site\" d={calculateLinePath(fcut - start, topR, midR)} />\n\n      {/* a connector line for the cut-site */}\n      <path\n        className=\"la-vz-cut-site\"\n        d={genArc({\n          innerRadius: midR,\n          largeArc: Math.abs(fcut - rcut) > seqLength / 2,\n          length: Math.abs(fcut - rcut),\n          offset: Math.min(fcut, rcut) - start,\n          outerRadius: midR,\n          sweepFWD: true,\n        })}\n      />\n\n      {/* a line showing the end of the cut-site */}\n      <path className=\"la-vz-cut-site\" d={calculateLinePath(rcut - start, midR, botR)} />\n    </g>\n  );\n};\n","import * as React from \"react\";\n\nimport { InputRefFunc } from \"../SelectionHandler\";\nimport { HighlightProp, Range } from \"../elements\";\nimport { Arc, GenArcFunc, RENDER_SEQ_LENGTH_CUTOFF } from \"./Circular\";\n\nexport const Find = (props: {\n  genArc: GenArcFunc;\n  getRotation: (index: number) => string;\n  highlights: HighlightProp[];\n  inputRef: InputRefFunc;\n  lineHeight: number;\n  radius: number;\n  search: Range[];\n  seqLength: number;\n}) => {\n  const { genArc, getRotation, highlights, inputRef, lineHeight, radius, search, seqLength } = props;\n  const threshold = seqLength > RENDER_SEQ_LENGTH_CUTOFF ? search.length / seqLength <= 0.02 : true;\n\n  return (\n    <g className=\"la-vz-circular-search\">\n      {threshold &&\n        search.map(s => (\n          <Arc\n            key={JSON.stringify(s)}\n            className=\"la-vz-search\"\n            direction={s.direction || 1}\n            end={s.end}\n            genArc={genArc}\n            getRotation={getRotation}\n            inputRef={inputRef}\n            lineHeight={lineHeight}\n            radius={radius}\n            seqLength={seqLength}\n            start={s.start}\n          />\n        ))}\n\n      {highlights.map(({ color, end, start }) => (\n        <Arc\n          key={`la-vz-highlight-${start}-${end}`}\n          className=\"la-vz-highlight\"\n          color={color}\n          direction={1}\n          end={end}\n          genArc={genArc}\n          getRotation={getRotation}\n          inputRef={inputRef}\n          lineHeight={lineHeight}\n          radius={radius}\n          seqLength={seqLength}\n          start={start}\n        />\n      ))}\n    </g>\n  );\n};\n","import * as React from \"react\";\n\nimport CentralIndexContext from \"../centralIndexContext\";\nimport { Coor, Size } from \"../elements\";\nimport { GenArcFunc, RENDER_SEQ_LENGTH_CUTOFF } from \"./Circular\";\n\ninterface IndexProps {\n  center: Coor;\n  compSeq: string;\n  findCoor: (index: number, radius: number, rotate?: boolean) => Coor;\n  genArc: GenArcFunc;\n  getRotation: (index: number) => string;\n  lineHeight: number;\n  name: string;\n  radius: number;\n  rotateCoor: (coor: Coor, degrees: number) => Coor;\n  seq: string;\n  seqLength: number;\n  showIndex: boolean;\n  size: Size;\n  totalRows: number;\n  yDiff: number;\n}\n\n/**\n * The Index component renders the plasmid's:\n * \t\t1. name (center or bottom)\n * \t\t2. number of bps (center or bottom)\n * \t\t3. index circle\n * \t\t4. index ticks and numbers along the plasmid circle\n *\n * The center or bottom here refers to the fact that the name/bps of the\n * part need to be pushed to the bottom of the circular viewer if there\n * are too many elements in the circular viewer and the name won't fit\n */\nexport class Index extends React.PureComponent<IndexProps> {\n  static contextType = CentralIndexContext;\n  static context: React.ContextType<typeof CentralIndexContext>;\n  declare context: React.ContextType<typeof CentralIndexContext>;\n\n  static getDerivedStateFromProps = (nextProps: IndexProps) => {\n    const { seqLength } = nextProps;\n    let centralIndex = 0;\n    if (this.context) {\n      centralIndex = this.context.circular;\n    }\n\n    const tickCount = 6;\n    // make each increment a multiple of 10 with two sig figs\n    const increments = Math.floor(seqLength / tickCount);\n    let indexInc = Math.max(+increments.toPrecision(2), 10);\n    while (indexInc % 10 !== 0) indexInc += 1;\n\n    // make all the ticks. Also, only keep ticks that are +/- 6 tick incremenets from the top\n    // centralIndex, as the others won't be shown/rendered anyway\n    let ticks: number[] = [];\n    for (let i = 0; i <= seqLength - indexInc / 2; i += indexInc) {\n      ticks.push(i === 0 ? 1 : i);\n    }\n    const tickTolerance = indexInc * 6;\n    ticks = ticks.filter(\n      t =>\n        Math.abs(centralIndex - t) < tickTolerance ||\n        Math.abs(centralIndex + seqLength - t) < tickTolerance ||\n        Math.abs(centralIndex - seqLength - t) < tickTolerance\n    );\n    return { indexInc, ticks };\n  };\n\n  state = {\n    indexInc: 10,\n    ticks: [],\n  };\n\n  /**\n   * return a react element for the basepairs along the surface of the plasmid viewer\n   */\n  renderBasepairs = () => {\n    const { compSeq, findCoor, getRotation, lineHeight, radius, seq, seqLength } = this.props;\n    const { indexInc } = this.state;\n    const centralIndex = this.context.circular;\n\n    // we should show all basepairs, with only 4 ticks\n    const seqForCircular = seq + seq;\n    const compSeqForCircular = compSeq + compSeq;\n    let firstBase = centralIndex - indexInc * 5;\n    let lastBase = centralIndex + indexInc * 5;\n    if (centralIndex < seqLength / 2) {\n      firstBase += seqLength;\n      lastBase += seqLength;\n    }\n\n    const basepairsToRender: JSX.Element[] = [];\n    for (let i = firstBase; i <= lastBase; i += 1) {\n      basepairsToRender.push(\n        <text\n          key={`la-vz-base-${i}`}\n          {...findCoor(0, radius + 2 * lineHeight)}\n          dominantBaseline=\"middle\"\n          transform={getRotation(i)}\n        >\n          {seqForCircular.charAt(i)}\n        </text>,\n        <text\n          key={`la-vz-base-comp-${i}`}\n          {...findCoor(0, radius + lineHeight)}\n          dominantBaseline=\"middle\"\n          transform={getRotation(i)}\n        >\n          {compSeqForCircular.charAt(i)}\n        </text>\n      );\n    }\n    return basepairsToRender;\n  };\n\n  render() {\n    const {\n      center,\n      findCoor,\n      genArc,\n      getRotation,\n      lineHeight,\n      name,\n      radius,\n      seq,\n      seqLength,\n      showIndex,\n      size,\n      totalRows,\n      yDiff,\n    } = this.props;\n    const { ticks } = this.state;\n\n    if (!showIndex) {\n      return null; // don't waste time, don't show\n    }\n\n    // split up the name so it fits within spans in the center\n    // 30 letters is arbitrary. would be better to first search for \"cleaveable characters\"\n    // like \"|\" or \",\" and revert to all chars if those aren't found. Or to decrease\n    // name size first before cleaving, etc\n    const mostInwardElementRadius = radius - totalRows * lineHeight;\n    const cutoff = 30;\n    const nameSpans: string[] = [];\n    let nameIndex = 0;\n\n    // TODO: react freaks out when the circ viewer is small and each line is one char\n    // bc there are shared keys (also it's just not a good look)\n    while (nameIndex < name.length) {\n      nameSpans.push(name.substring(nameIndex, nameIndex + cutoff).trim());\n      nameIndex += cutoff;\n    }\n\n    // generate the name text for the middle of the plasmid\n    const spanCountAdjust = 20 * nameSpans.length; // adjust for each tspan off name\n    const nameYAdjust = 14 + spanCountAdjust; // correct for both\n    const nameCoorRadius = nameSpans.length ? (nameSpans[0].length / 2) * 12 : 0; // 12 px per character\n\n    // if the elements will begin to overlap with the\n    // name, move the name downward to the bottom of the viewer\n    const nameCoor =\n      nameCoorRadius > mostInwardElementRadius\n        ? {\n            x: center.x,\n            y: size.height - nameYAdjust - yDiff,\n          }\n        : {\n            x: center.x,\n            y: center.y - ((nameSpans.length - 1) / 2) * 25, // shift the name up for >1 rows of text\n          };\n\n    // these are just created once, but are rotated to each position along the plasmid\n    const tickCoorStart = findCoor(0, radius);\n    const tickCoorEnd = findCoor(0, radius - 7);\n\n    // create tick and text style\n    const subtitleStyle = {\n      fill: \"gray\",\n      fontSize: 12,\n      textAnchor: \"middle\",\n    };\n\n    // generate the full circle around the edge of the plasmid\n    const indexCurve = genArc({\n      innerRadius: radius,\n      largeArc: true,\n      length: seqLength / 2,\n      outerRadius: radius,\n    });\n\n    return (\n      <g>\n        {/* A label showing the name of the plasmid */}\n        <text fontSize={20} fontWeight={500} textAnchor=\"middle\">\n          {nameSpans.map((n, i) => (\n            <tspan key={n} x={nameCoor.x} y={nameCoor.y + i * 25}>\n              {n}\n            </tspan>\n          ))}\n        </text>\n\n        {/* A label for the length of the plasmid */}\n        <text x={nameCoor.x} y={nameCoor.y + 14 + 25 * (nameSpans.length - 1)} {...subtitleStyle}>\n          {`${seqLength} bp`}\n        </text>\n\n        {/* If less than cutoff long, render the bp of the plasmid */}\n        {seq.length <= RENDER_SEQ_LENGTH_CUTOFF && <g className=\"la-vz-circular-bps\">{this.renderBasepairs()}</g>}\n\n        {/* The ticks and their index labels */}\n        {ticks.map(t => (\n          <g key={`la-vz-tick-${t}`} transform={getRotation(t - 0.5)}>\n            <path\n              className=\"la-vz-index-tick\"\n              d={`M ${tickCoorStart.x} ${tickCoorStart.y} L ${tickCoorEnd.x} ${tickCoorEnd.y}`}\n            />\n            <text\n              className=\"la-vz-index-tick-label\"\n              fontSize={12}\n              textAnchor=\"middle\"\n              x={tickCoorEnd.x}\n              y={tickCoorEnd.y + lineHeight}\n            >\n              {t}\n            </text>\n          </g>\n        ))}\n\n        {/* The two arcs that make the plasmid's circle */}\n        <g>\n          <path className=\"la-vz-index-line\" d={indexCurve} transform={getRotation(seqLength * 0.75)} />\n          <path className=\"la-vz-index-line\" d={indexCurve} transform={getRotation(seqLength * 0.25)} />\n        </g>\n      </g>\n    );\n  }\n}\n","import * as React from \"react\";\n\nimport { CHAR_WIDTH } from \"../SeqViewerContainer\";\nimport { Coor, Size } from \"../elements\";\nimport { GenArcFunc, ILabel, RENDER_SEQ_LENGTH_CUTOFF } from \"./Circular\";\nimport { WrappedGroupLabel } from \"./WrappedGroupLabel\";\n\ninterface LabelWithCoors {\n  label: ILabel;\n  lineCoor: Coor;\n  textAnchor: \"start\" | \"end\";\n  textCoor: Coor;\n}\n\nexport interface GroupedLabelsWithCoors {\n  forkCoor: null | Coor;\n  grouped: boolean;\n  labels: ILabel[];\n  lineCoor: Coor;\n  name: string;\n  overflow: unknown;\n  textAnchor: \"start\" | \"end\";\n  textCoor: Coor;\n}\n\ninterface LabelsProps {\n  center: Coor;\n  findCoor: (index: number, radius: number, rotate?: boolean) => Coor;\n  genArc: GenArcFunc;\n  getRotation: (index: number) => string;\n  labels: ILabel[];\n  lineHeight: number;\n  radius: number;\n  rotateCoor: (coor: Coor, degrees: number) => Coor;\n  seqLength: number;\n  size: Size;\n  yDiff: number;\n}\n\ninterface LabelsState {\n  hoveredGroup: string;\n  labelGroups: GroupedLabelsWithCoors[];\n}\n\n/**\n * used to build up all plasmid labels, for annotations, enzymes, etc\n *\n * a caveat to take into account here is that the names, outside the\n * map, might also overlap with one another. There will need to be a check, given\n * the dimensions of each name, calculated by the font, and the size\n * of the viewer, for scaling these names and positioning in the Y-direction\n * to avoid this overlap problem\n */\nexport class Labels extends React.Component<LabelsProps, LabelsState> {\n  constructor(props: LabelsProps) {\n    super(props);\n\n    this.state = {\n      hoveredGroup: \"\",\n      labelGroups: [],\n    };\n  }\n\n  static getDerivedStateFromProps = (nextProps: LabelsProps, prevState: LabelsState) => {\n    // I'm storing the name position groups in state because hovering and\n    // leaving a hover both trigger a change in whether to render and show\n    // the annotation block, it would be expensive to regroup labels\n    // on every hover event\n    return {\n      hoveredGroup: prevState.hoveredGroup,\n      labelGroups: Labels.groupOverlappingLabels(nextProps),\n    };\n  };\n\n  /**\n   * need to avoid having overlapping names. if names\n   * overlap with one another, they should be grouped together and\n   * just show the first name of the group. Ex: \"M13-rev,GTP,+3\"\n   *\n   * On hover over this group, all the other names should be shown\n   *\n   * this should return all the informaiton needed to render the\n   * name by itself or in a grouping\n   */\n  static groupOverlappingLabels = (props: LabelsProps) => {\n    const { center, findCoor, labels, lineHeight, radius, seqLength, size, yDiff } = props;\n\n    // create a radius outside the plasmid map for placing the names\n    const textRadiusAdjust = seqLength > RENDER_SEQ_LENGTH_CUTOFF ? lineHeight * 2 : lineHeight * 3.5;\n    const textRadius = radius + textRadiusAdjust;\n\n    /**\n     * Add positional information to each label. This includes:\n     * - textCoor: point next to the text\n     * - lineCoor: point next to the plasmid arc/circle\n     * - textAnchor: alignment\n     */\n    const labelsWithCoordinates: LabelWithCoors[] = labels\n      .reduce((acc: ILabel[], labelRow) => acc.concat(labelRow), [])\n      .map(a => {\n        // find the mid-point, vertically, for the label, correcting for elements\n        // that cross the zero-index\n        let annCenter: number;\n        if (a.type === \"enzyme\") {\n          annCenter = a.start;\n        } else if (a.end > a.start) {\n          annCenter = (a.end + a.start) / 2;\n        } else {\n          const annStart = a.start - seqLength;\n          const annMidSum = annStart + a.end;\n          annCenter = annMidSum / 2;\n        }\n\n        // connect the label to the plasmid's index unless we're showing bases. If we're showing\n        // bases, keep it just outside those.\n        const lineCoorRadius = seqLength > RENDER_SEQ_LENGTH_CUTOFF ? radius : textRadius - lineHeight / 2;\n\n        // find the seed-points\n        const lineCoor = findCoor(annCenter, lineCoorRadius, true);\n        const textCoor = findCoor(annCenter, textRadius, true);\n\n        // find the textAnchor, based on which side of plasmid it's on\n        const textAnchor = textCoor.x <= center.x ? \"end\" : \"start\";\n        const label = a;\n        return { label, lineCoor, textAnchor, textCoor };\n      });\n\n    // a utility function for checking whether a label and textCoor will overflow\n    const groupOverflows = (label: ILabel, textCoor: Coor) => {\n      const nameLength = (label.name.length + 4) * CHAR_WIDTH; // +4 for \",+#\" and padding\n      let overflow = false;\n\n      const heightYPos = textCoor.y + yDiff;\n      if (heightYPos < 0 || heightYPos > size.height) {\n        overflow = true; // vertical overflow\n      } else if (textCoor.x - nameLength < 0 || textCoor.x + nameLength > size.width) {\n        overflow = true; // horizontal overflow\n      }\n      return overflow;\n    };\n\n    /**\n     * merge overlapping names into groupings. If multiple of the labels\n     * will overlap with one another, create an array of them and generate an\n     * overview name to show for all of them (ex above)\n     */\n    let labelsGrouped = labelsWithCoordinates.reduce((acc: GroupedLabelsWithCoors[], n) => {\n      // search through the other names and check whether any would overlap\n      const overlapIndex = acc.findIndex(g => {\n        // first check whether the two labels are on the same side of the plasmid\n        if (g.textAnchor === n.textAnchor) {\n          // characters are 13px high, this is creating 2px of padding\n          return Math.abs(g.textCoor.y - n.textCoor.y) < 15;\n        }\n        return false;\n      });\n\n      if (overlapIndex > -1) {\n        // add this label to an already existing group\n        acc[overlapIndex].labels.push(n.label);\n        acc[overlapIndex].grouped = true;\n        return acc;\n      }\n\n      // this name doesn't overlap with any others\n      // check whether the its name overflows the side of the viewer\n      const overflow = groupOverflows(n.label, n.textCoor);\n\n      // create a new \"group\" from this single label\n      return acc.concat({\n        forkCoor: null,\n        grouped: overflow,\n        labels: [n.label],\n        lineCoor: n.lineCoor,\n        name: n.label.name,\n        overflow: overflow,\n        textAnchor: n.textAnchor,\n        textCoor: n.textCoor,\n      });\n    }, []);\n\n    /**\n     * we now want to *ungroup* labels that we can do overlap avoidance for by doing small vertical\n     * adjustments. So for every group that is grouped but doesn't overlap (ie, the labels\n     * overlap but the group doesn't overflow the viewer's edge), try to spread out the\n     * labels so the user can see all of them at once and by default\n     *\n     * to do this we need to create a forkCoor, where the textCoors of the constituent\n     * labels will connect. That forkCoor, in turn, will be what connects to the edge of\n     * the plasmid\n     */\n    labelsGrouped = labelsGrouped.reduce((acc: GroupedLabelsWithCoors[], g: GroupedLabelsWithCoors, i: number) => {\n      // wasn't grouped or overflows the side of viewer or too many labels to try and help\n      if (!g.grouped || g.overflow || g.labels.length > 4) return acc.concat(g);\n\n      // since the labels are sorted (see circular.filterOutsideLabels), we can just check the\n      // coordinate of this group's neighbors to see whether we can spread out\n      let leftNeighbor: GroupedLabelsWithCoors | undefined = acc[acc.length - 1];\n      let rightNeighbor: GroupedLabelsWithCoors | undefined = labelsGrouped[i + 1];\n      if (leftNeighbor && leftNeighbor.textAnchor !== g.textAnchor) {\n        leftNeighbor = undefined;\n      }\n      if (rightNeighbor && rightNeighbor.textAnchor !== g.textAnchor) {\n        rightNeighbor = undefined;\n      }\n\n      // try and split/shift labels horizontally\n      const newLabels = g.labels.map((l, i2) => {\n        // if on right side of the viewer, shfit rightward\n        let xDelta = i2 * (3 * CHAR_WIDTH);\n        if (g.textAnchor === \"end\") xDelta = -xDelta; // otherwise shift leftward\n\n        let yDelta = (g.labels.length - i2) * -15; // start off by shifting upwards 15px if on top half\n        if (g.textCoor.y > center.y) yDelta = (g.labels.length - i2) * 15; // otherwise shift down\n\n        const newTextCoor = {\n          x: g.textCoor.x + xDelta, // try to make the adjustment to the left/right\n          y: g.textCoor.y + yDelta, // try ot make the adjustment to the top/bottom\n        };\n        const overflow = groupOverflows(l, newTextCoor);\n\n        return {\n          ...g,\n          forkCoor: g.textCoor,\n          grouped: overflow,\n          labels: [l],\n          overflow: overflow,\n          textCoor: newTextCoor,\n        };\n      });\n\n      // check whether any of these attempted new labels overlaps with the neighbors\n      const overlapWithNeighbors = newLabels.some(l =>\n        [leftNeighbor, rightNeighbor].some(n => n && Math.abs(n.textCoor.y - l.textCoor.y) < 15)\n      );\n      if (overlapWithNeighbors) return acc.concat(g); // just bail and return the original grouping\n      return acc.concat(...newLabels); // add the newly created labels\n    }, []);\n\n    /**\n     * give actual names. this is in a separate loop because the group name\n     * is going to indicate how many other sub labels are in a block/grouping\n     * and it's easier to make them once than to update continually in the reduce above\n     */\n    labelsGrouped = labelsGrouped.map(a => {\n      const firstName = a.labels[0].name;\n      const restLength = a.labels.length - 1;\n      if (a.overflow) {\n        // would extend outside the viewer if we included the group name\n        return { ...a, name: `+${restLength + 1}` };\n      } else if (a.grouped) {\n        // does not extend outside width/height of the viewer with group name\n        return { ...a, name: `${firstName},+${restLength}` };\n      }\n      // didn't have to be grouped at all\n      return { ...a, name: firstName };\n    });\n\n    /**\n     * prevent the labels from overflowing the side of the viewer\n     * even the small \"+1\" labels can overflow the sides if the viewer is small enough\n     * this pushes their textCoors inward to prevent that\n     */\n    return labelsGrouped.map(g => {\n      let { x, y } = g.textCoor;\n      // prevent the text label from overflowing the sides (w/ one char padding)\n      x = Math.max(CHAR_WIDTH * (g.name.length + 1), x);\n      x = Math.min(size.width - (g.name.length + 1) * CHAR_WIDTH, x);\n      y = Math.max(CHAR_WIDTH, y);\n      y = Math.min(size.height - CHAR_WIDTH - 12, y); // assuming 12px font-size w/ padding\n      return { ...g, textCoor: { x, y } };\n    });\n  };\n\n  // set the currently hovered group\n  setHoveredGroup = (hoveredGroup: string) => {\n    if (hoveredGroup !== this.state.hoveredGroup) {\n      this.setState({ hoveredGroup });\n    }\n  };\n\n  render() {\n    const { hoveredGroup, labelGroups } = this.state;\n    const { lineHeight, size } = this.props;\n\n    // find the currently hovered group\n    const hovered = labelGroups.find((g: GroupedLabelsWithCoors) => g.labels[0].id === hoveredGroup);\n\n    return (\n      <g className=\"la-vz-circular-labels\" onMouseLeave={() => this.setHoveredGroup(\"\")}>\n        {labelGroups.map(g => {\n          const [first] = g.labels;\n          // generate the line between the name and plasmid surface\n          const fC = g.forkCoor || g.textCoor;\n          const labelLines = (\n            <>\n              <path className=\"la-vz-label-line\" d={`M${g.lineCoor.x} ${g.lineCoor.y} L${fC.x} ${fC.y}`} />\n              {g.forkCoor && (\n                <path className=\"la-vz-label-line\" d={`M${fC.x} ${fC.y} L${g.textCoor.x} ${g.textCoor.y}`} />\n              )}\n            </>\n          );\n\n          if (!g.grouped) {\n            // just a single name in this position\n            return (\n              <g key={first.id}>\n                {labelLines}\n                <text\n                  className=\"la-vz-circular-label\"\n                  id={first.id}\n                  {...g.textCoor}\n                  dominantBaseline=\"middle\"\n                  textAnchor={g.textAnchor}\n                >\n                  {g.name}\n                </text>\n              </g>\n            );\n          } else if (first.id === hoveredGroup) {\n            // return nothing, this group block needs to be rendered last to be on top of the other elements in the SVG\n            return null;\n          }\n          // a group of names which should render an overlap block\n          return (\n            <g key={`${first.id}-listener`} id={`${first.id}-label`}>\n              {labelLines}\n              <text\n                className=\"la-vz-circular-label\"\n                dominantBaseline=\"middle\"\n                id={first.id}\n                textAnchor={g.textAnchor}\n                onMouseEnter={() => this.setHoveredGroup(first.id || \"\")}\n                {...g.textCoor}\n              >\n                {g.name}\n              </text>\n            </g>\n          );\n        })}\n        {hovered && (\n          <WrappedGroupLabel\n            group={hovered}\n            lineHeight={lineHeight}\n            setHoveredGroup={this.setHoveredGroup}\n            size={size}\n          />\n        )}\n      </g>\n    );\n  }\n}\n","import * as React from \"react\";\n\nimport { CHAR_WIDTH } from \"../SeqViewerContainer\";\nimport { ILabel } from \"./Circular\";\nimport { GroupedLabelsWithCoors } from \"./Labels\";\n\ninterface WrappedGroupLabelProps {\n  group: GroupedLabelsWithCoors;\n  lineHeight: number;\n  setHoveredGroup: (hoveredGroup: string) => void;\n  size: {\n    height: number;\n    width: number;\n  };\n}\n\n/**\n * a component that groups several other labels together so they're all viewable at once\n *\n * given the currently active annotation block, with multiple annotations and enzymes,\n * render each in a single \"block\", which is a g element with a rect \"containing\" the\n * names. This is slightly tricky because we can't put the text elements inside\n * the rect as though it were a div and have them fill it. instead, we must calculate\n * the height and width of the resulting annotaiton block\n */\nexport const WrappedGroupLabel = (props: WrappedGroupLabelProps) => {\n  const {\n    group,\n    lineHeight,\n    setHoveredGroup,\n    size: { height, width },\n  } = props;\n\n  // utility function for calculating the width of the last row before this one\n  // the +1 after name.length is for a comma\n  const calcRowWidth = (row: ILabel[]) => row.reduce((acc, label) => acc + (label.name.length + 1) * CHAR_WIDTH, 0);\n\n  // group the labels into rows with a preference with widths less than 200px\n  const lastRow = (acc: ILabel[][]) => acc[acc.length - 1];\n  const labelRows = group.labels.reduce((acc: ILabel[][], l: ILabel) => {\n    const nameWidth = l.name.length * CHAR_WIDTH;\n    if (nameWidth > width) {\n      // handle an edge case where the annotation name is MASSIVE and\n      // greater than the width of the sequence viewer\n      // split the name into separate rows so it's at max 75% of the\n      // seq viewer's width, but each still referencing the original label\n      const maxCharPerRow = Math.floor((width * 0.75) / CHAR_WIDTH);\n      const splitRegex = new RegExp(`.{1,${maxCharPerRow}}`, \"g\");\n      const splitLabelNameRows = l.name.match(splitRegex) || [];\n      if (splitLabelNameRows.length) {\n        splitLabelNameRows.forEach(splitLabel => {\n          acc.push([{ ...l, name: splitLabel.trim() }]);\n        });\n        return acc;\n      }\n    }\n    if (lastRow(acc)) {\n      // this isn't the first element, check width of last label row\n      const lastRowWidth = calcRowWidth(lastRow(acc));\n      if (lastRowWidth + nameWidth <= 200) {\n        // there's space in the last row for this label as well\n        acc[acc.length - 1].push(l);\n        return acc;\n      }\n    }\n    acc.push([l]); // need to make a new row for this label\n    return acc;\n  }, []);\n\n  // find the grouping's height and width (max row width)\n  const groupHeight = labelRows.length * lineHeight;\n  const groupWidth = labelRows.reduce(\n    (max, row, i) => Math.max(max, calcRowWidth(row) - (i === labelRows.length - 1 ? CHAR_WIDTH : 0)), // no comma on last row, correct\n    0\n  );\n  // add one CHAR_WIDTH padding to all sides of label box\n  const [rectHeight, rectWidth] = [groupHeight, groupWidth].map(x => x + 2 * CHAR_WIDTH);\n\n  // generate the line between the name and plasmid surface\n  const forkCoor = group.forkCoor || group.textCoor;\n  const linePath = group.forkCoor\n    ? `M${group.textCoor.x} ${group.textCoor.y} L${forkCoor.x} ${forkCoor.y}`\n    : `M${group.lineCoor.x} ${group.lineCoor.y} L${forkCoor.x} ${forkCoor.y}`;\n\n  // find the upper left coordinate for the group. if this is on the right\n  // side of the plasmid, this is upper left. if it's on the left side of\n  // the plasmid, it should be upper right\n  let { x, y } = group.textCoor;\n  x = group.textAnchor === \"end\" ? x - (group.labels[0].name.length + 3) * CHAR_WIDTH : x; // the +3) is for \",+#\"\n  y -= CHAR_WIDTH;\n  x = Math.max(x, 2 * CHAR_WIDTH); // prevent overflow of left or right side\n  x = Math.min(x, width - 2 * CHAR_WIDTH - groupWidth);\n  y = Math.max(y, 2 * CHAR_WIDTH); // prevent overflow of top and bottom\n  y = Math.min(y, height - 2 * CHAR_WIDTH - groupHeight);\n\n  // add padding to the box by adding/subbing a CHAR_WIDTH from edges\n  const groupCoor = { x, y };\n  const rectCoor = { x: x - CHAR_WIDTH, y: y - CHAR_WIDTH - 2 };\n\n  const key = `${group.labels[0].id}_overlay`;\n\n  return (\n    <g key={key} onMouseLeave={() => setHoveredGroup(\"\")}>\n      <path className=\"la-vz-label-line\" d={linePath} />\n      <rect fill=\"white\" height={rectHeight} stroke=\"none\" width={rectWidth} {...rectCoor} />\n      <text {...groupCoor}>\n        {labelRows.map((r, i) => (\n          // turn each group of label rows into a text span\n          // that's vertically spaced from the row above it\n          // add a comma to all but the last label\n          <tspan key={`${key}_${i}`} dominantBaseline=\"middle\" x={groupCoor.x} y={groupCoor.y + (i + 0.5) * lineHeight}>\n            {r.map((l, i2) => (\n              // every label should have its own id (used by selection\n              // handler) and trigger the hoverCutSite function\n              // if it's an enzyme\n              <React.Fragment key={l.id}>\n                <tspan\n                  className=\"la-vz-circular-label\"\n                  dominantBaseline=\"middle\"\n                  id={l.id}\n                  tabIndex={-1}\n                  y={groupCoor.y + (i + 0.5) * lineHeight}\n                >\n                  {l.name}\n                </tspan>\n                {i2 < r.length - 1 || i !== labelRows.length - 1 ? \",\" : \"\"}\n              </React.Fragment>\n            ))}\n          </tspan>\n        ))}\n      </text>\n      <rect fill=\"none\" height={rectHeight} stroke=\"black\" strokeWidth={1.5} width={rectWidth} {...rectCoor} />\n    </g>\n  );\n};\n","import * as React from \"react\";\n\nimport { Coor } from \"../elements\";\nimport SelectionContext from \"../selectionContext\";\nimport { GenArcFunc, RENDER_SEQ_LENGTH_CUTOFF } from \"./Circular\";\n\ninterface CircularSelectionProps {\n  findCoor: (index: number, radius: number, rotate?: boolean) => Coor;\n  genArc: GenArcFunc;\n  getRotation: (index: number) => string;\n  lineHeight: number;\n  radius: number;\n  seq: string;\n  seqLength: number;\n  totalRows: number;\n}\n\n/**\n * renders the selection range of the plasmid viewer\n * consists of three parts (during an active selection):\n * \t\tleft sidebar, right sidebar and the middle selection region\n *\n * if nothing is selected, it should just be the single cursor\n * without a middle highlighted region\n */\nexport class Selection extends React.PureComponent<CircularSelectionProps> {\n  static contextType = SelectionContext;\n  static context: React.ContextType<typeof SelectionContext>;\n  declare context: React.ContextType<typeof SelectionContext>;\n\n  render() {\n    const { findCoor, genArc, getRotation, lineHeight, radius, seq, seqLength, totalRows } = this.props;\n    const { clockwise, end, ref, start } = this.context;\n\n    if (typeof start === \"undefined\" || typeof end === \"undefined\") {\n      return;\n    }\n\n    // calculate the length of the current selection region\n    let selLength = 0;\n    // start and end is the same, and something has been selected\n    if (start === end && ref === \"ALL\") {\n      selLength = seqLength;\n    } else if (start > end) {\n      selLength = clockwise !== false ? Math.abs(end - start + seqLength) : -Math.abs(start - end);\n    } else if (start < end) {\n      selLength = clockwise !== false ? Math.abs(end - start) : -Math.abs(start - end + seqLength);\n    }\n\n    // for all cases when the entire circle is selected\n    if (Math.abs(selLength) === seqLength) {\n      const adjust = selLength > 0 ? -0.1 : 0.1;\n      selLength += adjust; // can't make an arc from a full circle\n    }\n\n    // const calc the size of the selection radii\n    let topR = radius + lineHeight; // outer radius\n    if (seq.length <= RENDER_SEQ_LENGTH_CUTOFF) {\n      topR += 2 * lineHeight + 3;\n    }\n    const bAdjust = lineHeight * (totalRows - 1); // adjust bottom radius\n    let bottomR = radius - bAdjust; // inner radius\n\n    if (bottomR < 0 || topR < 0) {\n      bottomR = 0;\n      topR = radius;\n    }\n\n    // find start and stop coordinates to created edges\n    const lineTop = findCoor(0, topR);\n    const lineBottom = findCoor(0, bottomR);\n    const edgePath = `M ${lineBottom.x} ${lineBottom.y}\n\t\t\tL ${lineTop.x} ${lineTop.y}`;\n\n    // !== false is needed because it can be undefined\n    const sFlagF = clockwise !== false || ref === \"ALL\" ? true : false; // sweep flag of first arc\n\n    let lArc = false;\n    if (clockwise !== false && selLength > seqLength / 2) {\n      lArc = true;\n    } else if (clockwise === false && Math.abs(selLength) > seqLength / 2) {\n      lArc = true;\n    }\n\n    return (\n      <g>\n        {selLength && (\n          <path\n            className=\"la-vz-selection\"\n            d={genArc({\n              innerRadius: bottomR,\n              largeArc: lArc,\n              length: selLength,\n              outerRadius: topR,\n              sweepFWD: sFlagF,\n            })}\n            shapeRendering=\"auto\"\n            stroke=\"none\"\n            transform={getRotation(start)}\n          />\n        )}\n        <path\n          className=\"la-vz-selection-edge\"\n          d={edgePath}\n          shapeRendering=\"geometricPrecision\"\n          strokeWidth={1}\n          transform={getRotation(start)}\n        />\n        {selLength && (\n          <path\n            className=\"la-vz-selection-edge\"\n            d={edgePath}\n            shapeRendering=\"geometricPrecision\"\n            strokeWidth={1}\n            transform={getRotation(end)}\n          />\n        )}\n      </g>\n    );\n  }\n}\n","import * as React from \"react\";\n\ntype SelectionTypeEnum = \"ANNOTATION\" | \"FIND\" | \"TRANSLATION\" | \"ENZYME\" | \"SEQ\" | \"AMINOACID\" | \"HIGHLIGHT\" | \"\";\n\n/* Selection holds meta about the viewer(s) active selection. */\nexport interface Selection {\n  clockwise?: boolean;\n  color?: string;\n  direction?: number;\n  end?: number;\n  id?: string;\n  length?: number;\n  name?: string;\n  parent?: Selection;\n  ref?: null | string;\n  start?: number;\n  type: SelectionTypeEnum;\n  viewer?: \"LINEAR\" | \"CIRCULAR\";\n}\n\n/** Initial/default selection */\nexport const defaultSelection: Selection = {\n  clockwise: true,\n  end: 0,\n  length: 0,\n  name: \"\",\n  ref: null,\n  start: 0,\n  type: \"\",\n};\n\n/** Default context object */\nconst SelectionContext = React.createContext(defaultSelection);\nSelectionContext.displayName = \"SelectionContext\";\n\nexport default SelectionContext;\n","import * as React from \"react\";\n\nimport CentralIndexContext from \"./centralIndexContext\";\nimport debounce from \"./debounce\";\nimport { Selection } from \"./selectionContext\";\n\nexport interface EventsHandlerProps {\n  bpsPerBlock: number;\n  children: React.ReactNode;\n  copyEvent: (e: React.KeyboardEvent<HTMLElement>) => boolean;\n  handleMouseEvent: (e: any) => void;\n  selection: Selection;\n  seq: string;\n  setSelection: (selection: Selection) => void;\n}\n\n/**\n * EventHandler handles the routing of all events, including keypresses, mouse clicks, etc.\n */\nexport class EventHandler extends React.PureComponent<EventsHandlerProps> {\n  static contextType = CentralIndexContext;\n  static context: React.ContextType<typeof CentralIndexContext>;\n  declare context: React.ContextType<typeof CentralIndexContext>;\n\n  clickedOnce: EventTarget | null = null;\n  clickedTwice: EventTarget | null = null;\n\n  /**\n   * action handler for a keyboard keypresses.\n   */\n  handleKeyPress = (e: React.KeyboardEvent<HTMLElement>) => {\n    const keyType = this.keypressMap(e);\n    if (!keyType) {\n      return; // not recognized key\n    }\n    this.handleSeqInteraction(keyType);\n  };\n\n  /**\n   * maps a keypress to an interaction (String)\n   *\n   * [\"All\", \"Copy\", \"Up\", \"Right\", \"Down\", \"Left\"]\n   */\n  keypressMap = (e: React.KeyboardEvent<HTMLElement>) => {\n    const { copyEvent } = this.props;\n\n    if (copyEvent && copyEvent(e)) {\n      return \"Copy\";\n    }\n\n    const { key, shiftKey } = e;\n    switch (key) {\n      case \"ArrowLeft\":\n      case \"ArrowRight\":\n      case \"ArrowUp\":\n      case \"ArrowDown\":\n        return shiftKey ? `Shift${key}` : key;\n      default:\n        return null;\n    }\n  };\n\n  /**\n   * Respond to any of:\n   * \tAll: cmd + A, select all\n   * \tCopy: cmd + C, copy\n   * \tUp, Right, Down, Left: some directional movement of the cursor\n   */\n  handleSeqInteraction = async type => {\n    const { seq } = this.props;\n    const seqLength = seq.length;\n    const bpsPerBlock = this.props.bpsPerBlock || 1;\n\n    switch (type) {\n      case \"SelectAll\": {\n        this.selectAllHotkey();\n        break;\n      }\n      case \"Copy\": {\n        this.handleCopy();\n        break;\n      }\n      case \"ArrowUp\":\n      case \"ArrowRight\":\n      case \"ArrowDown\":\n      case \"ArrowLeft\":\n      case \"ShiftArrowUp\":\n      case \"ShiftArrowRight\":\n      case \"ShiftArrowDown\":\n      case \"ShiftArrowLeft\": {\n        const { selection, setSelection } = this.props;\n        const { end, start } = selection;\n\n        if (typeof start === \"undefined\" || typeof end === \"undefined\") {\n          return;\n        }\n\n        let { clockwise } = selection;\n        let newPos = end;\n        if (type === \"ArrowUp\" || type === \"ShiftArrowUp\") {\n          // if there are multiple blocks or just one. If one, just inc by one\n          if (seqLength / bpsPerBlock > 1) {\n            newPos -= bpsPerBlock;\n          } else {\n            newPos -= 1;\n          }\n        } else if (type === \"ArrowRight\" || type === \"ShiftArrowRight\") {\n          newPos += 1;\n        } else if (type === \"ArrowDown\" || type === \"ShiftArrowDown\") {\n          // if there are multiple blocks or just one. If one, just inc by one\n          if (seqLength / bpsPerBlock > 1) {\n            newPos += bpsPerBlock;\n          } else {\n            newPos += 1;\n          }\n        } else if (type === \"ArrowLeft\" || type === \"ShiftArrowLeft\") {\n          newPos -= 1;\n        }\n\n        if (newPos <= -1) {\n          newPos = seqLength + newPos;\n        }\n        if (newPos >= seqLength + 1) {\n          newPos -= seqLength;\n        }\n        const selLength = Math.abs(start - end);\n        clockwise =\n          selLength === 0\n            ? type === \"ArrowRight\" || type === \"ShiftArrowRight\" || type === \"ArrowDown\" || type === \"ShiftArrowDown\"\n            : clockwise;\n        if (newPos !== start && !type.startsWith(\"Shift\")) {\n          setSelection({\n            clockwise: true,\n            end: newPos,\n            start: newPos,\n            type: \"SEQ\",\n          });\n        } else if (type.startsWith(\"Shift\")) {\n          setSelection({\n            clockwise: clockwise,\n            end: newPos,\n            start: start,\n            type: \"SEQ\",\n          });\n        }\n        break;\n      }\n      default: {\n        break;\n      }\n    }\n  };\n\n  /**\n   * Copy the current sequence selection to the user's clipboard\n   */\n  handleCopy = () => {\n    const {\n      selection: { end, ref, start },\n      seq,\n    } = this.props;\n\n    if (!document) return;\n\n    const formerFocus = document.activeElement;\n    const tempNode = document.createElement(\"textarea\");\n    if (ref === \"ALL\") {\n      tempNode.innerText = seq;\n    } else {\n      tempNode.innerText = seq.substring(start || 0, end);\n    }\n    if (document.body) {\n      document.body.appendChild(tempNode);\n    }\n    tempNode.select();\n    document.execCommand(\"copy\");\n    tempNode.remove();\n    if (formerFocus) {\n      // @ts-expect-error ts-migrate(2339) FIXME: Property 'focus' does not exist on type 'Element'.\n      formerFocus.focus();\n    }\n  };\n\n  /**\n   * select all of the sequence\n   */\n  selectAllHotkey = () => {\n    const {\n      selection,\n      selection: { start },\n      setSelection,\n    } = this.props;\n\n    const newSelection = {\n      ...selection,\n      clockwise: true,\n      end: start,\n      ref: \"ALL\",\n      start: start, // ref to all means select the whole thing\n    };\n\n    setSelection(newSelection);\n  };\n\n  handleTripleClick = () => {\n    this.selectAllHotkey();\n  };\n\n  resetClicked = debounce(() => {\n    this.clickedOnce = null;\n    this.clickedTwice = null;\n  }, 250);\n\n  /**\n   * if the contextMenu button is clicked, check whether it was clicked\n   * over a noteworthy element, for which db mutations have been written.\n   *\n   * if it is, mutate the contextMenu to account for those potential interactions\n   * and pass on the click. Otherwise, do nothing\n   *\n   * if it is a regular click, pass on as normal\n   */\n  handleMouseEvent = (e: React.MouseEvent) => {\n    const { handleMouseEvent } = this.props;\n\n    if (e.type === \"mouseup\") {\n      this.resetClicked();\n      if (this.clickedOnce === e.target && this.clickedTwice === e.target) {\n        this.handleTripleClick();\n        this.resetClicked();\n      } else if (this.clickedOnce === e.target && this.clickedTwice === null) {\n        this.clickedOnce = e.target;\n        this.clickedTwice = e.target;\n        this.resetClicked();\n      } else {\n        this.clickedOnce = e.target;\n        this.resetClicked();\n      }\n    }\n    const { button, ctrlKey, type } = e;\n    const ctxMenuClick = type === \"mousedown\" && button === 0 && ctrlKey;\n\n    if (e.button === 0 && !ctxMenuClick) {\n      // it's a mouse drag event or an element was clicked\n      handleMouseEvent(e);\n    }\n  };\n\n  render = () => (\n    <div\n      className=\"la-vz-viewer-event-router\"\n      id=\"la-vz-event-router\"\n      role=\"presentation\"\n      tabIndex={-1}\n      onKeyDown={this.handleKeyPress}\n      onMouseDown={this.handleMouseEvent}\n      onMouseMove={this.props.handleMouseEvent}\n      onMouseUp={this.handleMouseEvent}\n    >\n      {this.props.children}\n    </div>\n  );\n}\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing.\n *\n * from: https://davidwalsh.name/javascript-debounce-function\n */\nexport default (func, wait, immediate = true) => {\n  let timeout;\n  return function (...args) {\n    const later = function () {\n      timeout = null;\n      if (!immediate) func.apply(this, args);\n    };\n\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) {\n      func.apply(this, args);\n    }\n  };\n};\n","import * as React from \"react\";\n\nimport { InputRefFunc } from \"../SelectionHandler\";\nimport { Annotation, CutSite, Highlight, NameRange, Range, SeqType, Size } from \"../elements\";\nimport { createMultiRows, createSingleRows, stackElements } from \"../elementsToRows\";\nimport isEqual from \"../isEqual\";\nimport { createTranslations } from \"../sequence\";\nimport InfiniteScroll from \"./InfiniteScroll\";\nimport SeqBlock from \"./SeqBlock\";\n\nexport interface LinearProps {\n  annotations: Annotation[];\n  bpColors?: { [key: number | string]: string };\n  bpsPerBlock: number;\n  charWidth: number;\n  compSeq: string;\n  cutSites: CutSite[];\n  elementHeight: number;\n  handleMouseEvent: React.MouseEventHandler;\n  highlights: Highlight[];\n  inputRef: InputRefFunc;\n  lineHeight: number;\n  onAnnotationStartHeightsCalculated?: (annotationStartHeights: { [key: string]: number }) => void;\n  onUnmount: (id: string) => void;\n  search: NameRange[];\n  seq: string;\n  seqFontSize: number;\n  seqType: SeqType;\n  showComplement: boolean;\n  showIndex: boolean;\n  size: Size;\n  subseq?: { end?: number; start: number };\n  translations: Range[];\n  zoom: { linear: number };\n}\n\n/**\n * A linear sequence viewer.\n *\n * Comprised of SeqBlock(s), which are themselves comprised of:\n * \ttext (seq)\n * \tIndex (axis)\n * \tAnnotations\n *  Finds\n *  Translations\n *  Selections\n */\nexport default class Linear extends React.Component<LinearProps> {\n  /**\n   * Deep equality comparison\n   */\n  shouldComponentUpdate = (nextProps: LinearProps) => !isEqual(nextProps, this.props);\n\n  /**\n   * given all the information needed to render all the seqblocks (ie, sequence, compSeq\n   * list of annotations), cut up all that information into an array.\n   * Each element in that array pertaining to one SeqBlock\n   *\n   * For example, if each seqblock has 2 bps, and the seq is \"ATGCAG\", this should first\n   * make an array of [\"AT\", \"GC\", \"AG\"], and then pass \"AT\" to the first SeqBlock, \"GC\" to\n   * the second seqBlock, and \"AG\" to the third seqBlock.\n   */\n  render() {\n    const {\n      annotations: annotationsProp,\n      bpsPerBlock,\n      compSeq: compSeqProp,\n      cutSites,\n      elementHeight,\n      highlights,\n      lineHeight,\n      onAnnotationStartHeightsCalculated,\n      onUnmount,\n      search,\n      seq: seqProp,\n      seqType,\n      showComplement,\n      showIndex,\n      size,\n      subseq,\n      translations,\n      zoom,\n    } = this.props;\n\n    let compSeq = compSeqProp;\n    let seq = seqProp;\n    let annotations = annotationsProp;\n    let displayIndexOffset = 0;\n    if (typeof subseq !== \"undefined\") {\n      const end = typeof subseq.end !== \"undefined\" ? subseq.end : seq.length;\n      seq = seq.slice(subseq.start, end);\n      compSeq = compSeq.slice(subseq.start, end);\n      annotations = annotations\n        .map(a => ({ ...a, end: a.end - subseq.start, start: a.start - subseq.start }))\n        .filter(a => a.start <= seq.length);\n      displayIndexOffset = subseq.start;\n    }\n\n    // un-official definition for being zoomed in. Being over 10 seems like a decent cut-off\n    const zoomed = zoom.linear > 10;\n\n    // the actual fragmenting of the sequence into subblocks. generates all info that will be needed\n    // including sequence blocks, complement blocks, annotations, blockHeights\n    const seqLength = seq.length;\n    let arrSize = Math.round(Math.ceil(seqLength / bpsPerBlock));\n    if (arrSize === Number.POSITIVE_INFINITY) arrSize = 1;\n\n    const ids = new Array(arrSize); // array of SeqBlock ids\n    const seqs = new Array(arrSize); // arrays for sequences...\n    const compSeqs = new Array(arrSize); // complements...\n    const blockHeights = new Array(arrSize); // block heights...\n\n    const cutSiteRows = cutSites.length\n      ? createSingleRows(cutSites, bpsPerBlock, arrSize)\n      : new Array(arrSize).fill([]);\n\n    /**\n     * Vet the annotations for starts and ends at zero index\n     */\n    const vetAnnotations = (annotations: Annotation[]) => {\n      annotations.forEach(ann => {\n        if (ann.end === 0 && ann.start > ann.end) ann.end = seqLength;\n        if (ann.start === seqLength && ann.end < ann.start) ann.start = 0;\n      });\n      return annotations;\n    };\n\n    const annotationRows = createMultiRows(\n      stackElements(vetAnnotations(annotations), seq.length),\n      bpsPerBlock,\n      arrSize\n    );\n\n    const searchRows: NameRange[][] =\n      search && search.length ? createSingleRows(search, bpsPerBlock, arrSize) : new Array(arrSize).fill([]);\n\n    const highlightRows = createSingleRows(highlights, bpsPerBlock, arrSize);\n\n    const translationRows = translations.length\n      ? createSingleRows(createTranslations(translations, seq, seqType), bpsPerBlock, arrSize)\n      : new Array(arrSize).fill([]);\n\n    for (let i = 0; i < arrSize; i += 1) {\n      const firstBase = i * bpsPerBlock;\n      const lastBase = firstBase + bpsPerBlock;\n\n      // cut the new sequence and, if also looking for complement, the complement as well\n      seqs[i] = seq.substring(firstBase, lastBase);\n      compSeqs[i] = compSeq.substring(firstBase, lastBase);\n\n      // store a unique id from the block\n      ids[i] = seqs[i] + String(i);\n\n      // find the line height for the seq block based on how many rows need to be shown\n      let blockHeight = lineHeight * 1.1; // this is for padding between the SeqBlocks\n      if (seqType != \"aa\") {\n        blockHeight += lineHeight; // for sequence row\n      }\n      if (zoomed) {\n        blockHeight += showComplement ? lineHeight : 0; // double for complement + 2px margin\n      }\n      if (showIndex) {\n        blockHeight += lineHeight; // another for index row\n      }\n      if (translationRows[i].length) {\n        blockHeight += translationRows[i].length * elementHeight;\n      }\n      if (annotationRows[i].length) {\n        blockHeight += annotationRows[i].length * elementHeight;\n      }\n      if (cutSiteRows[i].length) {\n        blockHeight += lineHeight; // space for cutsite name\n      }\n\n      blockHeights[i] = blockHeight;\n    }\n\n    if (typeof onAnnotationStartHeightsCalculated === \"function\") {\n      // console.debug(\"annotationRows\", annotationRows);\n      // console.debug(\"blockHeights\", blockHeights);\n\n      const annotationStartHeights = {};\n      let cumulativeHeight = 0;\n\n      blockHeights.forEach((height, idx) => {\n        annotationRows[idx].forEach(row => {\n          row.forEach(({ name }) => {\n            if (!(name in annotationStartHeights)) {\n              annotationStartHeights[name] = cumulativeHeight;\n            }\n          });\n        });\n        cumulativeHeight += height;\n      });\n\n      onAnnotationStartHeightsCalculated(annotationStartHeights);\n    }\n\n    const seqBlocks: JSX.Element[] = [];\n    let yDiff = 0;\n    for (let i = 0; i < arrSize; i += 1) {\n      const firstBase = i * bpsPerBlock;\n      seqBlocks.push(\n        <SeqBlock\n          key={ids[i]}\n          annotationRows={annotationRows[i]}\n          blockHeight={blockHeights[i]}\n          bpColors={this.props.bpColors}\n          bpsPerBlock={bpsPerBlock}\n          charWidth={this.props.charWidth}\n          compSeq={compSeqs[i]}\n          cutSiteRows={cutSiteRows[i]}\n          displayIndexOffset={displayIndexOffset}\n          elementHeight={elementHeight}\n          firstBase={firstBase}\n          fullSeq={seq}\n          handleMouseEvent={this.props.handleMouseEvent}\n          highlights={highlightRows[i]}\n          id={ids[i]}\n          inputRef={this.props.inputRef}\n          lineHeight={lineHeight}\n          searchRows={searchRows[i]}\n          seq={seqs[i]}\n          seqFontSize={this.props.seqFontSize}\n          seqType={seqType}\n          showComplement={showComplement}\n          showIndex={showIndex}\n          size={size}\n          translations={translationRows[i]}\n          y={yDiff}\n          zoom={zoom}\n          zoomed={zoomed}\n          onUnmount={onUnmount}\n        />\n      );\n      yDiff += blockHeights[i];\n    }\n\n    return (\n      seqBlocks.length && (\n        <InfiniteScroll\n          blockHeights={blockHeights}\n          bpsPerBlock={bpsPerBlock}\n          seqBlocks={seqBlocks}\n          size={size}\n          totalHeight={blockHeights.reduce((acc, h) => acc + h, 0)}\n        />\n      )\n    );\n  }\n}\n","import { Range, SeqType } from \"./elements\";\nimport randomid from \"./randomid\";\n\n/**\n * Map of nucleotide bases\n */\nexport const nucleotides = { a: \"a\", c: \"c\", g: \"g\", t: \"t\", u: \"u\" };\n\n/**\n * Map of DNA basepairs to all the bases encoded by that character in the DNA alphabet.\n *\n * https://meme-suite.org/meme/doc/alphabets.html\n */\nconst dnaAlphabet = {\n  // \".\": { a: \"a\", c: \"c\", g: \"g\", t: \"t\" },\n  b: { c: \"c\", g: \"g\", t: \"t\" },\n  d: { a: \"a\", g: \"g\", t: \"t\" },\n  h: { a: \"a\", c: \"c\", t: \"t\" },\n  k: { g: \"g\", t: \"t\" },\n  m: { a: \"a\", c: \"c\" },\n  n: { a: \"a\", c: \"c\", g: \"g\", t: \"t\" },\n  r: { a: \"a\", g: \"g\" },\n  s: { c: \"c\", g: \"g\" },\n  v: { a: \"a\", c: \"c\", g: \"g\" },\n  w: { a: \"a\", t: \"t\" },\n  x: { a: \"a\", c: \"c\", g: \"g\", t: \"t\" },\n  y: { c: \"c\", t: \"t\" },\n};\n\n/**\n * Map of RNA basepairs to all the bases encoded by that character in the RNA alphabet.\n *\n * https://meme-suite.org/meme/doc/alphabets.html\n */\nconst rnaAlphabet = {\n  // \".\": { c: \"c\", g: \"g\", u: \"u\" },\n  b: { c: \"c\", g: \"g\", u: \"u\" },\n  d: { a: \"a\", g: \"g\", u: \"u\" },\n  h: { a: \"a\", c: \"c\", u: \"u\" },\n  k: { g: \"g\", u: \"u\" },\n  m: { a: \"a\", c: \"c\" },\n  n: { a: \"a\", c: \"c\", g: \"g\", u: \"u\" },\n  r: { a: \"a\", g: \"g\" },\n  s: { c: \"c\", g: \"g\" },\n  v: { a: \"a\", c: \"c\", g: \"g\" },\n  w: { a: \"a\", u: \"u\" },\n  x: { a: \"a\", c: \"c\", g: \"g\", u: \"u\" },\n  y: { c: \"c\", u: \"u\" },\n};\n\n/**\n * mapping the 64 standard codons to amino acids\n *\n * adapted from: \"https://github.com/keithwhor/NtSeq/blob/master/lib/nt.js\n */\nconst dnaCodonToAminoAcid = {\n  AAA: \"K\",\n  AAC: \"N\",\n  AAG: \"K\",\n  AAT: \"N\",\n  ACA: \"T\",\n  ACC: \"T\",\n  ACG: \"T\",\n  ACT: \"T\",\n  AGA: \"R\",\n  AGC: \"S\",\n  AGG: \"R\",\n  AGT: \"S\",\n  ATA: \"I\",\n  ATC: \"I\",\n  ATG: \"M\",\n  ATT: \"I\",\n  CAA: \"Q\",\n  CAC: \"H\",\n  CAG: \"Q\",\n  CAT: \"H\",\n  CCA: \"P\",\n  CCC: \"P\",\n  CCG: \"P\",\n  CCT: \"P\",\n  CGA: \"R\",\n  CGC: \"R\",\n  CGG: \"R\",\n  CGT: \"R\",\n  CTA: \"L\",\n  CTC: \"L\",\n  CTG: \"L\",\n  CTT: \"L\",\n  GAA: \"E\",\n  GAC: \"D\",\n  GAG: \"E\",\n  GAT: \"D\",\n  GCA: \"A\",\n  GCC: \"A\",\n  GCG: \"A\",\n  GCT: \"A\",\n  GGA: \"G\",\n  GGC: \"G\",\n  GGG: \"G\",\n  GGT: \"G\",\n  GTA: \"V\",\n  GTC: \"V\",\n  GTG: \"V\",\n  GTT: \"V\",\n  TAA: \"*\",\n  TAC: \"Y\",\n  TAG: \"*\",\n  TAT: \"Y\",\n  TCA: \"S\",\n  TCC: \"S\",\n  TCG: \"S\",\n  TCT: \"S\",\n  TGA: \"*\",\n  TGC: \"C\",\n  TGG: \"W\",\n  TGT: \"C\",\n  TTA: \"L\",\n  TTC: \"F\",\n  TTG: \"L\",\n  TTT: \"F\",\n};\n\nconst aminoAcids = Array.from(new Set(Object.values(dnaCodonToAminoAcid)).values()).join(\"\");\nconst aminoAcidsMap = aminoAcids\n  .toLowerCase()\n  .split(\"\")\n  .filter(aa => aa !== \"*\") // TODO\n  .reduce((acc, aa) => ({ ...acc, [aa]: aa }), {});\n\n/**\n * Map of amino acids alphabet characters to what each matches.\n *\n * https://meme-suite.org/meme/doc/alphabets.html\n */\nconst aaAlphabet = {\n  b: { d: \"d\", n: \"n\" },\n  j: { i: \"i\", l: \"l\" },\n  x: aminoAcidsMap,\n  z: { e: \"e\", q: \"q\" },\n};\n\n/** Given a seq type, return the associated symbol alphabet */\nexport const getAlphabet = (seqType: SeqType) => {\n  return {\n    aa: aaAlphabet,\n    dna: dnaAlphabet,\n    rna: rnaAlphabet,\n    unknown: dnaAlphabet,\n  }[seqType];\n};\n\nconst aminoAcidRegex = new RegExp(`^[${aminoAcids}BJXZ]+$`, \"i\");\n\n/**\n * Infer the type of a sequence. This is *without* any ambiguous symbols, so maybe wrong by being overly strict.\n */\nexport const guessType = (seq: string): SeqType => {\n  seq = seq.substring(0, 1000);\n  if (/^[atgcn.]+$/i.test(seq)) {\n    return \"dna\";\n  } else if (/^[augcn.]+$/i.test(seq)) {\n    return \"rna\";\n  } else if (aminoAcidRegex.test(seq)) {\n    return \"aa\";\n  }\n  return \"unknown\";\n};\n\n/**\n * Reverses a string sequence\n */\nexport const reverse = (seq: string): string => seq.split(\"\").reverse().join(\"\");\n\n// from http://arep.med.harvard.edu/labgc/adnan/projects/Utilities/revcomp.html\nlet dnaComp = {\n  a: \"t\",\n  b: \"v\",\n  c: \"g\",\n  d: \"h\",\n  g: \"c\",\n  h: \"d\",\n  k: \"m\",\n  m: \"k\",\n  n: \"n\",\n  r: \"y\",\n  s: \"s\",\n  t: \"a\",\n  u: \"a\",\n  v: \"b\",\n  w: \"w\",\n  x: \"x\",\n  y: \"r\",\n};\ndnaComp = {\n  ...dnaComp,\n  ...Object.keys(dnaComp).reduce((acc, k) => ({ ...acc, [k.toUpperCase()]: dnaComp[k].toUpperCase() }), {}),\n};\n\n/**\n * A map from each basepair to its complement\n */\nconst typeToCompMap = {\n  aa: Object.keys(aminoAcidsMap).reduce((acc, k) => ({ ...acc, [k.toUpperCase()]: \"\", [k.toLowerCase()]: \"\" }), {\n    B: \"\",\n    J: \"\",\n    Z: \"\",\n    b: \"\",\n    j: \"\",\n    z: \"\",\n  }),\n  dna: dnaComp,\n  rna: { ...dnaComp, A: \"U\", a: \"u\" },\n  undefined: dnaComp,\n};\n\n/**\n * Return the filtered sequence and its complement if its an empty string, return the same for both.\n */\nexport const complement = (origSeq: string, seqType: SeqType): { compSeq: string; seq: string } => {\n  if (!origSeq) {\n    return { compSeq: \"\", seq: \"\" };\n  }\n  const compMap = typeToCompMap[seqType];\n\n  // filter out unrecognized base pairs and build up the complement\n  let seq = \"\";\n  let compSeq = \"\";\n  for (let i = 0, origLength = origSeq.length; i < origLength; i += 1) {\n    if (origSeq[i] in compMap) {\n      seq += origSeq[i];\n      compSeq += compMap[origSeq[i]];\n    }\n  }\n  return { compSeq, seq };\n};\n\n/**\n * Return the reverse complement of a DNA sequence\n */\nexport const reverseComplement = (inputSeq: string, seqType: SeqType): string => {\n  const { compSeq } = complement(inputSeq, seqType);\n  return compSeq.split(\"\").reverse().join(\"\");\n};\n\nconst fwd = new Set([\"FWD\", \"fwd\", \"FORWARD\", \"forward\", \"FOR\", \"for\", \"TOP\", \"top\", \"1\", 1]);\nconst rev = new Set([\"REV\", \"rev\", \"REVERSE\", \"reverse\", \"BOTTOM\", \"bottom\", \"-1\", -1]);\n\n/**\n * Parse the user defined direction, estimate the direction of the element\n *\n * ```js\n * directionality(\"FWD\") => 1\n * directionality(\"FORWARD\") => 1\n * ```\n */\nexport const directionality = (direction: number | string | undefined): -1 | 0 | 1 => {\n  if (!direction) {\n    return 0;\n  }\n  if (fwd.has(direction)) {\n    return 1;\n  }\n  if (rev.has(direction)) {\n    return -1;\n  }\n  return 0;\n};\n\nconst rnaCodonToAminoAcid = Object.keys(dnaCodonToAminoAcid).reduce(\n  (acc, k) => ({ ...acc, [k.replace(/T/gi, \"U\")]: dnaCodonToAminoAcid[k] }),\n  {}\n);\n\n/**\n * Given a sequence, translate it into an Amino Acid sequence\n */\nexport const translate = (seqInput: string, seqType: SeqType): string => {\n  if (seqType === \"aa\") {\n    return seqInput;\n  }\n\n  let codonMap: { [key: string]: string } = dnaCodonToAminoAcid;\n  if (seqType === \"rna\") {\n    codonMap = rnaCodonToAminoAcid;\n  }\n\n  const seq = seqInput.toUpperCase();\n  const seqLength = seq.length;\n  let aaSeq = \"\";\n  for (let i = 0, j = 0; i < seqLength; i += 3, j += 1) {\n    if (i + 2 < seqLength) {\n      aaSeq += codonMap[seq[i] + seq[i + 1] + seq[i + 2]] || \"?\";\n    }\n  }\n  return aaSeq;\n};\n\n/**\n * for each translation (range + direction) and the input sequence, convert it to a translation and amino acid sequence\n */\nexport const createTranslations = (translations: Range[], seq: string, seqType: SeqType) => {\n  // elongate the original sequence to account for translations that cross the zero index\n  const seqDoubled = seq + seq;\n  const bpPerBlock = seqType === \"aa\" ? 1 : 3;\n\n  return translations.map(t => {\n    const { direction, start } = t;\n    let { end } = t;\n    if (start > end) end += seq.length;\n\n    // TODO: below will fail on an \"aa\" type sequence if direction = -1. At the time of writing, this won't be reached, anyway\n\n    // get the subsequence\n    const subSeq =\n      direction === 1 ? seqDoubled.substring(start, end) : reverseComplement(seqDoubled.substring(start, end), seqType);\n\n    // translate the subsequence\n    const aaSeq =\n      direction === 1 ? translate(subSeq, seqType) : translate(subSeq, seqType).split(\"\").reverse().join(\"\"); // translate\n\n    // the starting point for the translation, reading left to right (regardless of translation\n    // direction). this is later needed to calculate the number of bps needed in the first\n    // and last codons\n    const tStart = direction === 1 ? start : end - aaSeq.length * bpPerBlock;\n    let tEnd = direction === 1 ? (start + aaSeq.length * bpPerBlock) % seq.length : end % seq.length;\n\n    // treating one particular edge case where the start at zero doesn't make sense\n    if (tEnd === 0) {\n      tEnd += seq.length;\n    }\n\n    return {\n      id: randomid(),\n      name: \"translation\",\n      ...t,\n      AAseq: aaSeq,\n      end: tEnd,\n      start: tStart,\n    };\n  });\n};\n","/**\n * Create a random 10 digit string ID\n *\n * Lazily copied from StackOverflow: https://stackoverflow.com/a/57355127\n */\nexport default (n = 10) => {\n  const add = 1;\n  let max = 12 - add;\n  max = Math.pow(10, n + add);\n  const min = max / 10; // Math.pow(10, n) basically\n  const number = Math.floor(Math.random() * (max - min + 1)) + min;\n  return String(number).substring(add);\n};\n","import * as React from \"react\";\n\nimport CentralIndexContext from \"../centralIndexContext\";\nimport { Size } from \"../elements\";\nimport isEqual from \"../isEqual\";\n\ninterface InfiniteScrollProps {\n  blockHeights: number[];\n  bpsPerBlock: number;\n  seqBlocks: JSX.Element[];\n  size: Size;\n  totalHeight: number;\n}\n\ninterface InfiniteScrollState {\n  centralIndex: number;\n  visibleBlocks: number[];\n}\n\n/**\n * InfiniteScroll is a wrapper around the seqBlocks. Renders only the seqBlocks that are\n * within the range of the current dom viewerport\n *\n * This component should sense scroll events and, during one, recheck which sequences are shown.\n */\nexport default class InfiniteScroll extends React.PureComponent<InfiniteScrollProps, InfiniteScrollState> {\n  static contextType = CentralIndexContext;\n  static context: React.ContextType<typeof CentralIndexContext>;\n  declare context: React.ContextType<typeof CentralIndexContext>;\n\n  /** ref to a div that's for scrolling: https://flow.org/en/docs/react/types/ */\n  scroller;\n  insideDOM;\n  timeoutID;\n\n  constructor(props: InfiniteScrollProps) {\n    super(props);\n\n    this.state = {\n      centralIndex: 0,\n      // start off with first 5 blocks shown\n      visibleBlocks: new Array(Math.min(5, props.seqBlocks.length)).fill(null).map((_, i) => i),\n    };\n    this.scroller = React.createRef();\n    this.insideDOM = React.createRef();\n  }\n\n  componentDidMount = () => {\n    this.handleScrollOrResize(); // ref should now be set\n    window.addEventListener(\"resize\", this.handleScrollOrResize);\n  };\n\n  componentDidUpdate = (prevProps: InfiniteScrollProps, prevState: InfiniteScrollState, snapshot: any) => {\n    if (!this.scroller) {\n      // scroller not mounted yet\n      return;\n    }\n\n    const { seqBlocks, size } = this.props;\n    const { centralIndex, visibleBlocks } = this.state;\n\n    if (this.context && centralIndex !== this.context.linear) {\n      this.scrollToCentralIndex();\n    } else if (!isEqual(prevProps.size, size) || seqBlocks.length !== prevProps.seqBlocks.length) {\n      this.handleScrollOrResize(); // reset\n    } else if (isEqual(prevState.visibleBlocks, visibleBlocks)) {\n      this.restoreSnapshot(snapshot); // something, like ORFs or index view, has changed\n    }\n  };\n\n  componentWillUnmount = () => {\n    window.removeEventListener(\"resize\", this.handleScrollOrResize);\n  };\n\n  /**\n   * more info at: https://reactjs.org/docs/react-component.html#getsnapshotbeforeupdate\n   */\n  getSnapshotBeforeUpdate = (prevProps: InfiniteScrollProps) => {\n    // find the current top block\n    const top = this.scroller ? this.scroller.current.scrollTop : 0;\n\n    // find out 1) which block this is at the edge of the top\n    // and 2) how far from the top of that block we are right now\n    const { blockHeights } = prevProps;\n    let blockIndex = 0;\n    let accumulatedY = 0;\n    do {\n      accumulatedY += blockHeights[blockIndex];\n      blockIndex += 1;\n    } while (accumulatedY + blockHeights[blockIndex] < top && blockIndex < blockHeights.length);\n\n    const blockY = top - accumulatedY; // last extra distance\n    return { blockIndex, blockY };\n  };\n\n  /**\n   * Scroll to centralIndex. Likely from circular clicking on an element\n   * that should then be scrolled to in linear\n   */\n  scrollToCentralIndex = () => {\n    const {\n      blockHeights,\n      bpsPerBlock,\n      seqBlocks,\n      size: { height },\n      totalHeight,\n    } = this.props;\n    const { visibleBlocks } = this.state;\n    const { clientHeight, scrollHeight } = this.scroller.current;\n    const centralIndex = this.context.linear;\n\n    // find the first block that contains the new central index\n    const centerBlockIndex = seqBlocks.findIndex(\n      block => block.props.firstBase <= centralIndex && block.props.firstBase + bpsPerBlock >= centralIndex\n    );\n\n    // build up the list of blocks that are visible just beneath this first block\n    let newVisibleBlocks: number[] = [];\n    if (scrollHeight <= clientHeight) {\n      newVisibleBlocks = visibleBlocks;\n    } else if (centerBlockIndex > -1) {\n      const centerBlock = seqBlocks[centerBlockIndex];\n\n      // create some padding above the new center block\n      const topAdjust = centerBlockIndex > 0 ? blockHeights[centerBlockIndex - 1] : 0;\n      let top = centerBlock.props.y - topAdjust;\n      let bottom = top + height;\n      if (bottom > totalHeight) {\n        bottom = totalHeight;\n        top = totalHeight - height;\n      }\n      blockHeights.reduce((total, h, i) => {\n        if (total >= top && total <= bottom) {\n          newVisibleBlocks.push(i);\n        }\n        return total + h;\n      }, 0);\n\n      // Don't scroll exactly to centralIndex because most of the time\n      // item of interest is at centralIndex and if this is at the top\n      // it can be obscured by things like the search box\n      this.scroller.current.scrollTop = centerBlock.props.y - blockHeights[0] / 2;\n    }\n\n    if (!isEqual(newVisibleBlocks, visibleBlocks)) {\n      this.setState({\n        centralIndex: centralIndex,\n        visibleBlocks: newVisibleBlocks,\n      });\n    }\n  };\n\n  /**\n   * the component has mounted to the DOM or updated, and the window should be scrolled downwards\n   * so that the central index is visible\n   */\n  restoreSnapshot = snapshot => {\n    const { blockHeights } = this.props;\n    const { blockIndex, blockY } = snapshot;\n\n    const scrollTop = blockHeights.slice(0, blockIndex).reduce((acc, h) => acc + h, 0) + blockY;\n\n    this.scroller.current.scrollTop = scrollTop;\n  };\n\n  /**\n   * check whether the blocks that should be visible have changed from what's in state,\n   * update if so\n   */\n  handleScrollOrResize = () => {\n    const {\n      blockHeights,\n      size: { height },\n      totalHeight,\n    } = this.props;\n    const { visibleBlocks } = this.state;\n\n    const newVisibleBlocks: number[] = [];\n\n    let top = 0;\n    if (this.scroller && this.insideDOM) {\n      const { top: parentTop } = this.scroller.current.getBoundingClientRect();\n      const { top: childTop } = this.insideDOM.current.getBoundingClientRect();\n      top = childTop - parentTop;\n    }\n\n    top = -top + 35;\n    top = Math.max(0, top); // don't go too high\n    top = Math.min(totalHeight - height, top); // don't go too low\n    const bottom = top + height;\n    top -= 2 * blockHeights[0]; // add two blocks padding on top\n    blockHeights.reduce((total, h, i) => {\n      if (total >= top && total <= bottom) {\n        newVisibleBlocks.push(i);\n      }\n      return total + h;\n    }, 0);\n\n    if (!isEqual(newVisibleBlocks, visibleBlocks)) {\n      this.setState({ visibleBlocks: newVisibleBlocks });\n    }\n  };\n\n  incrementScroller = incAmount => {\n    this.stopIncrementingScroller();\n    this.timeoutID = setTimeout(() => {\n      this.scroller.current.scrollTop += incAmount;\n      this.incrementScroller(incAmount);\n    }, 5);\n  };\n\n  stopIncrementingScroller = () => {\n    if (this.timeoutID) {\n      clearTimeout(this.timeoutID);\n      this.timeoutID = null;\n    }\n  };\n\n  /**\n   * handleMouseOver is for detecting when the user is performing a drag event\n   * at the very top or the very bottom of DIV. If they are, this starts\n   * a incrementing the div's scrollTop (ie an upward or downward scroll event) that's\n   * terminated by the user leaving the scroll area\n   *\n   * The rate of the scrollTop is proportional to how far from the top or the\n   * bottom the user is (within [-40, 0] for top, and [0, 40] for bottom)\n   */\n  handleMouseOver = (e: React.MouseEvent<HTMLDivElement>) => {\n    // not relevant, some other type of event, not a selection drag\n    if (e.buttons !== 1) {\n      if (this.timeoutID) {\n        this.stopIncrementingScroller();\n      }\n      return;\n    }\n\n    // check whether the current drag position is near the bottom or the\n    // top of the viewer and, if it is, try and increment the current\n    // centralIndex (triggering a downward scroll event)\n    const scrollerBlock = this.scroller.current.getBoundingClientRect();\n    let scrollRatio = (e.clientY - scrollerBlock.top) / scrollerBlock.height;\n    if (scrollRatio > 0.9) {\n      scrollRatio = Math.min(1, scrollRatio);\n      let scalingRatio = scrollRatio - 0.9;\n      scalingRatio *= 10;\n      const scaledScroll = 15 * scalingRatio;\n\n      this.incrementScroller(scaledScroll);\n    } else if (scrollRatio < 0.1) {\n      scrollRatio = 0.1 - Math.max(0, scrollRatio);\n      const scalingRatio = 10 * scrollRatio;\n      const scaledScroll = -15 * scalingRatio;\n\n      this.incrementScroller(scaledScroll);\n    } else {\n      this.stopIncrementingScroller();\n    }\n  };\n\n  render() {\n    const {\n      blockHeights,\n      seqBlocks,\n      size: { width },\n      totalHeight: height,\n    } = this.props;\n    const { visibleBlocks } = this.state;\n\n    // find the height of the empty div needed to correctly position the rest\n    const [firstRendered] = visibleBlocks;\n    const spaceAbove = blockHeights.slice(0, firstRendered).reduce((acc, h) => acc + h, 0);\n\n    return (\n      <div\n        ref={this.scroller}\n        className=\"la-vz-linear-scroller\"\n        data-testid=\"la-vz-viewer-linear\"\n        onFocus={() => {\n          // do nothing\n        }}\n        onMouseOver={this.handleMouseOver}\n        onScroll={this.handleScrollOrResize}\n      >\n        <div ref={this.insideDOM} className=\"la-vz-seqblock-container\" style={{ height }}>\n          <div className=\"la-vz-seqblock-padding-top\" style={{ height: spaceAbove, width: width || 0 }} />\n          {visibleBlocks.map(i => seqBlocks[i])}\n        </div>\n      </div>\n    );\n  }\n}\n","import * as React from \"react\";\n\nimport { InputRefFunc } from \"../SelectionHandler\";\nimport { Annotation, CutSite, Highlight, NameRange, Range, SeqType, Size, Translation } from \"../elements\";\nimport AnnotationRows from \"./Annotations\";\nimport { CutSites } from \"./CutSites\";\nimport Find from \"./Find\";\nimport Highlights from \"./Highlights\";\nimport IndexRow from \"./Index\";\nimport Selection from \"./Selection\";\nimport TranslationRows from \"./Translations\";\n\nexport type FindXAndWidthType = (\n  n1?: number | null,\n  n2?: number | null\n) => {\n  width: number;\n  x: number;\n};\n\nexport type FindXAndWidthElementType = (\n  i: number,\n  element: NameRange,\n  elements: NameRange[]\n) => { overflowLeft: boolean; overflowRight: boolean; width: number; x: number };\n\ninterface SeqBlockProps {\n  annotationRows: Annotation[][];\n  blockHeight: number;\n  bpColors?: { [key: number | string]: string };\n  bpsPerBlock: number;\n  charWidth: number;\n  compSeq: string;\n  cutSiteRows: CutSite[];\n  displayIndexOffset?: number;\n  elementHeight: number;\n  firstBase: number;\n  fullSeq: string;\n  handleMouseEvent: React.MouseEventHandler<SVGSVGElement>;\n  highlights: Highlight[];\n  id: string;\n  inputRef: InputRefFunc;\n  key: string;\n  lineHeight: number;\n  onUnmount: (a: string) => void;\n  searchRows: Range[];\n  seq: string;\n  seqFontSize: number;\n  seqType: SeqType;\n  showComplement: boolean;\n  showIndex: boolean;\n  size: Size;\n  translations: Translation[];\n  y: number;\n  zoom: { linear: number };\n  zoomed: boolean;\n}\n\n/**\n * SeqBlock\n *\n * Comprised of:\n * \t   IndexRow (the x axis basepair index)\n * \t   AnnotationRows (annotations)\n * \t   Selection (cursor selection range)\n * \t   Find (regions that match the users current find search)\n *     CutSites (cut sites)\n *     Translations\n *\n * a single block of linear sequence. Essentially a row that holds\n * the sequence, and flair around it including the\n * complementary sequence, sequence index, and anotations *\n */\nexport default class SeqBlock extends React.PureComponent<SeqBlockProps> {\n  static defaultProps = {};\n\n  componentWillUnmount = () => {\n    const { id, onUnmount } = this.props;\n    onUnmount(id);\n  };\n\n  /**\n   * For elements in arrays, check whether it wraps around the zero index.\n   */\n  findXAndWidthElement = (i: number, element: NameRange, elements: NameRange[]) => {\n    const { bpsPerBlock, firstBase, fullSeq, seq } = this.props;\n    const lastBase = firstBase + seq.length;\n    const { end, start } = element;\n\n    let { width, x } = this.findXAndWidth(start, end);\n\n    // does the element overflow to the left or the right of this seqBlock?\n    let overflowLeft = start < firstBase;\n    let overflowRight = end > lastBase || (start === end && fullSeq.length > bpsPerBlock); // start === end means covers whole plasmid\n\n    // if the element starts and ends in a SeqBlock, by circling all the way around,\n    // it will be rendered twice (once from the firstBase to start and another from end to lastBase)\n    // eg: https://user-images.githubusercontent.com/13923102/35816281-54571e70-0a68-11e8-92eb-ab56884337ac.png\n    const split = elements.reduce((acc, el) => (el.id === element.id ? acc + 1 : acc), 0) > 1; // is this element in two pieces?\n    if (split) {\n      if (elements.findIndex(el => el.id === element.id) === i) {\n        // we're in the first half of the split element\n        ({ width, x } = this.findXAndWidth(firstBase, end));\n        overflowLeft = true;\n        overflowRight = false;\n      } else {\n        // we're in the second half of the split element\n        ({ width, x } = this.findXAndWidth(start, lastBase));\n        overflowLeft = false;\n        overflowRight = true;\n      }\n    } else if (start > end) {\n      // the element crosses over the zero index and this needs to be accounted for\n      // this is very similar to the Block rendering logic in ../Selection/Selection.jsx\n      ({ width, x } = this.findXAndWidth(\n        start > lastBase ? firstBase : Math.max(firstBase, start),\n        end < firstBase ? lastBase : Math.min(lastBase, end)\n      ));\n\n      // if this is the first part of element that crosses the zero index\n      if (start > firstBase) {\n        overflowLeft = true;\n        overflowRight = end > lastBase;\n      }\n\n      // if this is the second part of an element, check if it overflows\n      if (end < firstBase) {\n        overflowLeft = start < firstBase;\n        overflowRight = true;\n      }\n    } else if (start === end) {\n      // the element circles the entire plasmid and we aren't currently in a SeqBlock\n      // where the element starts or ends\n      ({ width, x } = this.findXAndWidth(start, end + fullSeq.length));\n    }\n\n    return { overflowLeft, overflowRight, width, x };\n  };\n\n  /**\n   * A helper used in child components to position elements on rows. Given first and last base, how far from the left\n   * and how wide should it be?\n   *\n   * If an element and elements are provided, it also factors in whether the element circles around the 0-index.\n   */\n  findXAndWidth = (firstIndex = 0, lastIndex = 0) => {\n    const {\n      bpsPerBlock,\n      charWidth,\n      firstBase,\n      fullSeq: { length: seqLength },\n      size,\n    } = this.props;\n\n    firstIndex |= 0;\n    lastIndex |= 0;\n\n    const lastBase = Math.min(firstBase + bpsPerBlock, seqLength);\n    const multiBlock = seqLength >= bpsPerBlock;\n\n    let x = 0;\n    if (firstIndex >= firstBase) {\n      x = (firstIndex - firstBase) * charWidth;\n      x = Math.max(x, 0) || 0;\n    }\n\n    // find the width for the current element\n    let width = size.width;\n    if (firstIndex === lastIndex) {\n      // it starts on the last bp\n      width = 0;\n    } else if (firstIndex >= firstBase || lastIndex < lastBase) {\n      // it starts or ends in this SeqBlock\n      const start = Math.max(firstIndex, firstBase);\n      const end = Math.min(lastIndex, lastBase);\n\n      width = size.width * ((end - start) / bpsPerBlock);\n      width = Math.abs(width) || 0;\n    } else if (firstBase + bpsPerBlock > seqLength && multiBlock) {\n      // it's an element in the last SeqBlock, that doesn't span the whole width\n      width = size.width * ((seqLength % bpsPerBlock) / bpsPerBlock);\n    }\n\n    return { width, x };\n  };\n\n  /**\n   * Given a bp, return either the bp as was or a text span if it should have a color.\n   *\n   * We're looking up each bp in the props.bpColors map to see if it should be shaded and, if so,\n   * wrapping it in a textSpan with that color as a fill\n   */\n  seqTextSpan = (bp: string, i: number) => {\n    const { bpColors, charWidth, firstBase, id } = this.props;\n\n    let color: string | undefined;\n    if (bpColors) {\n      color =\n        bpColors[bp] ||\n        bpColors[bp.toUpperCase()] ||\n        bpColors[bp.toLowerCase()] ||\n        bpColors[i + firstBase] ||\n        undefined;\n    }\n\n    return (\n      // the +0.2 here and above is to offset the characters they're not right on the left edge. When they are,\n      // other elements look like they're shifted too far to the right.\n      <tspan key={i + bp + id} fill={color || undefined} x={charWidth * i + charWidth * 0.2}>\n        {bp}\n      </tspan>\n    );\n  };\n\n  render() {\n    const {\n      annotationRows,\n      blockHeight,\n      bpsPerBlock,\n      charWidth,\n      compSeq,\n      cutSiteRows,\n      displayIndexOffset,\n      elementHeight,\n      firstBase,\n      fullSeq,\n      handleMouseEvent,\n      highlights,\n      id,\n      inputRef,\n      lineHeight,\n      onUnmount,\n      searchRows,\n      seq,\n      seqFontSize,\n      seqType,\n      showComplement,\n      showIndex,\n      size,\n      translations,\n      zoom,\n      zoomed,\n    } = this.props;\n\n    if (!size.width || !size.height) return null;\n\n    const textProps = {\n      dominantBaseline: \"hanging\",\n      fontSize: seqFontSize,\n      lengthAdjust: \"spacing\",\n      textAnchor: \"start\",\n      textLength: size.width >= 0 ? size.width : 1,\n      textRendering: \"optimizeLegibility\",\n    };\n\n    const lastBase = firstBase + seq.length;\n\n    // height and yDiff of cut sites\n    const cutSiteYDiff = 0; // spacing for cutSite names\n    const cutSiteHeight = zoomed && cutSiteRows.length ? lineHeight : 0;\n\n    // height and yDiff of the sequence strand\n    const indexYDiff = cutSiteYDiff + cutSiteHeight;\n    const indexHeight = seqType === \"aa\" ? 0 : lineHeight; // if aa, no seq row is shown\n\n    // height and yDiff of the complement strand\n    const compYDiff = indexYDiff + indexHeight;\n    const compHeight = zoomed && showComplement ? lineHeight : 0;\n\n    // height and yDiff of translations\n    const translationYDiff = compYDiff + compHeight;\n    const translationHeight = elementHeight * translations.length;\n\n    // height and yDiff of annotations\n    const annYDiff = translationYDiff + translationHeight;\n    const annHeight = elementHeight * annotationRows.length;\n\n    // height and ydiff of the index row.\n    const elementGap = annotationRows.length + translations.length ? 3 : 0;\n    const indexRowYDiff = annYDiff + annHeight + elementGap;\n\n    // calc the height necessary for the sequence selection\n    // it starts 5 above the top of the SeqBlock\n    const selectHeight = cutSiteHeight + indexHeight + compHeight + translationHeight + annHeight + elementGap + 5;\n    let selectEdgeHeight = selectHeight + 9; // +9 is the height of a tick + index row\n\n    // needed because otherwise the selection height is very small\n    if (!zoomed && selectHeight <= elementHeight) {\n      selectEdgeHeight = elementHeight;\n    }\n\n    return (\n      <svg\n        ref={inputRef(id, {\n          end: lastBase,\n          ref: id,\n          start: firstBase,\n          type: \"SEQ\",\n          viewer: \"LINEAR\",\n        })}\n        className=\"la-vz-seqblock\"\n        cursor=\"text\"\n        display=\"block\"\n        height={blockHeight}\n        id={id}\n        width={size.width >= 0 ? size.width : 0}\n        onMouseDown={handleMouseEvent}\n        onMouseMove={handleMouseEvent}\n        onMouseUp={handleMouseEvent}\n      >\n        {showIndex && (\n          <IndexRow\n            charWidth={charWidth}\n            displayIndexOffset={displayIndexOffset}\n            findXAndWidth={this.findXAndWidth}\n            firstBase={firstBase}\n            lastBase={lastBase}\n            seq={seq}\n            seqType={seqType}\n            showIndex={showIndex}\n            size={size}\n            yDiff={indexRowYDiff}\n            zoom={zoom}\n          />\n        )}\n        <Selection.Block\n          findXAndWidth={this.findXAndWidth}\n          firstBase={firstBase}\n          fullSeq={fullSeq}\n          lastBase={lastBase}\n          selectHeight={selectHeight}\n          onUnmount={onUnmount}\n        />\n        <Highlights\n          compYDiff={compYDiff - 3}\n          findXAndWidth={this.findXAndWidthElement}\n          firstBase={firstBase}\n          highlights={highlights}\n          indexYDiff={indexYDiff - 3}\n          inputRef={inputRef}\n          lastBase={lastBase}\n          lineHeight={lineHeight}\n          listenerOnly={false}\n          seqBlockRef={this}\n        />\n        <Selection.Edges\n          findXAndWidth={this.findXAndWidth}\n          firstBase={firstBase}\n          fullSeq={fullSeq}\n          lastBase={lastBase}\n          selectEdgeHeight={selectEdgeHeight}\n        />\n        <Find\n          compYDiff={compYDiff - 3}\n          filteredRows={showComplement ? searchRows : searchRows.filter(r => r.direction === 1)}\n          findXAndWidth={this.findXAndWidth}\n          firstBase={firstBase}\n          indexYDiff={indexYDiff - 3}\n          inputRef={inputRef}\n          lastBase={lastBase}\n          lineHeight={lineHeight}\n          listenerOnly={false}\n          zoomed={zoomed}\n        />\n        {translations.length && (\n          <TranslationRows\n            bpsPerBlock={bpsPerBlock}\n            charWidth={charWidth}\n            elementHeight={elementHeight}\n            findXAndWidth={this.findXAndWidth}\n            firstBase={firstBase}\n            fullSeq={fullSeq}\n            inputRef={inputRef}\n            lastBase={lastBase}\n            seqType={seqType}\n            translations={translations}\n            yDiff={translationYDiff}\n            onUnmount={onUnmount}\n          />\n        )}\n        {annotationRows.length && (\n          <AnnotationRows\n            annotationRows={annotationRows}\n            bpsPerBlock={bpsPerBlock}\n            elementHeight={elementHeight}\n            findXAndWidth={this.findXAndWidthElement}\n            firstBase={firstBase}\n            fullSeq={fullSeq}\n            inputRef={inputRef}\n            lastBase={lastBase}\n            seqBlockRef={this}\n            width={size.width}\n            yDiff={annYDiff}\n          />\n        )}\n        {zoomed && seqType !== \"aa\" ? (\n          <text {...textProps} className=\"la-vz-seq\" data-testid=\"la-vz-seq\" id={id} y={indexYDiff}>\n            {seq.split(\"\").map(this.seqTextSpan)}\n          </text>\n        ) : null}\n        {compSeq && zoomed && showComplement && seqType !== \"aa\" ? (\n          <text {...textProps} className=\"la-vz-comp-seq\" data-testid=\"la-vz-comp-seq\" id={id} y={compYDiff}>\n            {compSeq.split(\"\").map(this.seqTextSpan)}\n          </text>\n        ) : null}\n        {zoomed && (\n          <CutSites\n            cutSites={cutSiteRows}\n            findXAndWidth={this.findXAndWidth}\n            firstBase={firstBase}\n            inputRef={inputRef}\n            lastBase={lastBase}\n            lineHeight={lineHeight}\n            size={size}\n            yDiff={cutSiteYDiff - 3}\n            zoom={zoom}\n          />\n        )}\n        <Find\n          compYDiff={compYDiff - 3}\n          filteredRows={showComplement ? searchRows : searchRows.filter(r => r.direction === 1)}\n          findXAndWidth={this.findXAndWidth}\n          firstBase={firstBase}\n          indexYDiff={indexYDiff - 3}\n          inputRef={inputRef}\n          lastBase={lastBase}\n          lineHeight={lineHeight}\n          listenerOnly={true}\n          zoomed={zoomed}\n        />\n        <Highlights\n          compYDiff={compYDiff - 3}\n          findXAndWidth={this.findXAndWidthElement}\n          firstBase={firstBase}\n          highlights={highlights}\n          indexYDiff={indexYDiff - 3}\n          inputRef={inputRef}\n          lastBase={lastBase}\n          lineHeight={lineHeight}\n          listenerOnly={true}\n          seqBlockRef={this}\n        />\n      </svg>\n    );\n  }\n}\n","import * as React from \"react\";\n\nimport { InputRefFunc } from \"../SelectionHandler\";\nimport { COLOR_BORDER_MAP, darkerColor } from \"../colors\";\nimport { NameRange } from \"../elements\";\nimport { FindXAndWidthElementType } from \"./SeqBlock\";\n\nconst hoverOtherAnnotationRows = (className: string, opacity: number) => {\n  if (!document) return;\n  const elements = document.getElementsByClassName(className) as HTMLCollectionOf<HTMLElement>;\n  for (let i = 0; i < elements.length; i += 1) {\n    elements[i].style.fillOpacity = `${opacity}`;\n  }\n};\n\n/**\n * Render each row of annotations into its own row.\n * This is not a default export for sake of the React component displayName.\n */\nconst AnnotationRows = (props: {\n  annotationRows: NameRange[][];\n  bpsPerBlock: number;\n  elementHeight: number;\n  findXAndWidth: FindXAndWidthElementType;\n  firstBase: number;\n  fullSeq: string;\n  inputRef: InputRefFunc;\n  lastBase: number;\n  seqBlockRef: unknown;\n  width: number;\n  yDiff: number;\n}) => (\n  <g>\n    {props.annotationRows.map((anns: NameRange[], i: number) => (\n      <AnnotationRow\n        key={`annotation-linear-row-${anns[0].id}-${props.firstBase}-${props.lastBase}`}\n        annotations={anns}\n        bpsPerBlock={props.bpsPerBlock}\n        findXAndWidth={props.findXAndWidth}\n        firstBase={props.firstBase}\n        fullSeq={props.fullSeq}\n        height={props.elementHeight}\n        inputRef={props.inputRef}\n        lastBase={props.lastBase}\n        seqBlockRef={props.seqBlockRef}\n        width={props.width}\n        y={props.yDiff + props.elementHeight * i}\n      />\n    ))}\n  </g>\n);\n\nexport default AnnotationRows;\n\n/**\n * A single row of annotations. Multiple of these may be in one seqBlock\n * vertically stacked on top of one another in non-overlapping arrays.\n */\nconst AnnotationRow = (props: {\n  annotations: NameRange[];\n  bpsPerBlock: number;\n  findXAndWidth: FindXAndWidthElementType;\n  firstBase: number;\n  fullSeq: string;\n  height: number;\n  inputRef: InputRefFunc;\n  lastBase: number;\n  seqBlockRef: unknown;\n  width: number;\n  y: number;\n}) => (\n  <g\n    className=\"la-vz-linear-annotation-row\"\n    height={props.height * 0.8}\n    transform={`translate(0, ${props.y})`}\n    width={props.width}\n  >\n    {props.annotations.map((a, i) => (\n      <SingleNamedElement\n        {...props} // include overflowLeft in the key to avoid two split annotations in the same row from sharing a key\n        key={`annotation-linear-${a.id}-${i}-${props.firstBase}-${props.lastBase}`}\n        element={a}\n        elements={props.annotations}\n        index={i}\n      />\n    ))}\n  </g>\n);\n\n/**\n * SingleNamedElement is a single rectangular element in the SeqBlock.\n * It does a bunch of stuff to avoid edge-cases from wrapping around the 0-index,\n * edge of blocks, etc.\n */\nconst SingleNamedElement = (props: {\n  element: NameRange;\n  elements: NameRange[];\n  findXAndWidth: FindXAndWidthElementType;\n  firstBase: number;\n  height: number;\n  index: number;\n  inputRef: InputRefFunc;\n  lastBase: number;\n}) => {\n  const { element, elements, findXAndWidth, firstBase, index, inputRef, lastBase } = props;\n\n  const { color, direction, end, name, start } = element;\n  const forward = direction === 1;\n  const reverse = direction === -1;\n  const { overflowLeft, overflowRight, width, x: origX } = findXAndWidth(index, element, elements);\n  const crossZero = start > end && end < firstBase;\n\n  // does the element begin or end within this seqBlock with a directionality?\n  const endFWD = forward && end > firstBase && end <= lastBase;\n  const endREV = reverse && start >= firstBase && start <= lastBase;\n\n  // create padding on either side, vertically, of an element\n  const height = props.height * 0.8;\n\n  const cW = 4; // jagged cutoff width\n  const cH = height / 4; // jagged cutoff height\n  const [x, w] = [origX, width];\n\n  // create the SVG path, starting at the topLeft and working clockwise\n  // there is additional logic here for if the element overflows\n  // to the left or right of this seqBlock, where a \"jagged edge\" is created\n  const topLeft = endREV ? `M ${2 * cW} 0` : \"M 0 0\";\n  const topRight = endFWD ? `L ${width - 2 * cW} 0` : `L ${width} 0`;\n\n  let linePath = \"\";\n  let bottomRight = `L ${width} ${height}`; // flat right edge\n  if ((overflowRight && width > 2 * cW) || crossZero) {\n    bottomRight = `\n        L ${width - cW} ${cH}\n        L ${width} ${2 * cH}\n        L ${width - cW} ${3 * cH}\n        L ${width} ${4 * cH}`; // jagged right edge\n  } else if (endFWD) {\n    bottomRight = `\n        L ${width} ${height / 2}\n        L ${width - Math.min(2 * cW, w)} ${height}`; // arrow forward\n  }\n\n  let bottomLeft = `L 0 ${height} L 0 0`; // flat left edge\n  if (overflowLeft && width > 2 * cW) {\n    bottomLeft = `\n        L 0 ${height}\n        L ${cW} ${3 * cH}\n        L 0 ${2 * cH}\n        L ${cW} ${cH}\n        L 0 0`; // jagged left edge\n  } else if (endREV) {\n    bottomLeft = `\n        L ${Math.min(2 * cW, w)} ${height}\n        L 0 ${height / 2}\n        L ${Math.min(2 * cW, w)} 0`; // arrow reverse\n  }\n  linePath = `${topLeft} ${topRight} ${bottomRight} ${bottomLeft}`;\n\n  if ((forward && overflowRight) || (forward && crossZero)) {\n    // If it's less than 15 pixels the double arrow barely fits\n    if (width > 15) {\n      linePath += `\n        M ${width - 3 * cW} ${cH}\n        L ${width - 2 * cW} ${2 * cH}\n        L ${width - 3 * cW} ${3 * cH}\n        M ${width - 4 * cW} ${cH}\n        L ${width - 3 * cW} ${2 * cH}\n        L ${width - 4 * cW} ${3 * cH}`; // add double arrow forward\n    }\n  } else if ((reverse && overflowLeft) || (reverse && crossZero)) {\n    // If it's less than 15 pixels the double arrow barely fits\n    if (width > 15) {\n      linePath += `\n        M ${3 * cW} ${3 * cH}\n        L ${2 * cW} ${cH * 2}\n        L ${3 * cW} ${cH}\n        M ${4 * cW} ${3 * cH}\n        L ${3 * cW} ${cH * 2}\n        L ${4 * cW} ${cH}`; // add double forward reverse\n    }\n  }\n\n  // determine whether the element name fits within the width of the element\n  const nameLength = name.length * 6.75; // aspect ratio of roboto mono is ~0.66\n  const nameFits = nameLength < width - 15;\n\n  return (\n    <g id={element.id} transform={`translate(${x}, ${0.1 * height})`}>\n      <path\n        ref={inputRef(element.id, {\n          end: end,\n          name: element.name,\n          ref: element.id,\n          start: start,\n          type: \"ANNOTATION\",\n          viewer: \"LINEAR\",\n        })}\n        className={`${element.id} la-vz-annotation`}\n        cursor=\"pointer\"\n        d={linePath}\n        fill={color}\n        id={element.id}\n        stroke={color ? COLOR_BORDER_MAP[color] || darkerColor(color) : \"gray\"}\n        onBlur={() => {\n          // do nothing\n        }}\n        onFocus={() => {\n          // do nothing\n        }}\n        onMouseOut={() => hoverOtherAnnotationRows(element.id, 0.7)}\n        onMouseOver={() => hoverOtherAnnotationRows(element.id, 1.0)}\n      />\n\n      {nameFits && (\n        <text\n          className=\"la-vz-annotation-label\"\n          cursor=\"pointer\"\n          dominantBaseline=\"middle\"\n          fontSize={12}\n          id={element.id}\n          textAnchor=\"middle\"\n          x={width / 2}\n          y={height / 2 + 1}\n          onBlur={() => {\n            // do nothing\n          }}\n          onFocus={() => {\n            // do nothing\n          }}\n          onMouseOut={() => hoverOtherAnnotationRows(element.id, 0.7)}\n          onMouseOver={() => hoverOtherAnnotationRows(element.id, 1.0)}\n        >\n          {name}\n        </text>\n      )}\n    </g>\n  );\n};\n","import * as React from \"react\";\n\nimport { InputRefFunc } from \"../SelectionHandler\";\nimport { CHAR_WIDTH } from \"../SeqViewerContainer\";\nimport { CutSite, Size } from \"../elements\";\nimport { FindXAndWidthType } from \"./SeqBlock\";\n\n/**\n * Renders enzyme cut sites on the linear viewer. This includes a few things:\n * - the cut site itself (some lines for the cut site on top and bottom sequences)\n * - an outline of the total recognition site (can span SeqBlocks)\n * - a label above the cut-site\n */\nexport const CutSites = (props: {\n  cutSites: CutSite[];\n  findXAndWidth: FindXAndWidthType;\n  firstBase: number;\n  inputRef: InputRefFunc;\n  lastBase: number;\n  lineHeight: number;\n  size: Size;\n  yDiff: number;\n  zoom: { linear: number };\n}) => {\n  const {\n    cutSites,\n    findXAndWidth,\n    firstBase,\n    inputRef,\n    lastBase,\n    lineHeight,\n    size,\n    yDiff,\n    zoom: { linear: zoom },\n  } = props;\n\n  // Calc x/width of highlight region, top/bottom cut lines, etc\n  const enhancedCutSites = enhanceCutSites(\n    // TODO: remove this exclusion of cut-sites that cross the zero index after even more\n    // zero-index accounting. This file is already hairy enough, so not in a rush to add zero-index\n    // accounting here, yet.\n    cutSites.filter(c => c.end > c.start),\n    firstBase,\n    lastBase,\n    findXAndWidth\n  );\n  if (!enhancedCutSites.length) return null;\n\n  // Set cut-site label positions\n  const labelledCutSites = withLabels(enhancedCutSites, size);\n\n  const lineYDiff = yDiff + lineHeight;\n  return (\n    <g className=\"la-vz-cut-sites\">\n      {labelledCutSites.map(c => {\n        return (\n          <g key={`cut-site-${c.c.id}-${firstBase}`}>\n            {/* enzyme name label above the cut-site */}\n            {c.label.render && (\n              <text\n                className={`la-vz-cut-site-text ${c.c.id}-label`}\n                dominantBaseline=\"hanging\"\n                id={c.c.id}\n                textAnchor=\"start\"\n                x={c.label.x}\n                y={yDiff}\n                onBlur={() => 0}\n                onFocus={() => 0}\n                onMouseOut={() => onCutSiteHover(c.c.id, false)}\n                onMouseOver={() => onCutSiteHover(c.c.id, true)}\n              >\n                {c.label.text}\n              </text>\n            )}\n\n            {/* outline showing the recognition site */}\n            {zoom > 10 && (\n              <path\n                ref={inputRef(c.c.id, {\n                  clockwise: true,\n                  end: c.c.end,\n                  id: c.c.id,\n                  start: c.c.start,\n                  type: \"ENZYME\",\n                  viewer: \"LINEAR\",\n                })} // for highlighting\n                className={`la-vz-cut-site-highlight ${c.c.id}`}\n                d={`M ${c.highlight.x} ${lineYDiff}\n                    L ${c.highlight.x + c.highlight.width} ${lineYDiff}\n                    L ${c.highlight.x + c.highlight.width} ${lineYDiff + 2 * lineHeight}\n                    L ${c.highlight.x} ${lineYDiff + 2 * lineHeight} Z`}\n                style={c.c.color?.length ? { fill: c.c.color } : {}}\n                onMouseOut={() => onCutSiteHover(c.c.id, false)}\n                onMouseOver={() => onCutSiteHover(c.c.id, true)}\n              />\n            )}\n\n            {/* lines showing the cut site */}\n            {c.top.render && (\n              <path\n                className={`la-vz-cut-site ${c.c.id}`}\n                d={`M ${c.top.x} ${lineYDiff} L ${c.top.x} ${lineYDiff + lineHeight}`}\n              />\n            )}\n            {c.connector.render && zoom > 10 && (\n              <path\n                className={`la-vz-cut-site ${c.c.id}`}\n                d={`M ${c.connector.x} ${lineYDiff + lineHeight}\n                    L ${c.connector.x + c.connector.width} ${lineYDiff + lineHeight}`}\n              />\n            )}\n            {c.bottom.render && zoom > 10 && (\n              <path\n                className={`la-vz-cut-site ${c.c.id}`}\n                d={`M ${c.bottom.x} ${lineYDiff + lineHeight} L ${c.bottom.x} ${lineYDiff + 2 * lineHeight}`}\n              />\n            )}\n          </g>\n        );\n      })}\n    </g>\n  );\n};\n\ntype CutSiteEnhanced = {\n  bottom: {\n    render: boolean;\n    x: number;\n  };\n  c: CutSite;\n  connector: {\n    render: boolean;\n    width: number;\n    x: number;\n  };\n  highlight: {\n    width: number;\n    x: number;\n  };\n  top: {\n    render: boolean;\n    x: number;\n  };\n};\n\n/**\n * This takes cut-sites and does some piecemeal calculations to add meta about:\n * - top (x position of the top line and whether to render)\n * - connector (x position and width of the connector and whether to render)\n * - bottom (x position of the bottom line and whether to render)\n * - highlight (x/width/color of the highlight block)\n */\nconst enhanceCutSites = (\n  cutSites: CutSite[],\n  firstBase: number,\n  lastBase: number,\n  findXAndWidth: FindXAndWidthType\n): CutSiteEnhanced[] =>\n  cutSites.map((c: CutSite) => {\n    const { x: topX } = findXAndWidth(c.fcut, c.fcut);\n    const { x: bottomX } = findXAndWidth(c.rcut, c.rcut);\n\n    // Prevent double rendering of cut-site lines across SeqBlocks. Without the shenanigans below,\n    // if a cut site lands on the last or first base of a SeqBlock, it will also render at the end of a SeqBlock\n    // and the start of the next. Below, we only show a cut if 1. it's wholly within this SeqBlock or\n    // 2. the other cut is also within this block. If both the top and bottom cuts are on the last/first bases,\n    // we render the cut in the first block (ie at the very end of the first block)\n    let showTopLine = c.fcut > firstBase && c.fcut < lastBase;\n    if (c.fcut === firstBase && c.rcut > firstBase && c.rcut <= lastBase) {\n      showTopLine = true;\n    } else if (c.fcut === lastBase && c.rcut >= firstBase && c.rcut <= lastBase) {\n      showTopLine = true;\n    }\n\n    let showBottomLine = c.rcut > firstBase && c.rcut < lastBase;\n    if (c.rcut === firstBase && c.fcut > firstBase && c.fcut <= lastBase) {\n      showBottomLine = true;\n    } else if (c.rcut === lastBase && c.fcut >= firstBase && c.fcut <= lastBase) {\n      showBottomLine = true;\n    }\n\n    return {\n      bottom: {\n        render: showBottomLine,\n        x: bottomX,\n      },\n      c,\n      connector: calcConnector(c, topX, bottomX, firstBase, lastBase, showTopLine, showBottomLine, findXAndWidth),\n      highlight: calcHighlight(c, firstBase, lastBase, findXAndWidth),\n      top: {\n        render: showTopLine,\n        x: topX,\n      },\n    };\n  });\n\n/**\n * calcHighlight returns the x and width of the enzyme recognition site's highlight block.\n */\nconst calcHighlight = (\n  c: CutSite,\n  firstBase: number,\n  lastBase: number,\n  findXAndWidth: FindXAndWidthType\n): { width: number; x: number } => {\n  if (isWithinSeqBlock(c.start, c.end, firstBase, lastBase)) {\n    if (c.start > c.end) {\n      return findXAndWidth(\n        c.end < firstBase ? lastBase : Math.min(lastBase, c.end),\n        c.start > lastBase ? firstBase : Math.max(firstBase, c.start)\n      );\n    }\n    return findXAndWidth(\n      c.start < firstBase ? lastBase : Math.min(lastBase, c.start),\n      c.end > lastBase ? firstBase : Math.max(firstBase, c.end)\n    );\n  }\n  return findXAndWidth(c.start, c.end);\n};\n\n/**\n * isWithinSeqBlock returns whether the cut site is entirely within this SeqBlock\n */\nconst isWithinSeqBlock = (start: number, end: number, firstBase: number, lastBase: number) => {\n  if ((start < firstBase && end < firstBase) || (start > lastBase && end > lastBase)) {\n    return true;\n  }\n  if (end >= start) {\n    return end < lastBase && start > firstBase;\n  }\n  return start < lastBase && end > firstBase;\n};\n\n// This gets the x and width of the connector line that connects the forward and reverse cut sites\nconst calcConnector = (\n  c: CutSite,\n  topX: number,\n  bottomX: number,\n  firstBase: number,\n  lastBase: number,\n  showTopLine: boolean,\n  showBottomLine: boolean,\n  findXAndWidth: FindXAndWidthType\n): { render: boolean; width: number; x: number } => {\n  if (showTopLine && showBottomLine) {\n    return {\n      render: true,\n      width: Math.abs(bottomX - topX),\n      x: Math.min(topX, bottomX),\n    };\n  }\n  if (showTopLine) {\n    if (c.start + topX > c.end + bottomX) {\n      return {\n        render: true,\n        ...findXAndWidth(firstBase, c.fcut),\n      };\n    }\n    if (c.fcut > c.rcut) {\n      return {\n        render: true,\n        ...findXAndWidth(firstBase, c.fcut),\n      };\n    }\n    return {\n      render: true,\n      ...findXAndWidth(c.fcut, lastBase),\n    };\n  }\n  if (showBottomLine) {\n    if (c.start + topX > c.end + bottomX) {\n      return {\n        render: true,\n        ...findXAndWidth(c.rcut, lastBase),\n      };\n    }\n    if (c.fcut > c.rcut) {\n      return {\n        render: true,\n        ...findXAndWidth(c.rcut, lastBase),\n      };\n    }\n    return {\n      render: true,\n      ...findXAndWidth(firstBase, c.rcut),\n    };\n  }\n  return { render: false, width: 0, x: 0 };\n};\n\ntype CutSiteLabelled = CutSiteEnhanced & {\n  label: {\n    render: boolean;\n    text: string;\n    x: number;\n  };\n};\n\n/**\n * This tries to position the cut-site labels so they don't overlap.\n *\n * I'm doing something simple here where I shift the labels left/right. I don't try to\n * move the labels vertically or draw a line from the labels to the cut-sites (like on\n * the circular viewer).\n *\n * Steps:\n *   - move off the left/right side of the screen if the label is too close to the edge\n *   - if the label is too close to another label, move it left/right\n *   - if it's now all the way off the screen, don't render it\n *\n * context: https://github.com/Lattice-Automation/seqviz/issues/104\n */\nconst withLabels = (cutSites: CutSiteEnhanced[], size: Size): CutSiteLabelled[] => {\n  const unlabelled = cutSites\n    .filter(c => !c.top.render)\n    .map(c => ({ ...c, label: { render: false, text: c.c.name, x: c.highlight.x } }));\n  const labelled = cutSites\n    .filter(c => c.top.render)\n    .sort((a, b) => a.top.x - b.top.x)\n    .map(c => ({ ...c, label: { render: c.top.render, text: c.c.name, x: c.highlight.x } }));\n\n  // shift the labels left that will overflow to the right\n  const overflow = (c: CutSiteLabelled): boolean => {\n    return c.label.x + c.label.text.length * CHAR_WIDTH > size.width;\n  };\n\n  labelled.forEach(c => {\n    const width = c.label.text.length * CHAR_WIDTH;\n    if (overflow(c)) {\n      c.label.x = size.width - width;\n    }\n  });\n\n  // if two labels overlap, shift the righter most one to the right\n  const overlap = (c1: CutSiteLabelled, c2: CutSiteLabelled): boolean => {\n    return c1.label.x + c1.label.text.length * CHAR_WIDTH > c2.label.x;\n  };\n\n  labelled.forEach((c, i) => {\n    if (i == 0) return c;\n    const last = labelled[i - 1];\n\n    while (overlap(last, c)) {\n      c.label.x += CHAR_WIDTH * 2;\n    }\n    return c;\n  });\n\n  // remove labels that now overflow the right of the screen\n  labelled.forEach(c => {\n    if (overflow(c)) {\n      c.label.render = false;\n    }\n  });\n\n  return unlabelled.concat(labelled);\n};\n\n/**\n * This changes the opacity of the enzyme recognition sequence.\n *\n * on hover, an enzyme recognition site should have an opacity of 0.5. 0 otherwise\n * on hover, an enzyme name should have opacity 1.0, 0 otherwise\n */\nconst onCutSiteHover = (className: string, on = false) => {\n  if (!document) return;\n\n  let elements = document.getElementsByClassName(`${className}-label`) as HTMLCollectionOf<HTMLElement>;\n  for (let i = 0; i < elements.length; i += 1) {\n    elements[i].style.fillOpacity = on ? \"1.0\" : \"0.8\";\n    elements[i].style.fontWeight = on ? \"400\" : \"300\";\n  }\n  elements = document.getElementsByClassName(className) as HTMLCollectionOf<HTMLElement>;\n  for (let i = 0; i < elements.length; i += 1) {\n    elements[i].style.fillOpacity = on ? \"0.25\" : \"0\";\n    elements[i].style.stroke = on ? \"black\" : \"rgb(115, 119, 125)\";\n  }\n};\n","import * as React from \"react\";\n\nimport { InputRefFunc } from \"../SelectionHandler\";\nimport { Range } from \"../elements\";\nimport randomid from \"../randomid\";\nimport { FindXAndWidthType } from \"./SeqBlock\";\n\n/**\n * Render rectangles around Search results.\n */\nconst Find = ({\n  compYDiff,\n  filteredRows: searchRows,\n  findXAndWidth,\n  firstBase,\n  indexYDiff,\n  inputRef,\n  lastBase,\n  lineHeight,\n  listenerOnly,\n  zoomed,\n}: {\n  compYDiff: number;\n  filteredRows: Range[];\n  findXAndWidth: FindXAndWidthType;\n  firstBase: number;\n  indexYDiff: number;\n  inputRef: InputRefFunc;\n  lastBase: number;\n  lineHeight: number;\n  listenerOnly: boolean;\n  zoomed: boolean;\n}) => (\n  <>\n    {searchRows.map(s => (\n      <FindBlock\n        key={JSON.stringify(s)}\n        compYDiff={compYDiff}\n        direction={s.direction || 1}\n        end={s.end}\n        findXAndWidth={findXAndWidth}\n        firstBase={firstBase}\n        indexYDiff={indexYDiff}\n        inputRef={inputRef}\n        lastBase={lastBase}\n        lineHeight={lineHeight}\n        listenerOnly={listenerOnly}\n        start={s.start}\n        zoomed={zoomed}\n      />\n    ))}\n  </>\n);\n\nexport default Find;\n\nconst FindBlock = ({\n  compYDiff,\n  direction,\n  end,\n  findXAndWidth,\n  firstBase,\n  indexYDiff,\n  inputRef,\n  lastBase,\n  lineHeight,\n  listenerOnly,\n  start,\n  zoomed,\n}: {\n  compYDiff: number;\n  direction: -1 | 1;\n  end: number;\n  findXAndWidth: FindXAndWidthType;\n  firstBase: number;\n  indexYDiff: number;\n  inputRef: InputRefFunc;\n  lastBase: number;\n  lineHeight: number;\n  listenerOnly: boolean;\n  start: number;\n  zoomed: boolean;\n}) => {\n  let { width, x } = findXAndWidth(start, end);\n  if (start > end) {\n    ({ width, x } = findXAndWidth(\n      start > lastBase ? firstBase : Math.max(firstBase, start),\n      end < firstBase ? lastBase : Math.min(lastBase, end)\n    ));\n  }\n\n  const id = randomid();\n  let y = indexYDiff; // template row result\n  if (direction < 0 || !zoomed) {\n    y = compYDiff; // complement row result\n  }\n\n  return (\n    <rect\n      key={id}\n      ref={inputRef(id, {\n        end: end,\n        id: id,\n        start: start,\n        type: \"FIND\",\n        viewer: \"LINEAR\",\n      })}\n      className=\"la-vz-search\"\n      cursor=\"pointer\"\n      height={lineHeight}\n      id={id}\n      shapeRendering=\"crispEdges\"\n      stroke={listenerOnly ? \"none\" : \"rgba(0, 0, 0, 0.5)\"}\n      strokeWidth={1}\n      style={listenerOnly ? { fill: \"transparent\" } : {}}\n      width={width}\n      x={x}\n      y={y}\n    />\n  );\n};\n","import * as React from \"react\";\n\nimport { InputRefFunc } from \"../SelectionHandler\";\nimport { NameRange } from \"../elements\";\nimport { FindXAndWidthElementType } from \"./SeqBlock\";\n\n/**\n * Render rectangles aroun highlighted ranges.\n */\nconst Highlights = (props: {\n  compYDiff: number;\n  findXAndWidth: FindXAndWidthElementType;\n  firstBase: number;\n  highlights: NameRange[];\n  indexYDiff: number;\n  inputRef: InputRefFunc;\n  lastBase: number;\n  lineHeight: number;\n  listenerOnly: boolean;\n  seqBlockRef: unknown;\n}) => (\n  <>\n    {/* We use two LinearFindBlocks here because we want to span both the top and bottom strand for a highlight */}\n    {props.highlights.map((h, i) => (\n      // TODO: what's going on here, why does this lead to duplicates\n      <SingleHighlight key={`linear-highlight-${h.id}-${props.listenerOnly}`} {...props} highlight={h} index={i} />\n    ))}\n  </>\n);\n\nexport default Highlights;\n\nconst SingleHighlight = (props: {\n  compYDiff: number;\n  findXAndWidth: FindXAndWidthElementType;\n  firstBase: number;\n  highlight: NameRange;\n  highlights: NameRange[];\n  index: number;\n  indexYDiff: number;\n  inputRef: InputRefFunc;\n  lastBase: number;\n  lineHeight: number;\n  listenerOnly: boolean;\n  seqBlockRef: unknown;\n}) => {\n  const { width, x } = props.findXAndWidth(props.index, props.highlight, props.highlights);\n\n  let highlightStyle = {};\n  if (props.listenerOnly) {\n    highlightStyle = { fill: \"transparent\" };\n  } else if (props.highlight.color) {\n    highlightStyle = { fill: props.highlight.color };\n  }\n\n  const rectProps = {\n    className: \"la-vz-highlight\",\n    cursor: \"pointer\",\n    height: props.lineHeight,\n    id: props.highlight.id,\n    stroke: props.listenerOnly ? \"none\" : \"rgba(0, 0, 0, 0.5)\",\n    strokeWidth: 1,\n    style: highlightStyle,\n    width: width,\n    x: x,\n  };\n\n  return (\n    <>\n      <rect\n        key={`linear-highlight-${props.highlight.id}-top`}\n        ref={props.inputRef(props.highlight.id, {\n          ref: props.highlight.id,\n          ...props.highlight,\n          type: \"HIGHLIGHT\",\n          viewer: \"LINEAR\",\n        })}\n        {...rectProps}\n        y={props.indexYDiff}\n      />\n      <rect\n        key={`linear-highlight-${props.highlight.id}-bottom`}\n        ref={props.inputRef(props.highlight.id, {\n          ref: props.highlight.id,\n          ...props.highlight,\n          type: \"HIGHLIGHT\",\n          viewer: \"LINEAR\",\n        })}\n        {...rectProps}\n        y={props.compYDiff}\n      />\n    </>\n  );\n};\n","import * as React from \"react\";\n\nimport { SeqType, Size } from \"../elements\";\nimport { FindXAndWidthType } from \"./SeqBlock\";\n\ninterface IndexProps {\n  charWidth: number;\n  displayIndexOffset?: number;\n  findXAndWidth: FindXAndWidthType;\n  firstBase: number;\n  lastBase: number;\n  seq: string;\n  seqType: SeqType;\n  showIndex: boolean;\n  size: Size;\n  yDiff: number;\n  zoom: { linear: number };\n}\n\n/**\n * Index is a row with numbers showing the indexes of base pairs in the sequence.\n */\nexport default class Index extends React.PureComponent<IndexProps> {\n  // given each basepair in the sequence, go through each and find whether 1) it is divisible\n  // by the number set for tally thresholding and, if it is, 2) add its location to the list\n  // of positions for tickInc\n  genTicks = () => {\n    const { charWidth, findXAndWidth, firstBase, seq, seqType, size, zoom } = this.props;\n    const displayIndexOffset = typeof this.props.displayIndexOffset === \"number\" ? this.props.displayIndexOffset : 0;\n    const seqLength = seq.length;\n\n    // the tally's distance on the x-axis is zoom dependent:\n    // (0, 10]: every 50\n    // (10, 40]: every 20\n    // (40, 70]: every 10\n    // (70, 100] every 5\n    let tickInc = 0;\n    switch (true) {\n      case zoom.linear > 85:\n        tickInc = 5;\n        break;\n      case zoom.linear > 40:\n        tickInc = 10;\n        break;\n      case zoom.linear > 10:\n        tickInc = 20;\n        break;\n      case zoom.linear >= 0:\n        tickInc = 50;\n        break;\n      default:\n        tickInc = 10;\n    }\n\n    // if rendering amino acids, double the tick frequency\n    if (seqType === \"aa\") {\n      tickInc = tickInc / 2;\n    }\n\n    // create the array that will hold all the indexes in the array\n    const tickIndexes: number[] = [];\n    if (firstBase === 0) {\n      tickIndexes.push(1);\n    }\n\n    let i = 0;\n    while ((i + firstBase) % tickInc !== 0) {\n      i += 1;\n    }\n    while (i < seqLength) {\n      if (i + firstBase !== 0) {\n        tickIndexes.push(i + firstBase);\n      }\n      i += tickInc;\n    }\n\n    return tickIndexes.map(p => {\n      let { x: tickFromLeft } = findXAndWidth(p - 1, p - 1); // for midpoint\n      tickFromLeft += charWidth / 2;\n\n      let digits = Math.ceil(Math.log10(p + 1)); // digits in num\n      digits -= 1; // don't shift for the middle digit\n\n      const indexCharWidth = 7.7; // this is pretty stable, can calculate w/ a long number's width / char count\n      const textWidth = digits * indexCharWidth;\n\n      let { x: textFromLeft } = findXAndWidth(p - 1, p - 1);\n      textFromLeft += charWidth / 2;\n      textFromLeft -= textWidth / 2 + 3; // this +3 I cannot explain\n      textFromLeft = Math.max(0, textFromLeft); // keep off left edge\n      textFromLeft = Math.min(size.width - textWidth / 2, textFromLeft); // keep off right edge\n\n      const transTick = `translate(${tickFromLeft}, 1)`;\n      const transText = `translate(${textFromLeft}, 10)`;\n\n      return (\n        <React.Fragment key={p}>\n          <path className=\"la-vz-index-tick\" d=\"M 0 0 L 0 7\" transform={transTick} />\n          <text className=\"la-vz-index-tick-label\" dominantBaseline=\"hanging\" fontSize={12} transform={transText}>\n            {p + displayIndexOffset}\n          </text>\n        </React.Fragment>\n      );\n    });\n  };\n\n  render() {\n    const { findXAndWidth, firstBase, lastBase, showIndex, yDiff } = this.props;\n\n    if (!showIndex) return null;\n    const { width, x } = findXAndWidth(firstBase, lastBase);\n\n    return (\n      <g transform={`translate(0, ${yDiff})`}>\n        <path className=\"la-vz-index-line\" d={`M 0 1 L ${x + width} 1`} />\n        {this.genTicks()}\n      </g>\n    );\n  }\n}\n","import * as React from \"react\";\n\nimport randomid from \"../randomid\";\nimport SelectionContext from \"../selectionContext\";\nimport { FindXAndWidthType } from \"./SeqBlock\";\n\ninterface EdgesProps {\n  findXAndWidth: FindXAndWidthType;\n  firstBase: number;\n  fullSeq: string;\n  lastBase: number;\n  selectEdgeHeight: number;\n}\n\n/**\n * Edges on the side of selections of the Selection Viewer\n *\n * Only shown at the selection's start and end, not intermediate blocks (if there are intermediate blocks)\n */\nclass Edges extends React.PureComponent<EdgesProps> {\n  static contextType = SelectionContext;\n  static context: React.ContextType<typeof SelectionContext>;\n  declare context: React.ContextType<typeof SelectionContext>;\n\n  id = randomid();\n\n  render() {\n    const { findXAndWidth, firstBase, fullSeq, lastBase, selectEdgeHeight } = this.props;\n    const { clockwise, end, ref, start } = this.context;\n\n    if (typeof start === \"undefined\" || typeof end === \"undefined\") {\n      return;\n    }\n\n    let startEdge: number | null = null;\n    let lastEdge: number | null = null;\n\n    if (clockwise) {\n      // clockwise, ie forward drag event\n      // the start or end edges are within this block\n      if (start >= firstBase && start < lastBase) startEdge = start;\n      if (end > firstBase && end <= lastBase) lastEdge = end;\n    } else {\n      // counterclockwise, ie reverse drag event\n      if (start > firstBase && start <= lastBase) startEdge = start;\n      if (end >= firstBase && end < lastBase) lastEdge = end;\n    }\n\n    // for cmd-a case\n    if (ref === \"ALL\" || (start === 0 && end === fullSeq.length - 1)) {\n      startEdge = null;\n      lastEdge = null;\n    }\n\n    // the end of the selection edges are not in this SeqBlock and do not need to be rendered\n    if (startEdge === null && lastEdge === null) {\n      return null;\n    }\n\n    if (startEdge === null) {\n      startEdge = lastEdge;\n      lastEdge = null;\n    }\n    let { width, x } = findXAndWidth(startEdge, lastEdge);\n\n    // if drag event in counter clockwise direction and both of the edges are\n    // within this range (if reverse but not both in one range, it'll be fine)\n    if (clockwise === false && startEdge !== null && lastEdge !== null) {\n      ({ width, x } = findXAndWidth(lastEdge, startEdge));\n    }\n\n    // the x position of the second edge\n    let secondEdgeX = x + width;\n    if (startEdge !== null && lastEdge !== null) {\n      // in this scenario, the ending edge of the selection range is before the start\n      if ((start > end && clockwise === true) || (end > start && clockwise === false)) {\n        secondEdgeX = x - width;\n      }\n    }\n\n    // for when it starts on the first bp of the next SeqBlock\n    if (start === end && start === lastBase) {\n      return null;\n    }\n\n    /* handling case where cursor is rendered on each line */\n    if (startEdge === null && lastEdge === null) {\n      return null;\n    }\n\n    return (\n      <g>\n        {startEdge !== null && (\n          <rect\n            className=\"la-vz-selection-edge\"\n            data-testid=\"la-vz-selection-edge\"\n            height={selectEdgeHeight}\n            shapeRendering=\"crispEdges\"\n            strokeWidth={0}\n            width={1}\n            x={x}\n            y={-5}\n          />\n        )}\n        {lastEdge !== null && (\n          <rect\n            className=\"la-vz-selection-edge\"\n            data-testid=\"la-vz-selection-edge\"\n            height={selectEdgeHeight}\n            shapeRendering=\"crispEdges\"\n            strokeWidth={0}\n            width={1}\n            x={secondEdgeX}\n            y={-5}\n          />\n        )}\n      </g>\n    );\n  }\n}\n\ninterface BlockProps {\n  findXAndWidth: FindXAndWidthType;\n  firstBase: number;\n  fullSeq: string;\n  lastBase: number;\n  onUnmount: (a: string) => void;\n  selectHeight: number;\n}\n\n/**\n * A Block is a single range of selected bases. Usually shown as a light blue box. Can span a single or multiple blocks.\n */\nclass Block extends React.PureComponent<BlockProps> {\n  static contextType = SelectionContext;\n  static context: React.ContextType<typeof SelectionContext>;\n  declare context: React.ContextType<typeof SelectionContext>;\n\n  id = randomid();\n\n  render() {\n    const { findXAndWidth, firstBase, fullSeq, lastBase, selectHeight } = this.props;\n    const { clockwise, ref } = this.context;\n    let { end, start } = this.context;\n\n    if (typeof start === \"undefined\" || typeof end === \"undefined\") {\n      return;\n    }\n\n    // there's no need to render a selection block (rect) if just one point has been selected\n    if (start === end && ref !== \"ALL\") return null;\n    if (ref === \"ALL\" || (start === 0 && end === fullSeq.length)) {\n      // it's not \"ALL\" or some element's id\n      start = 0;\n      end = 0;\n    }\n\n    // props shared between all 3 possible components.\n    const blockProps = {\n      className: \"la-vz-selection\",\n      \"data-testid\": \"la-vz-selection-block\",\n      height: selectHeight,\n      shapeRendering: \"auto\",\n      y: -5,\n    };\n\n    let x: number | null = null;\n    let width: number | null = null;\n    let secondBlock: JSX.Element | null = null;\n    if (clockwise && end > start) {\n      // does not cross the zero index, FWD direction\n      if (start <= lastBase && end > firstBase) {\n        ({ width, x } = findXAndWidth(Math.max(firstBase, start), Math.min(lastBase, end)));\n      }\n    } else if (clockwise && start > end) {\n      // crosses the zero index in FWD direction\n      if (!(start > lastBase && end < firstBase)) {\n        // is this seq block relevant\n        if (start < lastBase && end > firstBase) {\n          // the selection range both starts and ends in this seqblock, but wraps\n          // all the way around the rest of the plasmid\n          // ex: https://user-images.githubusercontent.com/13923102/34791431-f56df23a-f612-11e7-94b4-e302ede155a0.png\n          const { width: secBlockWidth, x: secBlockX } = findXAndWidth(start, lastBase);\n          secondBlock = <rect {...blockProps} width={secBlockWidth} x={secBlockX} />;\n          ({ width, x } = findXAndWidth(firstBase, end));\n        } else {\n          ({ width, x } = findXAndWidth(\n            start > lastBase ? firstBase : Math.max(firstBase, start),\n            end < firstBase ? lastBase : Math.min(lastBase, end)\n          ));\n        }\n      }\n    } else if (!clockwise && start > end) {\n      // does not cross zero index but is in reverse direction\n      if (end <= lastBase && start >= firstBase) {\n        ({ width, x } = findXAndWidth(Math.max(firstBase, end), Math.min(lastBase, start)));\n      }\n    } else if (!clockwise && end > start) {\n      // crosses zero index and is in reverse direction\n      if (start > firstBase || end < lastBase) {\n        if (start > firstBase && start < lastBase && end > firstBase) {\n          // the selection range both starts and ends in this seqblock, but wraps\n          // all the way around the rest of the plasmid\n          // ex: https://user-images.githubusercontent.com/13923102/34791431-f56df23a-f612-11e7-94b4-e302ede155a0.png\n          const { width: secBlockWidth, x: secBlockX } = findXAndWidth(end, lastBase);\n          secondBlock = <rect {...blockProps} width={secBlockWidth} x={secBlockX} />;\n          ({ width, x } = findXAndWidth(firstBase, start));\n        } else {\n          ({ width, x } = findXAndWidth(start < firstBase ? end : firstBase, end > lastBase ? start : lastBase));\n        }\n      }\n    }\n\n    // sreflect\n    if (ref === \"ALL\" || start === end) {\n      ({ width, x } = findXAndWidth(Math.max(firstBase, 0), Math.min(lastBase, fullSeq.length + 1)));\n    }\n\n    // nothing was set for this selection block\n    if (!x && !width) {\n      return null;\n    }\n\n    return (\n      <>\n        <rect {...blockProps} width={width ? width + 1 : undefined} x={x || undefined} />\n        {secondBlock}\n      </>\n    );\n  }\n}\n\nexport default { Block, Edges };\n","import * as React from \"react\";\n\nimport { InputRefFunc } from \"../SelectionHandler\";\nimport { borderColorByIndex, colorByIndex } from \"../colors\";\nimport { SeqType, Translation } from \"../elements\";\nimport randomid from \"../randomid\";\nimport { FindXAndWidthType } from \"./SeqBlock\";\n\ninterface TranslationRowsProps {\n  bpsPerBlock: number;\n  charWidth: number;\n  elementHeight: number;\n  findXAndWidth: FindXAndWidthType;\n  firstBase: number;\n  fullSeq: string;\n  inputRef: InputRefFunc;\n  lastBase: number;\n  onUnmount: (a: unknown) => void;\n  seqType: SeqType;\n  translations: Translation[];\n  yDiff: number;\n}\n\n/** Rows of translations */\nconst TranslationRows = ({\n  bpsPerBlock,\n  charWidth,\n  elementHeight,\n  findXAndWidth,\n  firstBase,\n  fullSeq,\n  inputRef,\n  lastBase,\n  onUnmount,\n  seqType,\n  translations,\n  yDiff,\n}: TranslationRowsProps) => (\n  <g className=\"la-vz-linear-translations\">\n    {translations.map((t, i) => (\n      <TranslationRow\n        key={`${t.id}-${firstBase}`}\n        bpsPerBlock={bpsPerBlock}\n        charWidth={charWidth}\n        findXAndWidth={findXAndWidth}\n        firstBase={firstBase}\n        fullSeq={fullSeq}\n        height={elementHeight * 0.9}\n        id={t.id}\n        inputRef={inputRef}\n        lastBase={lastBase}\n        seqType={seqType}\n        translation={t}\n        y={yDiff + elementHeight * i}\n        onUnmount={onUnmount}\n      />\n    ))}\n  </g>\n);\n\ninterface TranslationRowProps {\n  bpsPerBlock: number;\n  charWidth: number;\n  findXAndWidth: FindXAndWidthType;\n  firstBase: number;\n  fullSeq: string;\n  height: number;\n  id?: string;\n  inputRef: InputRefFunc;\n  lastBase: number;\n  onUnmount: (a: unknown) => void;\n  seqType: SeqType;\n  translation: Translation;\n  y: number;\n}\n\n/**\n * A single row for translations of DNA into Amino Acid sequences so a user can\n * see the resulting protein or peptide sequence in the viewer\n */\nclass TranslationRow extends React.PureComponent<TranslationRowProps> {\n  AAs: string[] = [];\n\n  // on unmount, clear all AA references.\n  componentWillUnmount = () => {\n    const { onUnmount } = this.props;\n    this.AAs.forEach(a => onUnmount(a));\n  };\n\n  /**\n   * make the actual path string\n   */\n  genPath = (count: number, multiplier: number) => {\n    const { charWidth, height: h } = this.props; // width adjust\n\n    const nW = count * charWidth;\n    const wA = multiplier * 3;\n\n    return `M 0 0\n\t\t\tL ${nW} 0\n\t\t\tL ${nW + wA} ${h / 2}\n\t\t\tL ${nW} ${h}\n\t\t\tL 0 ${h}\n\t\t\tL ${wA} ${h / 2}\n\t\t\tZ`;\n  };\n\n  render() {\n    const {\n      bpsPerBlock,\n      charWidth,\n      findXAndWidth,\n      firstBase,\n      fullSeq,\n      height: h,\n      inputRef,\n      lastBase,\n      seqType,\n      translation,\n      y,\n    } = this.props;\n\n    const { AAseq, direction, end, id, start } = translation;\n\n    // if rendering an amino-acid sequence directly, each amino acid block is 1:1 with a \"base pair\".\n    // otherwise, each amino-acid covers three bases.\n    const bpPerBlockCount = seqType === \"aa\" ? 1 : 3;\n\n    // substring and split only the amino acids that are relevant to this\n    // particular sequence block\n    const AAs = AAseq.split(\"\");\n    return (\n      <g\n        ref={inputRef(id, {\n          end,\n          name: \"translation\",\n          parent: { ...translation, type: \"TRANSLATION\" },\n          start,\n          type: \"AMINOACID\",\n          viewer: \"LINEAR\",\n        })}\n        id={id}\n        transform={`translate(0, ${y})`}\n      >\n        {AAs.map((a, i) => {\n          // generate and store an id reference (that's used for selection)\n          const aaId = randomid();\n          this.AAs.push(aaId);\n\n          // calculate the start and end point of each amino acid\n          // modulo needed here for translations that cross zero index\n          let AAStart = (start + i * bpPerBlockCount) % fullSeq.length;\n          let AAEnd = start + i * bpPerBlockCount + bpPerBlockCount;\n\n          if (AAStart > AAEnd && firstBase >= bpsPerBlock) {\n            // amino acid has crossed zero index in the last SeqBlock\n            AAEnd += fullSeq.length;\n          } else if (AAStart > AAEnd && firstBase < bpsPerBlock) {\n            // amino acid has crossed zero index in the first SeqBlock\n            AAStart -= fullSeq.length;\n          } else if (AAStart === 0 && firstBase >= bpsPerBlock) {\n            // extreme edge case (1/3 around zero) where modulo returns zero\n            AAStart += fullSeq.length;\n            AAEnd += fullSeq.length;\n          }\n\n          // build up a selection handler reference for just this amino acid,\n          // so a singly translated amino acid can be selected from within the\n          // larger translation\n\n          // the amino acid doesn't fit within this SeqBlock (even partially)\n          if (AAStart >= lastBase || AAEnd <= firstBase) return null;\n\n          let showAminoAcidLabel = true; // whether to show amino acids abbreviation\n          let bpCount = bpPerBlockCount; // start off assuming the full thing is shown\n          if (AAStart < firstBase) {\n            bpCount = Math.min(bpPerBlockCount, AAEnd - firstBase);\n            if (bpCount < 2 && seqType !== \"aa\") {\n              // w/ one bp, the amino acid is probably too small for an abbreviation\n              showAminoAcidLabel = false;\n            }\n          } else if (AAEnd > lastBase) {\n            bpCount = Math.min(bpPerBlockCount, lastBase - AAStart);\n            if (bpCount < 2 && seqType !== \"aa\") {\n              showAminoAcidLabel = false;\n            }\n          }\n\n          const { x } = findXAndWidth(Math.max(AAStart, firstBase));\n\n          // direction check needed to determine which direction the amino acid translation\n          // arrow are facing\n          const path = this.genPath(bpCount, direction === 1 ? 1 : -1);\n\n          return (\n            <g\n              key={aaId}\n              ref={inputRef(aaId, {\n                end: AAEnd,\n                parent: { ...translation, type: \"TRANSLATION\" },\n                start: AAStart,\n                type: \"AMINOACID\",\n                viewer: \"LINEAR\",\n              })}\n              id={aaId}\n              transform={`translate(${x}, 0)`}\n            >\n              <path\n                d={path}\n                fill={colorByIndex(a.charCodeAt(0))}\n                id={aaId}\n                shapeRendering=\"geometricPrecision\"\n                stroke={borderColorByIndex(a.charCodeAt(0))}\n                style={{\n                  cursor: \"pointer\",\n                  opacity: 0.7,\n                  strokeWidth: 0.8,\n                }}\n              />\n\n              {showAminoAcidLabel && (\n                <text\n                  className=\"la-vz-translation-amino-acid-label\"\n                  cursor=\"pointer\"\n                  data-testid=\"la-vz-translation\"\n                  dominantBaseline=\"middle\"\n                  id={aaId}\n                  textAnchor=\"middle\"\n                  x={bpCount * 0.5 * charWidth}\n                  y={`${h / 2 + 1}`}\n                >\n                  {a}\n                </text>\n              )}\n            </g>\n          );\n        })}\n      </g>\n    );\n  }\n}\n\nexport default TranslationRows;\n","import * as React from \"react\";\n\nimport SelectionContext, { Selection, defaultSelection } from \"./selectionContext\";\n\ninterface RefSelection extends Selection {\n  viewer: \"LINEAR\" | \"CIRCULAR\";\n}\n\nexport type InputRefFunc = (id: string, ref: RefSelection) => any;\n\nexport type SeqVizMouseEvent = React.MouseEvent & {\n  target: { id: string };\n};\n\nexport interface SelectionHandlerProps {\n  bpsPerBlock: number;\n  center: { x: number; y: number };\n  centralIndex: number;\n  children: (\n    inputRef: InputRefFunc,\n    handleMouseEvent: (e: SeqVizMouseEvent) => void,\n    onUnmount: (ref: string) => void\n  ) => React.ReactNode;\n  seq: string;\n  setCentralIndex: (viewer: \"LINEAR\" | \"CIRCULAR\", index: number) => void;\n  setSelection: (selection: Selection) => void;\n  yDiff: number;\n}\n\n/**\n * SelectionHandler handles sequence selection. Each click, drag, etc, is\n * noted and mapped to a sequence index.\n */\nexport default class SelectionHandler extends React.PureComponent<SelectionHandlerProps> {\n  static displayName = \"WithSelectionHandler\";\n\n  static contextType = SelectionContext;\n  static context: React.ContextType<typeof SelectionContext>;\n  declare context: React.ContextType<typeof SelectionContext>;\n\n  /** Only state is the selection range */\n  state = { ...defaultSelection };\n\n  /* previous base cursor is over, used in circular drag select */\n  previousBase: null | number = null;\n\n  /* directionality of drag (true if clockwise), used in circular drag select */\n  forward: null | boolean = null;\n\n  /* full selection length, used in circular drag select */\n  fullSelectionLength = 0;\n\n  /* is the user currently dragging across the surface of the seqViewer? this is tracked on SeqBlocks in particular (onMouseOver), used in circular drag select */\n  dragEvent = false;\n\n  /* is there a selection already, used for shift-click catch up */\n  selectionStarted = false;\n\n  /* was the last selection action a shift click, used for shift-click catch up */\n  shiftSelection = false;\n\n  /* unix time of the last click (awful attempt at detecting double clicks) */\n  lastClick = Date.now();\n\n  /** a map between the id of child elements and their associated SelectRanges */\n  idToRange = new Map<string, Selection>();\n\n  componentDidMount = () => {\n    if (!document) return;\n    document.addEventListener(\"mouseup\", this.stopDrag);\n  };\n\n  componentWillUnmount = () => {\n    if (!document) return;\n    document.removeEventListener(\"mouseup\", this.stopDrag);\n  };\n\n  /** Stop the current drag event from happening */\n  stopDrag = () => {\n    this.dragEvent = false;\n  };\n\n  /**\n   * Called at start of drag to make sure checkers are reset to default state\n   */\n  resetCircleDragVars = (start: null | number) => {\n    this.previousBase = start;\n    this.forward = null;\n    this.fullSelectionLength = 0;\n    this.dragEvent = true; // start a drag event\n  };\n\n  /**\n   * a ref callback for mapping the id of child to its SelectRange\n   * it stores the id of all elements\n   **/\n  inputRef = (ref: string, selectRange: Selection) => {\n    this.idToRange.set(ref, { ref, ...selectRange });\n  };\n\n  /**\n   * remove the ref by ID.\n   */\n  removeMountedBlock = (ref: string) => {\n    this.idToRange.delete(ref);\n  };\n\n  /**\n   * the selected child element is something that is known by reference.\n   * update its SeqBlock's range (or any others affected) with the newly\n   * active range\n   */\n  mouseEvent = (e: SeqVizMouseEvent) => {\n    const { setCentralIndex } = this.props;\n\n    // should not be updating selection since it's not a drag event time\n    if ((e.type === \"mousemove\" || e.type === \"mouseup\") && !this.dragEvent) {\n      return;\n    }\n\n    // storing this to figure out if it was a double click\n    const msSinceLastClick = Date.now() - this.lastClick;\n\n    let knownRange = this.dragEvent\n      ? this.idToRange.get(e.currentTarget.id) // only look for SeqBlocks\n      : this.idToRange.get(e.target.id) || this.idToRange.get(e.currentTarget.id); // elements and SeqBlocks\n    if (!knownRange) {\n      return; // there isn't a known range with the id of the element\n    }\n    knownRange = { ...knownRange, end: knownRange.end || 0, start: knownRange.start || 0 };\n\n    const { direction, end, start, viewer } = knownRange;\n    switch (knownRange.type) {\n      case \"ANNOTATION\":\n      case \"FIND\":\n      case \"TRANSLATION\":\n      case \"ENZYME\":\n      case \"HIGHLIGHT\": {\n        if (viewer !== \"LINEAR\" && setCentralIndex) {\n          // if an element was clicked on the circular viewer, scroll the linear\n          // viewer so the element starts on the first SeqBlock\n          setCentralIndex(\"LINEAR\", start || 0);\n        }\n\n        // Annotation or find selection range\n        const clockwise = direction ? direction === 1 : true;\n        const selectionStart = clockwise ? start : end;\n        const selectionEnd = clockwise ? end : start;\n\n        this.setSelection({\n          ...knownRange,\n          clockwise: clockwise,\n          end: selectionEnd,\n          start: selectionStart,\n        });\n\n        this.dragEvent = false;\n        this.lastClick = Date.now();\n\n        break;\n      }\n      case \"AMINOACID\": {\n        // Annotation or find selection range\n        const clockwise = direction ? direction === 1 : true;\n        let selectionStart = clockwise ? start : end;\n        let selectionEnd = clockwise ? end : start;\n\n        // if they double clicked, select the whole translation\n        // https://en.wikipedia.org/wiki/Double-click#Speed_and_timing\n        if (msSinceLastClick < 300 && knownRange.parent) {\n          knownRange = { ...knownRange.parent, end: knownRange.parent.end || 0, start: knownRange.parent.start || 0 };\n          selectionStart = clockwise ? knownRange.start : knownRange.end;\n          selectionEnd = clockwise ? knownRange.end : knownRange.start;\n        }\n\n        this.setSelection({\n          ...knownRange,\n          clockwise: clockwise,\n          end: selectionEnd,\n          start: selectionStart,\n        });\n\n        this.dragEvent = false;\n        this.lastClick = Date.now();\n\n        e.stopPropagation(); // necessary to stop a double click\n\n        break;\n      }\n      case \"SEQ\": {\n        if (viewer === \"LINEAR\") {\n          this.handleLinearSeqEvent(e, { ...knownRange, end: knownRange.end || 0, start: knownRange.start || 0 });\n        } else if (viewer === \"CIRCULAR\") {\n          this.handleCircularSeqEvent(e);\n        }\n\n        break;\n      }\n      default:\n    }\n  };\n\n  /**\n   * Handle a sequence selection on a linear viewer\n   */\n  handleLinearSeqEvent = (e: SeqVizMouseEvent, knownRange: { end: number; start: number }) => {\n    const selection = this.context;\n\n    const currBase = this.calculateBaseLinear(e, knownRange);\n    const clockwiseDrag = selection.start !== null && currBase >= (selection.start || 0);\n\n    if (e.type === \"mousedown\" && currBase !== null) {\n      // this is the start of a drag event\n      this.setSelection({\n        ...defaultSelection,\n        clockwise: clockwiseDrag,\n        end: currBase,\n        start: e.shiftKey ? selection.start : currBase,\n      });\n      this.dragEvent = true;\n    } else if (this.dragEvent && currBase !== null) {\n      // continue a drag event that's currently happening\n      this.setSelection({\n        ...defaultSelection,\n        clockwise: clockwiseDrag,\n        end: currBase,\n        start: selection.start,\n      });\n    }\n  };\n\n  /**\n   * Handle a sequence selection event on the circular viewer\n   */\n  handleCircularSeqEvent = (e: SeqVizMouseEvent) => {\n    const { seq } = this.props;\n    const selection = this.context;\n\n    const { start } = selection;\n    let { clockwise, end } = selection;\n\n    const currBase = this.calculateBaseCircular(e);\n    const seqLength = seq.length;\n\n    if (e.type === \"mousedown\") {\n      const selStart = e.shiftKey ? start || 0 : currBase;\n      const lookahead = e.shiftKey\n        ? this.calcSelectionLength(selStart, currBase, false)\n        : this.calcSelectionLength(selStart, currBase, true); // check clockwise selection length\n      this.selectionStarted = lookahead > 0; // update check for whether there is a prior selection\n      this.resetCircleDragVars(selStart); // begin drag event\n\n      this.setSelection({\n        ...defaultSelection,\n        clockwise: clockwise,\n        end: currBase,\n        ref: \"\",\n        start: selStart,\n        type: \"SEQ\",\n      });\n    } else if (\n      e.type === \"mousemove\" &&\n      this.dragEvent &&\n      currBase &&\n      this.previousBase &&\n      currBase !== this.previousBase\n    ) {\n      const increased = currBase > this.previousBase; // bases increased\n      const changeThreshold = seqLength * 0.9; // threshold for unrealistic change by mouse movement\n      const change = Math.abs(this.previousBase - currBase); // index change from this mouse movement\n      const crossedZero = change > changeThreshold; // zero was crossed if base jumped more than changeThreshold\n      this.forward = increased ? !crossedZero : crossedZero; // bases increased XOR crossed zero\n      const lengthChange = crossedZero ? seqLength - change : change; // the change at the point where we cross zero has to be normalized by seqLength\n      let sameDirectionMove = this.forward === selection.clockwise || selection.clockwise === null; // moving in same direction as start of drag or start of drag\n\n      if (sameDirectionMove) {\n        this.fullSelectionLength += lengthChange;\n      } else {\n        this.fullSelectionLength -= lengthChange;\n      }\n\n      this.previousBase = currBase; // done comparing with previous base, update previous base\n      if (this.fullSelectionLength < seqLength * 0.01 && !this.shiftSelection) {\n        clockwise = this.forward; // near selection start so selection direction is up for grabs\n        const check = this.calcSelectionLength(selection.start || 0, currBase, this.forward); // check actual current selection length\n        if (this.fullSelectionLength < 0) {\n          // This is to correct for errors when dragging too fast\n          this.fullSelectionLength = check;\n        }\n        if (check > this.fullSelectionLength) {\n          // the actual selection length being greater than additive selection\n          // length means we have come back to start and want to go in opposite direction\n          clockwise = !this.forward;\n        }\n        end = currBase;\n      }\n      sameDirectionMove = this.forward === selection.clockwise; // recalculate this in case we've switched selection directionality\n\n      // check the selection length, this is agnostic to the ALL reference and\n      // will always calculate from where you cursor is to the start of selection\n      const check = this.calcSelectionLength(selection.start || 0, currBase, selection.clockwise || true);\n\n      if (this.selectionStarted && this.shiftSelection && check > this.fullSelectionLength) {\n        this.fullSelectionLength = check; // shift select catch up\n      }\n\n      // there is an ongoing drag in the same direction as the direction the selection started in\n      const sameDirectionDrag = this.dragEvent && sameDirectionMove;\n      const fullSelection = false; // selection is full sequence\n\n      // TODO: fix const fullSelection = currRef === \"ALL\"; // selection is full sequence\n      const hitFullSelection = !fullSelection && this.fullSelectionLength >= seqLength; // selection became full sequence\n      if (sameDirectionDrag && hitFullSelection) {\n        end = start;\n      } else if (fullSelection) {\n        // this ensures that backtracking doesn't require making up to your overshoot forward circles\n        this.fullSelectionLength = seqLength + (this.fullSelectionLength % seqLength);\n\n        if (\n          !sameDirectionDrag && // changed direction\n          check === this.fullSelectionLength - seqLength && // back tracking\n          check > seqLength * 0.9 // passed selection start\n        ) {\n          end = currBase; // start decreasing selection size due to backtracking\n\n          // reset calculated additive selection length to normal now that we are not at ALL length\n          this.fullSelectionLength = this.fullSelectionLength - seqLength;\n        }\n      } else {\n        end = currBase; // nothing special just update the selection\n      }\n      this.shiftSelection = false;\n\n      this.setSelection({\n        ...defaultSelection,\n        clockwise: clockwise,\n        end: end,\n        start: start,\n        type: \"SEQ\",\n      });\n    }\n  };\n\n  /**\n   * in a linear sequence viewer, given the bounding box of a component, the basepairs\n   * by SeqBlock and the position of the mouse event, find the current base\n   */\n  calculateBaseLinear = (e: SeqVizMouseEvent, knownRange: { end: number; start: number }) => {\n    const { bpsPerBlock } = this.props;\n\n    const block = e.currentTarget.getBoundingClientRect();\n    const distFromLeft: number = e.clientX - block.left;\n    const ratioFromLeft = distFromLeft / block.width;\n    const bpsFromLeft = Math.round(ratioFromLeft * (bpsPerBlock as number));\n\n    return Math.min(knownRange.start + bpsFromLeft, knownRange.end);\n  };\n\n  /**\n   * in a circular plasmid viewer, given the center of the viewer, and position of the\n   * mouse event, find the currently hovered or clicked basepair\n   */\n  calculateBaseCircular = (e: SeqVizMouseEvent) => {\n    const { center, centralIndex, seq, yDiff } = this.props;\n\n    if (!center) return 0;\n\n    const block = e.currentTarget.getBoundingClientRect();\n\n    // position on the plasmid viewer\n    const distFromLeft = e.clientX - block.left;\n    const distFromTop = e.clientY - block.top;\n\n    // position relative to center\n    const x = distFromLeft - center.x;\n    const y = distFromTop - (center.y + (yDiff as number));\n\n    const riseToRun = y / x;\n    const posInRads = Math.atan(riseToRun);\n    let posInDeg = posInRads * (180 / Math.PI) + 90; // convert and shift to vertical is 0\n    if (x < 0) {\n      posInDeg += 180; // left half of the viewer\n    }\n    const posInPerc = posInDeg / 360; // position as a percentage\n\n    let currBase = Math.round(seq.length * posInPerc); // account for rotation of the viewer\n    currBase += centralIndex as number;\n    if (currBase > seq.length) {\n      currBase -= seq.length;\n    }\n    return currBase;\n  };\n\n  /**\n   * Update the selection in state. Only update the specified\n   * properties of the selection that should be updated.\n   */\n  setSelection = (newSelection: Selection) => {\n    const selection = this.context;\n    const { setSelection } = this.props;\n\n    if (\n      newSelection.start === selection.start &&\n      newSelection.end === selection.end &&\n      newSelection.ref === selection.ref &&\n      // to support re-clicking the annotation and causing it to fire a la gh issue https://github.com/Lattice-Automation/seqviz/issues/142\n      [\"SEQ\", \"AMINOACID\", \"\"].includes(newSelection.type || \"\")\n    ) {\n      return;\n    }\n    const { clockwise, end, name, ref, start, type }: any = {\n      ...selection,\n      ...newSelection,\n    };\n\n    const length = this.calcSelectionLength(start, end, clockwise);\n\n    setSelection({\n      clockwise,\n      end,\n      length,\n      name,\n      ref,\n      start,\n      type,\n    });\n  };\n\n  /**\n   * Check what the length of the selection is in circle drag select\n   */\n  calcSelectionLength = (start: number, base: number, clock: boolean | null) => {\n    const { seq } = this.props;\n    if (base < start && !clock) {\n      return start - base;\n    }\n    if (base > start && !clock) {\n      return start + (seq.length - base);\n    }\n    if (base > start && clock) {\n      return base - start;\n    }\n    if (base < start && clock) {\n      return seq.length - start + base;\n    }\n    return 0;\n  };\n\n  render() {\n    return this.props.children(this.inputRef, this.mouseEvent, this.removeMountedBlock);\n  }\n}\n","import { CutSite, Enzyme, SeqType } from \"./elements\";\nimport presetEnzymes from \"./enzymes\";\nimport { createRegex } from \"./search\";\nimport { reverseComplement } from \"./sequence\";\n\n/**\n * Digest a sequence with the enzymes and return an array of cut-site.\n *\n * This is slow enough to impact rendering so shouldn't be ran on each prop change.\n */\nexport default (\n  seq: string,\n  seqType: SeqType,\n  enzymes: (Enzyme | string)[] = [],\n  enzymesCustom: { [key: string]: Enzyme } = {}\n): CutSite[] => {\n  const seqToCut = seq + seq;\n\n  // find all the cut sites, deduplicate by index+direction of each cut-site\n  const cutSites = enzymes\n    // if it's a string, assume it's an enzyme name in the pre-defined enzyme list\n    .map(e => (typeof e === \"string\" ? presetEnzymes[e.toLowerCase()] : e))\n    // filter out enzyme names that were wrong\n    .filter(e => e)\n    // add in custom enzymes\n    .concat(Object.values(enzymesCustom))\n    // build up cut-sites\n    .reduce((acc: { [key: string]: CutSite }, enzyme: Enzyme) => {\n      // search for cut sites for this enzyme\n      findCutSites(enzyme, seqToCut, seqType, seq.length)\n        // deduplicate so there's only one enzyme per index\n        .forEach(c => (acc[`${c.fcut}-${c.direction}`] = c));\n      return acc;\n    }, {});\n\n  return Object.values(cutSites);\n};\n\n/**\n * Search through the sequence with the enzyme and return an array of cut and hang indexes.\n *\n * Exported for testing.\n */\nexport const findCutSites = (enzyme: Enzyme, seq: string, seqType: SeqType, seqL: number): CutSite[] => {\n  if (seqType === \"aa\") return [];\n\n  // get the recognitionSite, fcut, and rcut\n  const { fcut, rcut, rseq } = enzyme;\n  const cutSites: CutSite[] = [];\n\n  // Find matches on the top/forward sequence.\n  const matcher = createRegex(rseq, seqType);\n  let result = matcher.exec(seq);\n  while (result) {\n    // add the cut site index, after correcting for actual cut site index\n    const index = result.index;\n    cutSites.push({\n      direction: 1,\n      end: index + rseq.length,\n      enzyme: enzyme,\n      fcut: index + fcut,\n      id: \"\",\n      name: enzyme.name,\n      rcut: index + rcut,\n      start: index,\n    });\n    result = matcher.exec(seq);\n  }\n\n  // We don't want to double-count cuts by enzymes whose recognition seq is the\n  // same in the forward and reverse complement direction (eg SpeI).\n  const dupRevComp = rseq === reverseComplement(rseq, seqType);\n\n  // Now matches in the reverse complement direction.\n  const rcMatcher = createRegex(reverseComplement(rseq, seqType), seqType);\n  result = rcMatcher.exec(seq);\n  while (result && !dupRevComp) {\n    // same as above but correcting for the new reverse complement indexes\n    const index = result.index;\n    cutSites.push({\n      direction: -1,\n      end: index + rseq.length,\n      enzyme: enzyme,\n      fcut: index + rseq.length - rcut,\n      id: \"\",\n      name: enzyme.name,\n      rcut: index + rseq.length - fcut,\n      start: index,\n    });\n    result = rcMatcher.exec(seq);\n  }\n\n  // reduce so there's only one enzyme per template cut index\n  return (\n    cutSites\n      .sort((a, b) => a.fcut - b.fcut)\n      // filter out cut sites that that only start/end at 0-index. I no longer remember what this was for\n      .filter(c => !(c.fcut === 0 && c.rcut === 0))\n      // modulo the start/end and add an id to each cut-site\n      .map(c => ({\n        ...c,\n        end: c.end % seqL,\n        fcut: c.fcut % seqL,\n        id: `${enzyme.name}-${enzyme.rseq}-${c.fcut}-${c.direction > 0 ? \"fwd\" : \"rev\"}`,\n        rcut: c.rcut % seqL,\n        start: c.start % seqL,\n      }))\n      // if `.range` was provided on the enzyme, limit the search to that range.\n      // https://github.com/Lattice-Automation/seqviz/issues/95\n      .filter(c => (c.enzyme.range ? c.start >= c.enzyme.range.start && c.end <= c.enzyme.range.end : true))\n  );\n};\n","import { Enzyme } from \"./elements\";\n\n/**\n * NEB Restriction Enzymes\n *\n * a list of enzyme objects with their name as the key,\n * their recognition site sequence as \"rseq\", and cut site relative to the\n * start of the recognition site as \"fcut\", and the start of the resulting overhang\n * from the recognition site as \"rcut\"\n *\n * eg: PstI with recognition site \"CTGCAG\" cuts so that the break is at (cutSite = 5):\n *\n * ```\n * \t\t..C TGCA|G..\n * \t\t..G|ACGT C..\n *\n * ```\n *\n * and the resulting fragment looks like (rcut = 1):\n *\n * ```\n * \t\t..CTGCA\n * \t\t..G****\n * ```\n */\nconst enzymes: { [key: string]: Enzyme } = {\n  aatii: {\n    fcut: 5,\n    name: \"AatII\",\n    rcut: 1,\n    rseq: \"GACGTC\",\n  },\n  abasi: {\n    fcut: 14,\n    name: \"AbaSI\",\n    rcut: 12,\n    rseq: \"hmCNNNNNNNNNNN\",\n  },\n  acc65i: {\n    fcut: 1,\n    name: \"Acc65I\",\n    rcut: 5,\n    rseq: \"GGTACC\",\n  },\n  acci: {\n    fcut: 2,\n    name: \"AccI\",\n    rcut: 4,\n    rseq: \"GTMKAC\",\n  },\n  acii: {\n    fcut: 1,\n    name: \"AciI\",\n    rcut: 3,\n    rseq: \"CCGC\",\n  },\n  acli: {\n    fcut: 2,\n    name: \"AclI\",\n    rcut: 4,\n    rseq: \"AACGTT\",\n  },\n  acui: {\n    fcut: 22,\n    name: \"AcuI\",\n    rcut: 20,\n    rseq: \"CTGAAGNNNNNNNNNNNNNNNN\",\n  },\n  afei: {\n    fcut: 3,\n    name: \"AfeI\",\n    rcut: 3,\n    rseq: \"AGCGCT\",\n  },\n  aflii: {\n    fcut: 1,\n    name: \"AflII\",\n    rcut: 5,\n    rseq: \"CTTAAG\",\n  },\n  afliii: {\n    fcut: 1,\n    name: \"AflIII\",\n    rcut: 5,\n    rseq: \"ACRYGT\",\n  },\n  agei: {\n    fcut: 1,\n    name: \"AgeI\",\n    rcut: 5,\n    rseq: \"ACCGGT\",\n  },\n  ahdi: {\n    fcut: 6,\n    name: \"AhdI\",\n    rcut: 5,\n    rseq: \"GACNNNNNGTC\",\n  },\n  alei: {\n    fcut: 5,\n    name: \"AleI\",\n    rcut: 5,\n    rseq: \"CACNNNNGTG\",\n  },\n  alui: {\n    fcut: 2,\n    name: \"AluI\",\n    rcut: 2,\n    rseq: \"AGCT\",\n  },\n  alwi: {\n    fcut: 9,\n    name: \"AlwI\",\n    rcut: 10,\n    rseq: \"GGATCNNNNN\",\n  },\n  alwni: {\n    fcut: 6,\n    name: \"AlwNI\",\n    rcut: 3,\n    rseq: \"CAGNNNCTG\",\n  },\n  apai: {\n    fcut: 5,\n    name: \"ApaI\",\n    rcut: 1,\n    rseq: \"GGGCCC\",\n  },\n  apali: {\n    fcut: 1,\n    name: \"ApaLI\",\n    rcut: 5,\n    rseq: \"GTGCAC\",\n  },\n  apeki: {\n    fcut: 1,\n    name: \"ApeKI\",\n    rcut: 4,\n    rseq: \"GCWGC\",\n  },\n  apoi: {\n    fcut: 1,\n    name: \"ApoI\",\n    rcut: 5,\n    rseq: \"RAATTY\",\n  },\n  asci: {\n    fcut: 2,\n    name: \"AscI\",\n    rcut: 6,\n    rseq: \"GGCGCGCC\",\n  },\n  asei: {\n    fcut: 2,\n    name: \"AseI\",\n    rcut: 4,\n    rseq: \"ATTAAT\",\n  },\n  asisi: {\n    fcut: 5,\n    name: \"AsiSI\",\n    rcut: 3,\n    rseq: \"GCGATCGC\",\n  },\n  avai: {\n    fcut: 1,\n    name: \"AvaI\",\n    rcut: 5,\n    rseq: \"CYCGRG\",\n  },\n  avaii: {\n    fcut: 1,\n    name: \"AvaII\",\n    rcut: 4,\n    rseq: \"GGWCC\",\n  },\n  avrii: {\n    fcut: 1,\n    name: \"AvrII\",\n    rcut: 5,\n    rseq: \"CCTAGG\",\n  },\n  baegi: {\n    fcut: 5,\n    name: \"BaeGI\",\n    rcut: 1,\n    rseq: \"GKGCMC\",\n  },\n  baei: {\n    fcut: 38,\n    name: \"BaeI\",\n    rcut: 33,\n    rseq: \"NNNNNNNNNNNNNNNACNNNNGTAYCNNNNNNNNNNNN\",\n  },\n  bamhi: {\n    fcut: 1,\n    name: \"BamHI\",\n    rcut: 5,\n    rseq: \"GGATCC\",\n  },\n  bani: {\n    fcut: 1,\n    name: \"BanI\",\n    rcut: 5,\n    rseq: \"GGYRCC\",\n  },\n  banii: {\n    fcut: 5,\n    name: \"BanII\",\n    rcut: 1,\n    rseq: \"GRGCYC\",\n  },\n  bbsi: {\n    fcut: 8,\n    name: \"BbsI\",\n    rcut: 12,\n    rseq: \"GAAGACNNNNNN\",\n  },\n  bbvci: {\n    fcut: 2,\n    name: \"BbvCI\",\n    rcut: 5,\n    rseq: \"CCTCAGC\",\n  },\n  bbvi: {\n    fcut: 13,\n    name: \"BbvI\",\n    rcut: 17,\n    rseq: \"GCAGCNNNNNNNNNNNN\",\n  },\n  bcci: {\n    fcut: 9,\n    name: \"BccI\",\n    rcut: 10,\n    rseq: \"CCATCNNNNN\",\n  },\n  bceai: {\n    fcut: 17,\n    name: \"BceAI\",\n    rcut: 19,\n    rseq: \"ACGGCNNNNNNNNNNNNNN\",\n  },\n  bcgi: {\n    fcut: 36,\n    name: \"BcgI\",\n    rcut: 34,\n    rseq: \"NNNNNNNNNNNNCGANNNNNNTGCNNNNNNNNNNNN\",\n  },\n  bcivi: {\n    fcut: 12,\n    name: \"BciVI\",\n    rcut: 11,\n    rseq: \"GTATCCNNNNNN\",\n  },\n  bcli: {\n    fcut: 1,\n    name: \"BclI\",\n    rcut: 5,\n    rseq: \"TGATCA\",\n  },\n  bcodi: {\n    fcut: 6,\n    name: \"BcoDI\",\n    rcut: 10,\n    rseq: \"GTCTCNNNNN\",\n  },\n  bfai: {\n    fcut: 1,\n    name: \"BfaI\",\n    rcut: 3,\n    rseq: \"CTAG\",\n  },\n  bfuai: {\n    fcut: 10,\n    name: \"BfuAI\",\n    rcut: 14,\n    rseq: \"ACCTGCNNNNNNNN\",\n  },\n  bgli: {\n    fcut: 7,\n    name: \"BglI\",\n    rcut: 4,\n    rseq: \"GCCNNNNNGGC\",\n  },\n  bglii: {\n    fcut: 1,\n    name: \"BglII\",\n    rcut: 5,\n    rseq: \"AGATCT\",\n  },\n  blpi: {\n    fcut: 2,\n    name: \"BlpI\",\n    rcut: 5,\n    rseq: \"GCTNAGC\",\n  },\n  bmgbi: {\n    fcut: 3,\n    name: \"BmgBI\",\n    rcut: 3,\n    rseq: \"CACGTC\",\n  },\n  bmri: {\n    fcut: 11,\n    name: \"BmrI\",\n    rcut: 10,\n    rseq: \"ACTGGGNNNNN\",\n  },\n  bmti: {\n    fcut: 5,\n    name: \"BmtI\",\n    rcut: 1,\n    rseq: \"GCTAGC\",\n  },\n  bpmi: {\n    fcut: 22,\n    name: \"BpmI\",\n    rcut: 20,\n    rseq: \"CTGGAGNNNNNNNNNNNNNNNN\",\n  },\n  bpu10i: {\n    fcut: 2,\n    name: \"Bpu10I\",\n    rcut: 5,\n    rseq: \"CCTNAGC\",\n  },\n  bpuei: {\n    fcut: 22,\n    name: \"BpuEI\",\n    rcut: 20,\n    rseq: \"CTTGAGNNNNNNNNNNNNNNNN\",\n  },\n  bsaai: {\n    fcut: 3,\n    name: \"BsaAI\",\n    rcut: 3,\n    rseq: \"YACGTR\",\n  },\n  bsabi: {\n    fcut: 5,\n    name: \"BsaBI\",\n    rcut: 5,\n    rseq: \"GATNNNNATC\",\n  },\n  bsahi: {\n    fcut: 2,\n    name: \"BsaHI\",\n    rcut: 4,\n    rseq: \"GRCGYC\",\n  },\n  bsai: {\n    fcut: 7,\n    name: \"BsaI\",\n    rcut: 11,\n    rseq: \"GGTCTCNNNNN\",\n  },\n  bsaji: {\n    fcut: 1,\n    name: \"BsaJI\",\n    rcut: 5,\n    rseq: \"CCNNGG\",\n  },\n  bsawi: {\n    fcut: 1,\n    name: \"BsaWI\",\n    rcut: 5,\n    rseq: \"WCCGGW\",\n  },\n  bsaxi: {\n    fcut: 33,\n    name: \"BsaXI\",\n    rcut: 30,\n    rseq: \"NNNNNNNNNNNNACNNNNNCTCCNNNNNNNNNN\",\n  },\n  bseri: {\n    fcut: 16,\n    name: \"BseRI\",\n    rcut: 14,\n    rseq: \"GAGGAGNNNNNNNNNN\",\n  },\n  bseyi: {\n    fcut: 1,\n    name: \"BseYI\",\n    rcut: 5,\n    rseq: \"CCCAGC\",\n  },\n  bsgi: {\n    fcut: 22,\n    name: \"BsgI\",\n    rcut: 20,\n    rseq: \"GTGCAGNNNNNNNNNNNNNNNN\",\n  },\n  bsiei: {\n    fcut: 4,\n    name: \"BsiEI\",\n    rcut: 2,\n    rseq: \"CGRYCG\",\n  },\n  bsihkai: {\n    fcut: 5,\n    name: \"BsiHKAI\",\n    rcut: 1,\n    rseq: \"GWGCWC\",\n  },\n  bsiwi: {\n    fcut: 1,\n    name: \"BsiWI\",\n    rcut: 5,\n    rseq: \"CGTACG\",\n  },\n  bsli: {\n    fcut: 7,\n    name: \"BslI\",\n    rcut: 4,\n    rseq: \"CCNNNNNNNGG\",\n  },\n  bsmai: {\n    fcut: 6,\n    name: \"BsmAI\",\n    rcut: 10,\n    rseq: \"GTCTCNNNNN\",\n  },\n  bsmbi: {\n    fcut: 7,\n    name: \"BsmBI\",\n    rcut: 11,\n    rseq: \"CGTCTCNNNNN\",\n  },\n  bsmfi: {\n    fcut: 15,\n    name: \"BsmFI\",\n    rcut: 19,\n    rseq: \"GGGACNNNNNNNNNNNNNN\",\n  },\n  bsmi: {\n    fcut: 7,\n    name: \"BsmI\",\n    rcut: 5,\n    rseq: \"GAATGCN\",\n  },\n  bsobi: {\n    fcut: 1,\n    name: \"BsoBI\",\n    rcut: 5,\n    rseq: \"CYCGRG\",\n  },\n  bsp1286i: {\n    fcut: 5,\n    name: \"Bsp1286I\",\n    rcut: 1,\n    rseq: \"GDGCHC\",\n  },\n  bspcni: {\n    fcut: 14,\n    name: \"BspCNI\",\n    rcut: 12,\n    rseq: \"CTCAGNNNNNNNNN\",\n  },\n  bspdi: {\n    fcut: 2,\n    name: \"BspDI\",\n    rcut: 4,\n    rseq: \"ATCGAT\",\n  },\n  bspei: {\n    fcut: 1,\n    name: \"BspEI\",\n    rcut: 5,\n    rseq: \"TCCGGA\",\n  },\n  bsphi: {\n    fcut: 1,\n    name: \"BspHI\",\n    rcut: 5,\n    rseq: \"TCATGA\",\n  },\n  bspmi: {\n    fcut: 10,\n    name: \"BspMI\",\n    rcut: 14,\n    rseq: \"ACCTGCNNNNNNNN\",\n  },\n  bspqi: {\n    fcut: 8,\n    name: \"BspQI\",\n    rcut: 11,\n    rseq: \"GCTCTTCNNNN\",\n  },\n  bsrbi: {\n    fcut: 3,\n    name: \"BsrBI\",\n    rcut: 3,\n    rseq: \"CCGCTC\",\n  },\n  bsrdi: {\n    fcut: 8,\n    name: \"BsrDI\",\n    rcut: 6,\n    rseq: \"GCAATGNN\",\n  },\n  bsrfi: {\n    fcut: 1,\n    name: \"BsrFI\",\n    rcut: 5,\n    rseq: \"RCCGGY\",\n  },\n  bsrgi: {\n    fcut: 1,\n    name: \"BsrGI\",\n    rcut: 5,\n    rseq: \"TGTACA\",\n  },\n  bsri: {\n    fcut: 6,\n    name: \"BsrI\",\n    rcut: 4,\n    rseq: \"ACTGGN\",\n  },\n  bsshii: {\n    fcut: 1,\n    name: \"BssHII\",\n    rcut: 5,\n    rseq: \"GCGCGC\",\n  },\n  bsssi: {\n    fcut: 1,\n    name: \"BssSI\",\n    rcut: 5,\n    rseq: \"CACGAG\",\n  },\n  bstapi: {\n    fcut: 7,\n    name: \"BstAPI\",\n    rcut: 4,\n    rseq: \"GCANNNNNTGC\",\n  },\n  bstbi: {\n    fcut: 2,\n    name: \"BstBI\",\n    rcut: 4,\n    rseq: \"TTCGAA\",\n  },\n  bsteii: {\n    fcut: 1,\n    name: \"BstEII\",\n    rcut: 6,\n    rseq: \"GGTNACC\",\n  },\n  bstni: {\n    fcut: 2,\n    name: \"BstNI\",\n    rcut: 3,\n    rseq: \"CCWGG\",\n  },\n  bstui: {\n    fcut: 2,\n    name: \"BstUI\",\n    rcut: 2,\n    rseq: \"CGCG\",\n  },\n  bstxi: {\n    fcut: 8,\n    name: \"BstXI\",\n    rcut: 4,\n    rseq: \"CCANNNNNNTGG\",\n  },\n  bstyi: {\n    fcut: 1,\n    name: \"BstYI\",\n    rcut: 5,\n    rseq: \"RGATCY\",\n  },\n  bstz17i: {\n    fcut: 3,\n    name: \"BstZ17I\",\n    rcut: 3,\n    rseq: \"GTATAC\",\n  },\n  bsu36i: {\n    fcut: 2,\n    name: \"Bsu36I\",\n    rcut: 5,\n    rseq: \"CCTNAGG\",\n  },\n  btgi: {\n    fcut: 1,\n    name: \"BtgI\",\n    rcut: 5,\n    rseq: \"CCRYGG\",\n  },\n  btgzi: {\n    fcut: 16,\n    name: \"BtgZI\",\n    rcut: 20,\n    rseq: \"GCGATGNNNNNNNNNNNNNN\",\n  },\n  btsci: {\n    fcut: 7,\n    name: \"BtsCI\",\n    rcut: 5,\n    rseq: \"GGATGNN\",\n  },\n  btsi: {\n    fcut: 8,\n    name: \"BtsI\",\n    rcut: 6,\n    rseq: \"GCAGTGNN\",\n  },\n  btsimuti: {\n    fcut: 7,\n    name: \"BtsIMutI\",\n    rcut: 5,\n    rseq: \"CAGTGNN\",\n  },\n  cac8i: {\n    fcut: 3,\n    name: \"Cac8I\",\n    rcut: 3,\n    rseq: \"GCNNGC\",\n  },\n  clai: {\n    fcut: 2,\n    name: \"ClaI\",\n    rcut: 4,\n    rseq: \"ATCGAT\",\n  },\n  cspci: {\n    fcut: 37,\n    name: \"CspCI\",\n    rcut: 35,\n    rseq: \"NNNNNNNNNNNNNCAANNNNNGTGGNNNNNNNNNNNN\",\n  },\n  cviaii: {\n    fcut: 1,\n    name: \"CviAII\",\n    rcut: 3,\n    rseq: \"CATG\",\n  },\n  \"cviki-1\": {\n    fcut: 2,\n    name: \"CviKI-1\",\n    rcut: 2,\n    rseq: \"RGCY\",\n  },\n  cviqi: {\n    fcut: 1,\n    name: \"CviQI\",\n    rcut: 3,\n    rseq: \"GTAC\",\n  },\n  ddei: {\n    fcut: 1,\n    name: \"DdeI\",\n    rcut: 4,\n    rseq: \"CTNAG\",\n  },\n  dpni: {\n    fcut: 3,\n    name: \"DpnI\",\n    rcut: 3,\n    rseq: \"GmATC\",\n  },\n  dpnii: {\n    fcut: 0,\n    name: \"DpnII\",\n    rcut: 4,\n    rseq: \"GATC\",\n  },\n  drai: {\n    fcut: 3,\n    name: \"DraI\",\n    rcut: 3,\n    rseq: \"TTTAAA\",\n  },\n  draiii: {\n    fcut: 6,\n    name: \"DraIII\",\n    rcut: 3,\n    rseq: \"CACNNNGTG\",\n  },\n  drdi: {\n    fcut: 7,\n    name: \"DrdI\",\n    rcut: 5,\n    rseq: \"GACNNNNNNGTC\",\n  },\n  eaei: {\n    fcut: 1,\n    name: \"EaeI\",\n    rcut: 5,\n    rseq: \"YGGCCR\",\n  },\n  eagi: {\n    fcut: 1,\n    name: \"EagI\",\n    rcut: 5,\n    rseq: \"CGGCCG\",\n  },\n  eari: {\n    fcut: 7,\n    name: \"EarI\",\n    rcut: 10,\n    rseq: \"CTCTTCNNNN\",\n  },\n  ecii: {\n    fcut: 17,\n    name: \"EciI\",\n    rcut: 15,\n    rseq: \"GGCGGANNNNNNNNNNN\",\n  },\n  eco53ki: {\n    fcut: 3,\n    name: \"Eco53kI\",\n    rcut: 3,\n    rseq: \"GAGCTC\",\n  },\n  econi: {\n    fcut: 5,\n    name: \"EcoNI\",\n    rcut: 6,\n    rseq: \"CCTNNNNNAGG\",\n  },\n  ecoo109i: {\n    fcut: 2,\n    name: \"EcoO109I\",\n    rcut: 5,\n    rseq: \"RGGNCCY\",\n  },\n  ecori: {\n    fcut: 1,\n    name: \"EcoRI\",\n    rcut: 5,\n    rseq: \"GAATTC\",\n  },\n  ecorv: {\n    fcut: 3,\n    name: \"EcoRV\",\n    rcut: 3,\n    rseq: \"GATATC\",\n  },\n  esp3i: {\n    fcut: 7,\n    name: \"Esp3I\",\n    rcut: 11,\n    rseq: \"CGTCTCNNNNN\",\n  },\n  fati: {\n    fcut: 0,\n    name: \"FatI\",\n    rcut: 4,\n    rseq: \"CATG\",\n  },\n  faui: {\n    fcut: 9,\n    name: \"FauI\",\n    rcut: 11,\n    rseq: \"CCCGCNNNNNN\",\n  },\n  fnu4hi: {\n    fcut: 2,\n    name: \"Fnu4HI\",\n    rcut: 3,\n    rseq: \"GCNGC\",\n  },\n  foki: {\n    fcut: 14,\n    name: \"FokI\",\n    rcut: 18,\n    rseq: \"GGATGNNNNNNNNNNNNN\",\n  },\n  fsei: {\n    fcut: 6,\n    name: \"FseI\",\n    rcut: 2,\n    rseq: \"GGCCGGCC\",\n  },\n  fspei: {\n    fcut: 15,\n    name: \"FspEI\",\n    rcut: 19,\n    rseq: \"CmCNNNNNNNNNNNNNNNN\",\n  },\n  fspi: {\n    fcut: 3,\n    name: \"FspI\",\n    rcut: 3,\n    rseq: \"TGCGCA\",\n  },\n  haeii: {\n    fcut: 5,\n    name: \"HaeII\",\n    rcut: 1,\n    rseq: \"RGCGCY\",\n  },\n  haeiii: {\n    fcut: 2,\n    name: \"HaeIII\",\n    rcut: 2,\n    rseq: \"GGCC\",\n  },\n  hgai: {\n    fcut: 10,\n    name: \"HgaI\",\n    rcut: 15,\n    rseq: \"GACGCNNNNNNNNNN\",\n  },\n  hhai: {\n    fcut: 3,\n    name: \"HhaI\",\n    rcut: 1,\n    rseq: \"GCGC\",\n  },\n  hincii: {\n    fcut: 3,\n    name: \"HincII\",\n    rcut: 3,\n    rseq: \"GTYRAC\",\n  },\n  hindiii: {\n    fcut: 1,\n    name: \"HindIII\",\n    rcut: 5,\n    rseq: \"AAGCTT\",\n  },\n  hinfi: {\n    fcut: 1,\n    name: \"HinfI\",\n    rcut: 4,\n    rseq: \"GANTC\",\n  },\n  hinp1i: {\n    fcut: 1,\n    name: \"HinP1I\",\n    rcut: 3,\n    rseq: \"GCGC\",\n  },\n  hpai: {\n    fcut: 3,\n    name: \"HpaI\",\n    rcut: 3,\n    rseq: \"GTTAAC\",\n  },\n  hpaii: {\n    fcut: 1,\n    name: \"HpaII\",\n    rcut: 3,\n    rseq: \"CCGG\",\n  },\n  hphi: {\n    fcut: 13,\n    name: \"HphI\",\n    rcut: 12,\n    rseq: \"GGTGANNNNNNNN\",\n  },\n  hpy166ii: {\n    fcut: 3,\n    name: \"Hpy166II\",\n    rcut: 3,\n    rseq: \"GTNNAC\",\n  },\n  hpy188i: {\n    fcut: 3,\n    name: \"Hpy188I\",\n    rcut: 2,\n    rseq: \"TCNGA\",\n  },\n  hpy188iii: {\n    fcut: 2,\n    name: \"Hpy188III\",\n    rcut: 4,\n    rseq: \"TCNNGA\",\n  },\n  hpy99i: {\n    fcut: 5,\n    name: \"Hpy99I\",\n    rcut: 0,\n    rseq: \"CGWCG\",\n  },\n  hpyav: {\n    fcut: 11,\n    name: \"HpyAV\",\n    rcut: 10,\n    rseq: \"CCTTCNNNNNN\",\n  },\n  hpych4iii: {\n    fcut: 3,\n    name: \"HpyCH4III\",\n    rcut: 2,\n    rseq: \"ACNGT\",\n  },\n  hpych4iv: {\n    fcut: 1,\n    name: \"HpyCH4IV\",\n    rcut: 3,\n    rseq: \"ACGT\",\n  },\n  hpych4v: {\n    fcut: 2,\n    name: \"HpyCH4V\",\n    rcut: 2,\n    rseq: \"TGCA\",\n  },\n  \"i-ceui\": {\n    fcut: 18,\n    name: \"I-CeuI\",\n    rcut: 14,\n    rseq: \"TAACTATAACGGTCCTAAGGTAGCGAA\",\n  },\n  \"i-scei\": {\n    fcut: 9,\n    name: \"I-SceI\",\n    rcut: 5,\n    rseq: \"TAGGGATAACAGGGTAAT\",\n  },\n  kasi: {\n    fcut: 1,\n    name: \"KasI\",\n    rcut: 5,\n    rseq: \"GGCGCC\",\n  },\n  kpni: {\n    fcut: 5,\n    name: \"KpnI\",\n    rcut: 1,\n    rseq: \"GGTACC\",\n  },\n  lpnpi: {\n    fcut: 15,\n    name: \"LpnPI\",\n    rcut: 19,\n    rseq: \"CmCDGNNNNNNNNNNNNNN\",\n  },\n  mboi: {\n    fcut: 0,\n    name: \"MboI\",\n    rcut: 4,\n    rseq: \"GATC\",\n  },\n  mboii: {\n    fcut: 13,\n    name: \"MboII\",\n    rcut: 12,\n    rseq: \"GAAGANNNNNNNN\",\n  },\n  mfei: {\n    fcut: 1,\n    name: \"MfeI\",\n    rcut: 5,\n    rseq: \"CAATTG\",\n  },\n  mluci: {\n    fcut: 0,\n    name: \"MluCI\",\n    rcut: 4,\n    rseq: \"AATT\",\n  },\n  mlui: {\n    fcut: 1,\n    name: \"MluI\",\n    rcut: 5,\n    rseq: \"ACGCGT\",\n  },\n  mlyi: {\n    fcut: 10,\n    name: \"MlyI\",\n    rcut: 10,\n    rseq: \"GAGTCNNNNN\",\n  },\n  mmei: {\n    fcut: 26,\n    name: \"MmeI\",\n    rcut: 24,\n    rseq: \"TCCRACNNNNNNNNNNNNNNNNNNNN\",\n  },\n  mnli: {\n    fcut: 11,\n    name: \"MnlI\",\n    rcut: 10,\n    rseq: \"CCTCNNNNNNN\",\n  },\n  msci: {\n    fcut: 3,\n    name: \"MscI\",\n    rcut: 3,\n    rseq: \"TGGCCA\",\n  },\n  msei: {\n    fcut: 1,\n    name: \"MseI\",\n    rcut: 3,\n    rseq: \"TTAA\",\n  },\n  msli: {\n    fcut: 5,\n    name: \"MslI\",\n    rcut: 5,\n    rseq: \"CAYNNNNRTG\",\n  },\n  mspa1i: {\n    fcut: 3,\n    name: \"MspA1I\",\n    rcut: 3,\n    rseq: \"CMGCKG\",\n  },\n  mspi: {\n    fcut: 1,\n    name: \"MspI\",\n    rcut: 3,\n    rseq: \"CCGG\",\n  },\n  mspji: {\n    fcut: 14,\n    name: \"MspJI\",\n    rcut: 18,\n    rseq: \"mCNNRNNNNNNNNNNNNN\",\n  },\n  mwoi: {\n    fcut: 7,\n    name: \"MwoI\",\n    rcut: 4,\n    rseq: \"GCNNNNNNNGC\",\n  },\n  naei: {\n    fcut: 3,\n    name: \"NaeI\",\n    rcut: 3,\n    rseq: \"GCCGGC\",\n  },\n  nari: {\n    fcut: 2,\n    name: \"NarI\",\n    rcut: 4,\n    rseq: \"GGCGCC\",\n  },\n  ncii: {\n    fcut: 2,\n    name: \"NciI\",\n    rcut: 3,\n    rseq: \"CCSGG\",\n  },\n  ncoi: {\n    fcut: 1,\n    name: \"NcoI\",\n    rcut: 5,\n    rseq: \"CCATGG\",\n  },\n  ndei: {\n    fcut: 2,\n    name: \"NdeI\",\n    rcut: 4,\n    rseq: \"CATATG\",\n  },\n  ngomiv: {\n    fcut: 1,\n    name: \"NgoMIV\",\n    rcut: 5,\n    rseq: \"GCCGGC\",\n  },\n  nhei: {\n    fcut: 1,\n    name: \"NheI\",\n    rcut: 5,\n    rseq: \"GCTAGC\",\n  },\n  nlaiii: {\n    fcut: 4,\n    name: \"NlaIII\",\n    rcut: 0,\n    rseq: \"CATG\",\n  },\n  nlaiv: {\n    fcut: 3,\n    name: \"NlaIV\",\n    rcut: 3,\n    rseq: \"GGNNCC\",\n  },\n  nmeaiii: {\n    fcut: 26,\n    name: \"NmeAIII\",\n    rcut: 25,\n    rseq: \"GCCGAGNNNNNNNNNNNNNNNNNNNN\",\n  },\n  noti: {\n    fcut: 2,\n    name: \"NotI\",\n    rcut: 6,\n    rseq: \"GCGGCCGC\",\n  },\n  nrui: {\n    fcut: 3,\n    name: \"NruI\",\n    rcut: 3,\n    rseq: \"TCGCGA\",\n  },\n  nsii: {\n    fcut: 5,\n    name: \"NsiI\",\n    rcut: 1,\n    rseq: \"ATGCAT\",\n  },\n  nspi: {\n    fcut: 5,\n    name: \"NspI\",\n    rcut: 1,\n    rseq: \"RCATGY\",\n  },\n  paci: {\n    fcut: 5,\n    name: \"PacI\",\n    rcut: 3,\n    rseq: \"TTAATTAA\",\n  },\n  paer7i: {\n    fcut: 1,\n    name: \"PaeR7I\",\n    rcut: 5,\n    rseq: \"CTCGAG\",\n  },\n  pcii: {\n    fcut: 1,\n    name: \"PciI\",\n    rcut: 5,\n    rseq: \"ACATGT\",\n  },\n  pflfi: {\n    fcut: 4,\n    name: \"PflFI\",\n    rcut: 5,\n    rseq: \"GACNNNGTC\",\n  },\n  pflmi: {\n    fcut: 7,\n    name: \"PflMI\",\n    rcut: 4,\n    rseq: \"CCANNNNNTGG\",\n  },\n  \"pi-pspi\": {\n    fcut: 17,\n    name: \"PI-PspI\",\n    rcut: 13,\n    rseq: \"TGGCAAACAGCTATTATGGGTATTATGGGT\",\n  },\n  \"pi-scei\": {\n    fcut: 15,\n    name: \"PI-SceI\",\n    rcut: 11,\n    rseq: \"ATCTATGTCGGGTGCGGAGAAAGAGGTAATGAAATGG\",\n  },\n  plei: {\n    fcut: 9,\n    name: \"PleI\",\n    rcut: 10,\n    rseq: \"GAGTCNNNNN\",\n  },\n  pluti: {\n    fcut: 5,\n    name: \"PluTI\",\n    rcut: 1,\n    rseq: \"GGCGCC\",\n  },\n  pmei: {\n    fcut: 4,\n    name: \"PmeI\",\n    rcut: 4,\n    rseq: \"GTTTAAAC\",\n  },\n  pmli: {\n    fcut: 3,\n    name: \"PmlI\",\n    rcut: 3,\n    rseq: \"CACGTG\",\n  },\n  ppumi: {\n    fcut: 2,\n    name: \"PpuMI\",\n    rcut: 5,\n    rseq: \"RGGWCCY\",\n  },\n  pshai: {\n    fcut: 5,\n    name: \"PshAI\",\n    rcut: 5,\n    rseq: \"GACNNNNGTC\",\n  },\n  psii: {\n    fcut: 3,\n    name: \"PsiI\",\n    rcut: 3,\n    rseq: \"TTATAA\",\n  },\n  pspgi: {\n    fcut: 0,\n    name: \"PspGI\",\n    rcut: 5,\n    rseq: \"CCWGG\",\n  },\n  pspomi: {\n    fcut: 1,\n    name: \"PspOMI\",\n    rcut: 5,\n    rseq: \"GGGCCC\",\n  },\n  pspxi: {\n    fcut: 2,\n    name: \"PspXI\",\n    rcut: 6,\n    rseq: \"VCTCGAGB\",\n  },\n  psti: {\n    fcut: 5,\n    name: \"PstI\",\n    rcut: 1,\n    rseq: \"CTGCAG\",\n  },\n  pvui: {\n    fcut: 4,\n    name: \"PvuI\",\n    rcut: 2,\n    rseq: \"CGATCG\",\n  },\n  pvuii: {\n    fcut: 3,\n    name: \"PvuII\",\n    rcut: 3,\n    rseq: \"CAGCTG\",\n  },\n  rsai: {\n    fcut: 2,\n    name: \"RsaI\",\n    rcut: 2,\n    rseq: \"GTAC\",\n  },\n  rsrii: {\n    fcut: 2,\n    name: \"RsrII\",\n    rcut: 5,\n    rseq: \"CGGWCCG\",\n  },\n  saci: {\n    fcut: 5,\n    name: \"SacI\",\n    rcut: 1,\n    rseq: \"GAGCTC\",\n  },\n  sacii: {\n    fcut: 4,\n    name: \"SacII\",\n    rcut: 2,\n    rseq: \"CCGCGG\",\n  },\n  sali: {\n    fcut: 1,\n    name: \"SalI\",\n    rcut: 5,\n    rseq: \"GTCGAC\",\n  },\n  sapi: {\n    fcut: 8,\n    name: \"SapI\",\n    rcut: 11,\n    rseq: \"GCTCTTCNNNN\",\n  },\n  sau3ai: {\n    fcut: 0,\n    name: \"Sau3AI\",\n    rcut: 4,\n    rseq: \"GATC\",\n  },\n  sau96i: {\n    fcut: 1,\n    name: \"Sau96I\",\n    rcut: 4,\n    rseq: \"GGNCC\",\n  },\n  sbfi: {\n    fcut: 6,\n    name: \"SbfI\",\n    rcut: 2,\n    rseq: \"CCTGCAGG\",\n  },\n  scai: {\n    fcut: 3,\n    name: \"ScaI\",\n    rcut: 3,\n    rseq: \"AGTACT\",\n  },\n  scrfi: {\n    fcut: 2,\n    name: \"ScrFI\",\n    rcut: 3,\n    rseq: \"CCNGG\",\n  },\n  sexai: {\n    fcut: 1,\n    name: \"SexAI\",\n    rcut: 6,\n    rseq: \"ACCWGGT\",\n  },\n  sfani: {\n    fcut: 10,\n    name: \"SfaNI\",\n    rcut: 14,\n    rseq: \"GCATCNNNNNNNNN\",\n  },\n  sfci: {\n    fcut: 1,\n    name: \"SfcI\",\n    rcut: 5,\n    rseq: \"CTRYAG\",\n  },\n  sfii: {\n    fcut: 8,\n    name: \"SfiI\",\n    rcut: 5,\n    rseq: \"GGCCNNNNNGGCC\",\n  },\n  sfoi: {\n    fcut: 3,\n    name: \"SfoI\",\n    rcut: 3,\n    rseq: \"GGCGCC\",\n  },\n  sgrai: {\n    fcut: 2,\n    name: \"SgrAI\",\n    rcut: 6,\n    rseq: \"CRCCGGYG\",\n  },\n  smai: {\n    fcut: 3,\n    name: \"SmaI\",\n    rcut: 3,\n    rseq: \"CCCGGG\",\n  },\n  smli: {\n    fcut: 1,\n    name: \"SmlI\",\n    rcut: 5,\n    rseq: \"CTYRAG\",\n  },\n  snabi: {\n    fcut: 3,\n    name: \"SnaBI\",\n    rcut: 3,\n    rseq: \"TACGTA\",\n  },\n  spei: {\n    fcut: 1,\n    name: \"SpeI\",\n    rcut: 5,\n    rseq: \"ACTAGT\",\n  },\n  sphi: {\n    fcut: 5,\n    name: \"SphI\",\n    rcut: 1,\n    rseq: \"GCATGC\",\n  },\n  srfi: {\n    fcut: 4,\n    name: \"SrfI\",\n    rcut: 4,\n    rseq: \"GCCCGGGC\",\n  },\n  sspi: {\n    fcut: 3,\n    name: \"SspI\",\n    rcut: 3,\n    rseq: \"AATATT\",\n  },\n  stui: {\n    fcut: 3,\n    name: \"StuI\",\n    rcut: 3,\n    rseq: \"AGGCCT\",\n  },\n  styd4i: {\n    fcut: 0,\n    name: \"StyD4I\",\n    rcut: 5,\n    rseq: \"CCNGG\",\n  },\n  styi: {\n    fcut: 1,\n    name: \"StyI\",\n    rcut: 5,\n    rseq: \"CCWWGG\",\n  },\n  swai: {\n    fcut: 4,\n    name: \"SwaI\",\n    rcut: 4,\n    rseq: \"ATTTAAAT\",\n  },\n  taqi: {\n    fcut: 1,\n    name: \"TaqI\",\n    rcut: 3,\n    rseq: \"TCGA\",\n  },\n  tfii: {\n    fcut: 1,\n    name: \"TfiI\",\n    rcut: 4,\n    rseq: \"GAWTC\",\n  },\n  tsei: {\n    fcut: 1,\n    name: \"TseI\",\n    rcut: 4,\n    rseq: \"GCWGC\",\n  },\n  tsp45i: {\n    fcut: 0,\n    name: \"Tsp45I\",\n    rcut: 5,\n    rseq: \"GTSAC\",\n  },\n  tspmi: {\n    fcut: 1,\n    name: \"TspMI\",\n    rcut: 5,\n    rseq: \"CCCGGG\",\n  },\n  tspri: {\n    fcut: 9,\n    name: \"TspRI\",\n    rcut: 0,\n    rseq: \"NNCASTGNN\",\n  },\n  tth111i: {\n    fcut: 4,\n    name: \"Tth111I\",\n    rcut: 5,\n    rseq: \"GACNNNGTC\",\n  },\n  xbai: {\n    fcut: 1,\n    name: \"XbaI\",\n    rcut: 5,\n    rseq: \"TCTAGA\",\n  },\n  xcmi: {\n    fcut: 8,\n    name: \"XcmI\",\n    rcut: 7,\n    rseq: \"CCANNNNNNNNNTGG\",\n  },\n  xhoi: {\n    fcut: 1,\n    name: \"XhoI\",\n    rcut: 5,\n    rseq: \"CTCGAG\",\n  },\n  xmai: {\n    fcut: 1,\n    name: \"XmaI\",\n    rcut: 5,\n    rseq: \"CCCGGG\",\n  },\n  xmni: {\n    fcut: 5,\n    name: \"XmnI\",\n    rcut: 5,\n    rseq: \"GAANNNNTTC\",\n  },\n  zrai: {\n    fcut: 3,\n    name: \"ZraI\",\n    rcut: 3,\n    rseq: \"GACGTC\",\n  },\n};\n\nexport default enzymes;\n","import { NameRange, SeqType } from \"./elements\";\nimport { complement, getAlphabet, nucleotides, reverse } from \"./sequence\";\n\n/**\n * Search the seq in the forward and reverse complement strands.\n * Return all matched regions. Accounts for abiguous BP encodings and allows for mismatches\n */\nexport default (query: string, mismatch = 0, seq = \"\", seqType: SeqType): NameRange[] => {\n  if (!query || !query.length || !seq || !seq.length) {\n    return [];\n  }\n\n  // Only start searching after query is at least 2 letters, lowest meaningful length\n  if (query.length - mismatch < 2) {\n    return [];\n  }\n\n  const indices = search(query, seq, mismatch, true, seqType);\n  if ([\"dna\", \"rna\"].includes(seqType)) {\n    const { compSeq } = complement(seq, seqType);\n    const compIndices = search(reverse(query), compSeq, mismatch, false, seqType);\n    indices.push(...compIndices);\n  }\n\n  if (indices.length > 4000) {\n    // Fail out with warning. Rendering would be too expensive.\n    console.error(\"Search too broad: >4000 matches. Please narrow parameters.\");\n    return [];\n  }\n\n  return indices.sort((a, b) => a.start - b.start);\n};\n\n/**\n * If there's no mismatch, just use a RegExp to search over the sequence repeatedly\n * Otherwise, use the modified hamming search in `searchWithMismatch()`\n */\nconst search = (query: string, subject: string, mismatch: number, fwd: boolean, seqType: SeqType) => {\n  if (mismatch > 0) {\n    return searchWithMismatch(query, subject, mismatch, fwd, seqType);\n  }\n\n  const seqLength = subject.length;\n  const regex = createRegex(query, seqType);\n\n  let match = regex.exec(subject);\n  const results: NameRange[] = [];\n  while (match) {\n    const start = match.index % seqLength;\n    const end = (start + query.length) % seqLength || seqLength;\n    results.push({\n      direction: fwd ? 1 : -1,\n      end: end,\n      id: `${start}-${fwd ? \"fwd\" : \"rev\"}`,\n      name: \"\",\n      start: start,\n    });\n    match = regex.exec(subject);\n  }\n  return results;\n};\n\n/**\n * A slightly modified Hamming Distance algorithm for approximate string Matching for patterns\n */\nconst searchWithMismatch = (query: string, subject: string, mismatch: number, fwd: boolean, seqType: SeqType) => {\n  const alphabet = getAlphabet(seqType);\n\n  const results: NameRange[] = [];\n  for (let i = 0; i < subject.length - query.length; i += 1) {\n    let missed = 0;\n\n    for (let j = 0; j < query.length; j += 1) {\n      const targetChar = subject[i + j].toLowerCase();\n      const queryChar = query[j].toLowerCase();\n      if (nucleotides[queryChar]) {\n        if (targetChar !== queryChar) {\n          missed += 1;\n        }\n      } else if (alphabet[queryChar]) {\n        if (!alphabet[queryChar][targetChar]) {\n          missed += 1;\n        }\n      }\n      if (missed > mismatch) {\n        break;\n      }\n    }\n\n    if (missed <= mismatch) {\n      const end = (i + query.length) % subject.length || subject.length;\n      results.push({\n        direction: fwd ? 1 : -1,\n        end: end,\n        id: `${i}-${fwd ? \"fwd\" : \"rev\"}`,\n        name: \"\",\n        start: i,\n      });\n    }\n  }\n\n  return results;\n};\n\n/**\n * Translate common symbols to their wildcards to build up a regex. The regex is case insensitive.\n *\n * Eg \"N\" matches [ATGCU]. So a query of \"ANN\" maps to \"A(A|T|G|C|U)(A|T|G|C|U)\"\n */\nexport const createRegex = (query: string, seqType: SeqType): RegExp => {\n  const alphabet = getAlphabet(seqType);\n\n  const pattern = query\n    .toLowerCase()\n    .split(\"\")\n    .map(symbol => (alphabet[symbol] ? `(${Object.keys(alphabet[symbol]).join(\"|\")})` : symbol))\n    .join(\"\");\n\n  return new RegExp(pattern.trim(), \"gi\");\n};\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./SeqViz.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./SeqViz.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\"use strict\";\n\nvar stylesInDOM = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n\n  return updater;\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n\n  var needLayer = typeof obj.layer !== \"undefined\";\n\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n\n  css += obj.css;\n\n  if (needLayer) {\n    css += \"}\";\n  }\n\n  if (obj.media) {\n    css += \"}\";\n  }\n\n  if (obj.supports) {\n    css += \"}\";\n  }\n\n  var sourceMap = obj.sourceMap;\n\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  options.styleTagTransform(css, styleElement, options.options);\n}\n\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n\n  styleElement.parentNode.removeChild(styleElement);\n}\n/* istanbul ignore next  */\n\n\nfunction domAPI(options) {\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\n\nmodule.exports = domAPI;","\"use strict\";\n\nvar memo = {};\n/* istanbul ignore next  */\n\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n\n    memo[target] = styleTarget;\n  }\n\n  return memo[target];\n}\n/* istanbul ignore next  */\n\n\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n\n  target.appendChild(style);\n}\n\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\n\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\n\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\n\nmodule.exports = styleTagTransform;","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.push([module.id, \"@import url(https://fonts.googleapis.com/css?family=Roboto+Mono:300,400,500&display=swap);\"]);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/* Shared/common settings */\\n.la-vz-seqviz {\\n  height: 100%;\\n  width: 100%;\\n}\\n\\n.la-vz-seqviz svg {\\n  overflow: visible !important;\\n}\\n\\n.la-vz-seqviz svg text {\\n  fill: rgb(42, 42, 42);\\n  font-family: Roboto Mono, Monaco, monospace;\\n  user-select: none;\\n\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n\\n.la-vz-seqviz svg text:selection {\\n  background: none;\\n}\\n\\n.la-vz-viewer-container {\\n  height: 100%;\\n  position: relative;\\n  width: 100%;\\n}\\n\\n.la-vz-viewer-event-router {\\n  display: flex;\\n  flex-direction: row;\\n  height: 100%;\\n  outline: none;\\n  position: absolute;\\n  width: 100%;\\n}\\n\\n.la-vz-search {\\n  fill: rgba(255, 251, 7, 0.5);\\n}\\n\\n.la-vz-highlight {\\n  fill: rgba(255, 251, 7, 0.25);\\n}\\n\\n.la-vz-selection {\\n  fill: rgb(222, 246, 255);\\n}\\n\\n.la-vz-selection-edge {\\n  fill: black;\\n  stroke: black;\\n}\\n\\n.la-vz-cut-site {\\n  fill: transparent;\\n  shape-rendering: auto;\\n  stroke-width: 1;\\n  stroke: rgb(115, 119, 125);\\n}\\n\\n.la-vz-cut-site-highlight {\\n  cursor: pointer;\\n  fill: rgb(255, 251, 7);\\n  fill-opacity: 0;\\n  shape-rendering: auto;\\n  stroke-width: 1;\\n  stroke: rgb(115, 119, 125);\\n}\\n\\n.la-vz-cut-site-text {\\n  cursor: pointer;\\n  font-size: 12px;\\n}\\n\\n.la-vz-index-line {\\n  fill: transparent;\\n  shape-rendering: geometricPrecision;\\n  stroke-width: 1;\\n  stroke: rgb(115, 119, 125);\\n}\\n\\n.la-vz-index-tick {\\n  fill: transparent;\\n  shape-rendering: geometricPrecision;\\n  stroke-width: 1;\\n  stroke: rgb(115, 119, 125);\\n}\\n\\n.la-vz-index-tick-label {\\n  fill: rgb(115, 119, 125);\\n  font-weight: 300;\\n  text-rendering: optimizeLegibility;\\n}\\n\\n.la-vz-annotation {\\n  fill-opacity: 0.7;\\n  shape-rendering: geometricPrecision;\\n  stroke-width: 0.5;\\n}\\n\\n.la-vz-annotation-label {\\n  color: rgb(42, 42, 42);\\n  font-weight: 400;\\n  shape-rendering: geometricPrecision;\\n  stroke-linejoin: round;\\n  text-rendering: optimizeLegibility;\\n}\\n\\n.la-vz-translation-amino-acid-label {\\n  color: rgb(42, 42, 42);\\n  font-size: 12px;\\n  font-weight: 400;\\n}\\n\\n/* Circular Viewer */\\n.la-vz-viewer-circular {\\n  cursor: text;\\n  font-size: 12px;\\n  font-weight: 300;\\n  margin: auto;\\n}\\n\\n.la-vz-circular-label {\\n  cursor: pointer;\\n}\\n\\n.la-vz-circular-label:hover {\\n  text-decoration: underline;\\n}\\n\\n.la-vz-label-line {\\n  fill: none;\\n  stroke-width: 1;\\n  stroke: rgb(158, 170, 184);\\n}\\n\\n/* Linear Viewer */\\n.la-vz-linear-scroller {\\n  cursor: text;\\n  font-weight: 300;\\n  height: 100%;\\n  outline: none !important;\\n  overflow-x: hidden;\\n  overflow-y: scroll;\\n  padding: 10px;\\n  position: relative;\\n}\\n\\n.la-vz-seqblock-container {\\n  width: 100%;\\n}\\n\\n.la-vz-seqblock {\\n  width: 100%;\\n  padding: 0;\\n  /* this is for when very zoomed out and the bp index disappears beneath the next block */\\n  overflow: visible;\\n}\\n\\n.la-vz-scroll::-webkit-scrollbar {\\n  width: 7px;\\n}\\n\\n.la-vz-scroll::-webkit-scrollbar-thumb {\\n  background-clip: padding-box;\\n  background-color: rgb(166, 166, 166);\\n  border-radius: 7px;\\n}\\n\\n.la-vz-scroll::-webkit-scrollbar-track {\\n  border-radius: 20px;\\n}\\n\\n.la-vz-scroll::-webkit-scrollbar-track-piece {\\n  background-clip: padding-box;\\n  background-color: rgb(236, 236, 236);\\n  border-radius: 7px;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/SeqViz.css\"],\"names\":[],\"mappings\":\"AAEA,2BAA2B;AAC3B;EACE,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,4BAA4B;AAC9B;;AAEA;EACE,qBAAqB;EACrB,2CAA2C;EAC3C,iBAAiB;;EAEjB,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;AACnB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,YAAY;EACZ,kBAAkB;EAClB,WAAW;AACb;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,YAAY;EACZ,aAAa;EACb,kBAAkB;EAClB,WAAW;AACb;;AAEA;EACE,4BAA4B;AAC9B;;AAEA;EACE,6BAA6B;AAC/B;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,WAAW;EACX,aAAa;AACf;;AAEA;EACE,iBAAiB;EACjB,qBAAqB;EACrB,eAAe;EACf,0BAA0B;AAC5B;;AAEA;EACE,eAAe;EACf,sBAAsB;EACtB,eAAe;EACf,qBAAqB;EACrB,eAAe;EACf,0BAA0B;AAC5B;;AAEA;EACE,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,iBAAiB;EACjB,mCAAmC;EACnC,eAAe;EACf,0BAA0B;AAC5B;;AAEA;EACE,iBAAiB;EACjB,mCAAmC;EACnC,eAAe;EACf,0BAA0B;AAC5B;;AAEA;EACE,wBAAwB;EACxB,gBAAgB;EAChB,kCAAkC;AACpC;;AAEA;EACE,iBAAiB;EACjB,mCAAmC;EACnC,iBAAiB;AACnB;;AAEA;EACE,sBAAsB;EACtB,gBAAgB;EAChB,mCAAmC;EACnC,sBAAsB;EACtB,kCAAkC;AACpC;;AAEA;EACE,sBAAsB;EACtB,eAAe;EACf,gBAAgB;AAClB;;AAEA,oBAAoB;AACpB;EACE,YAAY;EACZ,eAAe;EACf,gBAAgB;EAChB,YAAY;AACd;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;EACE,UAAU;EACV,eAAe;EACf,0BAA0B;AAC5B;;AAEA,kBAAkB;AAClB;EACE,YAAY;EACZ,gBAAgB;EAChB,YAAY;EACZ,wBAAwB;EACxB,kBAAkB;EAClB,kBAAkB;EAClB,aAAa;EACb,kBAAkB;AACpB;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,WAAW;EACX,UAAU;EACV,wFAAwF;EACxF,iBAAiB;AACnB;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,4BAA4B;EAC5B,oCAAoC;EACpC,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,4BAA4B;EAC5B,oCAAoC;EACpC,kBAAkB;AACpB\",\"sourcesContent\":[\"@import url(\\\"https://fonts.googleapis.com/css?family=Roboto+Mono:300,400,500&display=swap\\\");\\n\\n/* Shared/common settings */\\n.la-vz-seqviz {\\n  height: 100%;\\n  width: 100%;\\n}\\n\\n.la-vz-seqviz svg {\\n  overflow: visible !important;\\n}\\n\\n.la-vz-seqviz svg text {\\n  fill: rgb(42, 42, 42);\\n  font-family: Roboto Mono, Monaco, monospace;\\n  user-select: none;\\n\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n\\n.la-vz-seqviz svg text:selection {\\n  background: none;\\n}\\n\\n.la-vz-viewer-container {\\n  height: 100%;\\n  position: relative;\\n  width: 100%;\\n}\\n\\n.la-vz-viewer-event-router {\\n  display: flex;\\n  flex-direction: row;\\n  height: 100%;\\n  outline: none;\\n  position: absolute;\\n  width: 100%;\\n}\\n\\n.la-vz-search {\\n  fill: rgba(255, 251, 7, 0.5);\\n}\\n\\n.la-vz-highlight {\\n  fill: rgba(255, 251, 7, 0.25);\\n}\\n\\n.la-vz-selection {\\n  fill: rgb(222, 246, 255);\\n}\\n\\n.la-vz-selection-edge {\\n  fill: black;\\n  stroke: black;\\n}\\n\\n.la-vz-cut-site {\\n  fill: transparent;\\n  shape-rendering: auto;\\n  stroke-width: 1;\\n  stroke: rgb(115, 119, 125);\\n}\\n\\n.la-vz-cut-site-highlight {\\n  cursor: pointer;\\n  fill: rgb(255, 251, 7);\\n  fill-opacity: 0;\\n  shape-rendering: auto;\\n  stroke-width: 1;\\n  stroke: rgb(115, 119, 125);\\n}\\n\\n.la-vz-cut-site-text {\\n  cursor: pointer;\\n  font-size: 12px;\\n}\\n\\n.la-vz-index-line {\\n  fill: transparent;\\n  shape-rendering: geometricPrecision;\\n  stroke-width: 1;\\n  stroke: rgb(115, 119, 125);\\n}\\n\\n.la-vz-index-tick {\\n  fill: transparent;\\n  shape-rendering: geometricPrecision;\\n  stroke-width: 1;\\n  stroke: rgb(115, 119, 125);\\n}\\n\\n.la-vz-index-tick-label {\\n  fill: rgb(115, 119, 125);\\n  font-weight: 300;\\n  text-rendering: optimizeLegibility;\\n}\\n\\n.la-vz-annotation {\\n  fill-opacity: 0.7;\\n  shape-rendering: geometricPrecision;\\n  stroke-width: 0.5;\\n}\\n\\n.la-vz-annotation-label {\\n  color: rgb(42, 42, 42);\\n  font-weight: 400;\\n  shape-rendering: geometricPrecision;\\n  stroke-linejoin: round;\\n  text-rendering: optimizeLegibility;\\n}\\n\\n.la-vz-translation-amino-acid-label {\\n  color: rgb(42, 42, 42);\\n  font-size: 12px;\\n  font-weight: 400;\\n}\\n\\n/* Circular Viewer */\\n.la-vz-viewer-circular {\\n  cursor: text;\\n  font-size: 12px;\\n  font-weight: 300;\\n  margin: auto;\\n}\\n\\n.la-vz-circular-label {\\n  cursor: pointer;\\n}\\n\\n.la-vz-circular-label:hover {\\n  text-decoration: underline;\\n}\\n\\n.la-vz-label-line {\\n  fill: none;\\n  stroke-width: 1;\\n  stroke: rgb(158, 170, 184);\\n}\\n\\n/* Linear Viewer */\\n.la-vz-linear-scroller {\\n  cursor: text;\\n  font-weight: 300;\\n  height: 100%;\\n  outline: none !important;\\n  overflow-x: hidden;\\n  overflow-y: scroll;\\n  padding: 10px;\\n  position: relative;\\n}\\n\\n.la-vz-seqblock-container {\\n  width: 100%;\\n}\\n\\n.la-vz-seqblock {\\n  width: 100%;\\n  padding: 0;\\n  /* this is for when very zoomed out and the bp index disappears beneath the next block */\\n  overflow: visible;\\n}\\n\\n.la-vz-scroll::-webkit-scrollbar {\\n  width: 7px;\\n}\\n\\n.la-vz-scroll::-webkit-scrollbar-thumb {\\n  background-clip: padding-box;\\n  background-color: rgb(166, 166, 166);\\n  border-radius: 7px;\\n}\\n\\n.la-vz-scroll::-webkit-scrollbar-track {\\n  border-radius: 20px;\\n}\\n\\n.la-vz-scroll::-webkit-scrollbar-track-piece {\\n  background-clip: padding-box;\\n  background-color: rgb(236, 236, 236);\\n  border-radius: 7px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nc = undefined;","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(0);\n",""],"names":[],"sourceRoot":""}